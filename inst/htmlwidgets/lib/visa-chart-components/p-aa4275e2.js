/**
 * Copyright (c) 2021 Visa, Inc.
 *
 * This source code is licensed under the MIT license
 * https://github.com/visa/visa-chart-components/blob/master/LICENSE
 *
 **/
var t,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=(function(t,r){t.exports=function(){
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var e=function(){return(e=Object.assign||function(t){for(var n,r=1,e=arguments.length;r<e;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function i(){for(var t=0,n=0,r=arguments.length;n<r;n++)t+=arguments[n].length;var e=Array(t),i=0;for(n=0;n<r;n++)for(var u=arguments[n],o=0,a=u.length;o<a;o++,i++)e[i]=u[o];return e}var u="http://www.w3.org/1999/xhtml",o={svg:"http://www.w3.org/2000/svg",xhtml:u,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function a(t){var n=t+="",r=n.indexOf(":");return r>=0&&"xmlns"!==(n=t.slice(0,r))&&(t=t.slice(r+1)),o.hasOwnProperty(n)?{space:o[n],local:t}:t}function s(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===u&&n.documentElement.namespaceURI===u?n.createElement(t):n.createElementNS(r,t)}}function c(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function f(t){var n=a(t);return(n.local?c:s)(n)}function h(){}function l(t){return null==t?h:function(){return this.querySelector(t)}}function d(){return[]}function v(t){return null==t?d:function(){return this.querySelectorAll(t)}}function p(t){return function(){return this.matches(t)}}function b(t){return new Array(t.length)}function w(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function m(t,n,r,e,i,u){for(var o,a=0,s=n.length,c=u.length;a<c;++a)(o=n[a])?(o.__data__=u[a],e[a]=o):r[a]=new w(t,u[a]);for(;a<s;++a)(o=n[a])&&(i[a]=o)}function y(t,n,r,e,i,u,o){var a,s,c,f={},h=n.length,l=u.length,d=new Array(h);for(a=0;a<h;++a)(s=n[a])&&(d[a]=c="$"+o.call(s,s.__data__,a,n),c in f?i[a]=s:f[c]=s);for(a=0;a<l;++a)(s=f[c="$"+o.call(t,u[a],a,u)])?(e[a]=s,s.__data__=u[a],f[c]=null):r[a]=new w(t,u[a]);for(a=0;a<h;++a)(s=n[a])&&f[d[a]]===s&&(i[a]=s)}function g(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function M(t){return function(){this.removeAttribute(t)}}function N(t){return function(){this.removeAttributeNS(t.space,t.local)}}function L(t,n){return function(){this.setAttribute(t,n)}}function k(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function E(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}function A(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function T(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function x(t){return function(){this.style.removeProperty(t)}}function S(t,n,r){return function(){this.style.setProperty(t,n,r)}}function O(t,n,r){return function(){var e=n.apply(this,arguments);null==e?this.style.removeProperty(t):this.style.setProperty(t,e,r)}}function I(t,n){return t.style.getPropertyValue(n)||T(t).getComputedStyle(t,null).getPropertyValue(n)}function R(t){return function(){delete this[t]}}function F(t,n){return function(){this[t]=n}}function C(t,n){return function(){var r=n.apply(this,arguments);null==r?delete this[t]:this[t]=r}}function D(t){return t.trim().split(/^|\s+/)}function H(t){return t.classList||new j(t)}function j(t){this._node=t,this._names=D(t.getAttribute("class")||"")}function U(t,n){for(var r=H(t),e=-1,i=n.length;++e<i;)r.add(n[e])}function _(t,n){for(var r=H(t),e=-1,i=n.length;++e<i;)r.remove(n[e])}function P(t){return function(){U(this,t)}}function W(t){return function(){_(this,t)}}function B(t,n){return function(){(n.apply(this,arguments)?U:_)(this,t)}}function $(){this.textContent=""}function Y(t){return function(){this.textContent=t}}function q(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function z(){this.innerHTML=""}function V(t){return function(){this.innerHTML=t}}function G(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Z(){this.nextSibling&&this.parentNode.appendChild(this)}function X(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function K(){return null}function J(){var t=this.parentNode;t&&t.removeChild(this)}function Q(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function tt(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}w.prototype={constructor:w,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},j.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var nt={},rt=null;function et(t,n,r){return t=it(t,n,r),function(n){var r=n.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||t.call(this,n)}}function it(t,n,r){return function(e){var i=rt;rt=e;try{t.call(this,this.__data__,n,r)}finally{rt=i}}}function ut(t){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}}))}function ot(t){return function(){var n=this.__on;if(n){for(var r,e=0,i=-1,u=n.length;e<u;++e)r=n[e],t.type&&r.type!==t.type||r.name!==t.name?n[++i]=r:this.removeEventListener(r.type,r.listener,r.capture);++i?n.length=i:delete this.__on}}}function at(t,n,r){var e=nt.hasOwnProperty(t.type)?et:it;return function(i,u,o){var a,s=this.__on,c=e(n,u,o);if(s)for(var f=0,h=s.length;f<h;++f)if((a=s[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=r),void(a.value=n);this.addEventListener(t.type,c,r),a={type:t.type,name:t.name,value:n,listener:c,capture:r},s?s.push(a):this.__on=[a]}}function st(t,n,r,e){var i=rt;t.sourceEvent=rt,rt=t;try{return n.apply(r,e)}finally{rt=i}}function ct(t,n,r){var e=T(t),i=e.CustomEvent;"function"==typeof i?i=new i(n,r):(i=e.document.createEvent("Event"),r?(i.initEvent(n,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function ft(t,n){return function(){return ct(this,t,n)}}function ht(t,n){return function(){return ct(this,t,n.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(nt={mouseenter:"mouseover",mouseleave:"mouseout"}));var lt=[null];function dt(t,n){this._groups=t,this._parents=n}function vt(){return new dt([[document.documentElement]],lt)}function pt(t){return"string"==typeof t?new dt([[document.querySelector(t)]],[document.documentElement]):new dt([[t]],lt)}function bt(){for(var t,n=rt;t=n.sourceEvent;)n=t;return n}function wt(t,n){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var e=r.createSVGPoint();return e.x=n.clientX,e.y=n.clientY,[(e=e.matrixTransform(t.getScreenCTM().inverse())).x,e.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function mt(t){var n=bt();return n.changedTouches&&(n=n.changedTouches[0]),wt(t,n)}function yt(t,n,r){arguments.length<3&&(r=n,n=bt().changedTouches);for(var e,i=0,u=n?n.length:0;i<u;++i)if((e=n[i]).identifier===r)return wt(t,e);return null}dt.prototype=vt.prototype={constructor:dt,select:function(t){"function"!=typeof t&&(t=l(t));for(var n=this._groups,r=n.length,e=new Array(r),i=0;i<r;++i)for(var u,o,a=n[i],s=a.length,c=e[i]=new Array(s),f=0;f<s;++f)(u=a[f])&&(o=t.call(u,u.__data__,f,a))&&("__data__"in u&&(o.__data__=u.__data__),c[f]=o);return new dt(e,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=v(t));for(var n=this._groups,r=n.length,e=[],i=[],u=0;u<r;++u)for(var o,a=n[u],s=a.length,c=0;c<s;++c)(o=a[c])&&(e.push(t.call(o,o.__data__,c,a)),i.push(o));return new dt(e,i)},filter:function(t){"function"!=typeof t&&(t=p(t));for(var n=this._groups,r=n.length,e=new Array(r),i=0;i<r;++i)for(var u,o=n[i],a=o.length,s=e[i]=[],c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&s.push(u);return new dt(e,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var r=n?y:m,e=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var u=i.length,o=new Array(u),a=new Array(u),s=new Array(u),c=0;c<u;++c){var f=e[c],h=i[c],l=h.length,d=t.call(f,f&&f.__data__,c,e),v=d.length,p=a[c]=new Array(v),b=o[c]=new Array(v);r(f,h,p,b,s[c]=new Array(l),d,n);for(var w,g,M=0,N=0;M<v;++M)if(w=p[M]){for(M>=N&&(N=M+1);!(g=b[N])&&++N<v;);w._next=g||null}}return(o=new dt(o,e))._enter=a,o._exit=s,o},enter:function(){return new dt(this._enter||this._groups.map(b),this._parents)},exit:function(){return new dt(this._exit||this._groups.map(b),this._parents)},join:function(t,n,r){var e=this.enter(),i=this,u=this.exit();return e="function"==typeof t?t(e):e.append(t+""),null!=n&&(i=n(i)),null==r?u.remove():r(u),e&&i?e.merge(i).order():i},merge:function(t){for(var n=this._groups,r=t._groups,e=n.length,i=Math.min(e,r.length),u=new Array(e),o=0;o<i;++o)for(var a,s=n[o],c=r[o],f=s.length,h=u[o]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;o<e;++o)u[o]=n[o];return new dt(u,this._parents)},order:function(){for(var t=this._groups,n=-1,r=t.length;++n<r;)for(var e,i=t[n],u=i.length-1,o=i[u];--u>=0;)(e=i[u])&&(o&&4^e.compareDocumentPosition(o)&&o.parentNode.insertBefore(e,o),o=e);return this},sort:function(t){function n(n,r){return n&&r?t(n.__data__,r.__data__):!n-!r}t||(t=g);for(var r=this._groups,e=r.length,i=new Array(e),u=0;u<e;++u){for(var o,a=r[u],s=a.length,c=i[u]=new Array(s),f=0;f<s;++f)(o=a[f])&&(c[f]=o);c.sort(n)}return new dt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var e=t[n],i=0,u=e.length;i<u;++i){var o=e[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,r=0,e=n.length;r<e;++r)for(var i,u=n[r],o=0,a=u.length;o<a;++o)(i=u[o])&&t.call(i,i.__data__,o,u);return this},attr:function(t,n){var r=a(t);if(arguments.length<2){var e=this.node();return r.local?e.getAttributeNS(r.space,r.local):e.getAttribute(r)}return this.each((null==n?r.local?N:M:"function"==typeof n?r.local?A:E:r.local?k:L)(r,n))},style:function(t,n,r){return arguments.length>1?this.each((null==n?x:"function"==typeof n?O:S)(t,n,null==r?"":r)):I(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?R:"function"==typeof n?C:F)(t,n)):this.node()[t]},classed:function(t,n){var r=D(t+"");if(arguments.length<2){for(var e=H(this.node()),i=-1,u=r.length;++i<u;)if(!e.contains(r[i]))return!1;return!0}return this.each(("function"==typeof n?B:n?P:W)(r,n))},text:function(t){return arguments.length?this.each(null==t?$:("function"==typeof t?q:Y)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?z:("function"==typeof t?G:V)(t)):this.node().innerHTML},raise:function(){return this.each(Z)},lower:function(){return this.each(X)},append:function(t){var n="function"==typeof t?t:f(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var r="function"==typeof t?t:f(t),e=null==n?K:"function"==typeof n?n:l(n);return this.select((function(){return this.insertBefore(r.apply(this,arguments),e.apply(this,arguments)||null)}))},remove:function(){return this.each(J)},clone:function(t){return this.select(t?tt:Q)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,r){var e,i,u=ut(t+""),o=u.length;if(!(arguments.length<2)){for(a=n?at:ot,null==r&&(r=!1),e=0;e<o;++e)this.each(a(u[e],n,r));return this}var a=this.node().__on;if(a)for(var s,c=0,f=a.length;c<f;++c)for(e=0,s=a[c];e<o;++e)if((i=u[e]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?ht:ft)(t,n))}};var gt,Mt,Nt,Lt,kt,Et="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{},At=function(t,n){return function(t,n){
/*!@license
         * UAParser.js v0.7.27
         * Lightweight JavaScript-based User-Agent string parser
         * https://github.com/faisalman/ua-parser-js
         *
         * Copyright © 2012-2021 Faisal Salman <f@faisalman.com>
         * Licensed under MIT License
         */
!function(r){var e="model",i="name",u="type",o="vendor",a="version",s="mobile",c="tablet",f="smarttv",h={extend:function(t,n){var r={};for(var e in t)r[e]=n[e]&&n[e].length%2==0?n[e].concat(t[e]):t[e];return r},has:function(t,n){return"string"==typeof t&&-1!==n.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return"string"==typeof t?t.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(t,n){return t=t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),void 0===n?t:t.substring(0,255)}},l={rgx:function(t,n){for(var r,e,i,u,o,a,s=0;s<n.length&&!o;){var c=n[s],f=n[s+1];for(r=e=0;r<c.length&&!o;)if(o=c[r++].exec(t))for(i=0;i<f.length;i++)a=o[++e],"object"==typeof(u=f[i])&&u.length>0?2==u.length?this[u[0]]="function"==typeof u[1]?u[1].call(this,a):u[1]:3==u.length?this[u[0]]="function"!=typeof u[1]||u[1].exec&&u[1].test?a?a.replace(u[1],u[2]):void 0:a?u[1].call(this,a,u[2]):void 0:4==u.length&&(this[u[0]]=a?u[3].call(this,a.replace(u[1],u[2])):void 0):this[u]=a||void 0;s+=2}},str:function(t,n){for(var r in n)if("object"==typeof n[r]&&n[r].length>0){for(var e=0;e<n[r].length;e++)if(h.has(n[r][e],t))return"?"===r?void 0:r}else if(h.has(n[r],t))return"?"===r?void 0:r;return t}},d={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},v={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[a,[i,"Chrome"]],[/(?:edgios|edga|edg)\/([\w\.]+)/i],[a,[i,"Edge"]],[/edge\/([\w\.]+)/i],[[a,l.str,d.browser.oldEdge.version],[i,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[i,a],[/opios[\/\s]+([\w\.]+)/i],[a,[i,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[a,[i,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|instagram)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[i,a],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[a,[i,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[a,[i,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[a,[i,"WeChat"]],[/konqueror\/([\w\.]+)/i],[a,[i,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[a,[i,"IE"]],[/yabrowser\/([\w\.]+)/i],[a,[i,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[i,/(.+)/,"$1 Secure Browser"],a],[/focus\/([\w\.]+)/i],[a,[i,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[a,[i,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[a,[i,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[a,[i,"Dolphin"]],[/coast\/([\w\.]+)/i],[a,[i,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[a,[i,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[a,[i,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[i,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[i,/(.+)/,"$1 Browser"],a],[/(comodo_dragon)\/([\w\.]+)/i],[[i,/_/g," "],a],[/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[i,a],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[i],[/;fbav\/([\w\.]+);/i],[a,[i,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[i,"Facebook"]],[/\s(electron)\/([\w\.]+)\ssafari/i,/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i],[i,a],[/\bgsa\/([\w\.]+)\s.*safari\//i],[a,[i,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[a,[i,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[i,"Chrome WebView"],a],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[a,[i,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[i,a],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[a,[i,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[a,i],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[i,[a,l.str,d.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[i,a],[/(navigator|netscape)\/([\w\.-]+)/i],[[i,"Netscape"],a],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[a,[i,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[i,a]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",h.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",h.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",h.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[e,[o,"Samsung"],[u,c]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[e,[o,"Samsung"],[u,s]],[/\((ip(?:hone|od)[\s\w]*);/i],[e,[o,"Apple"],[u,s]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[e,[o,"Apple"],[u,c]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[e,[o,"Huawei"],[u,c]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[e,[o,"Huawei"],[u,s]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[e,/_/g," "],[o,"Xiaomi"],[u,s]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[e,/_/g," "],[o,"Xiaomi"],[u,c]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[e,[o,"OPPO"],[u,s]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[e,[o,"Vivo"],[u,s]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[e,[o,"Realme"],[u,s]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[e,[o,"Motorola"],[u,s]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[e,[o,"Motorola"],[u,c]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[e,[o,"LG"],[u,c]],[/(nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[e,[o,"LG"],[u,s]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[e,[o,"Lenovo"],[u,c]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[e,[o,"Nokia"],[u,s]],[/droid.+;\s(pixel\sc)[\s)]/i],[e,[o,"Google"],[u,c]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[e,[o,"Google"],[u,s]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[e,[o,"Sony"],[u,s]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[e,"Xperia Tablet"],[o,"Sony"],[u,c]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[e,[o,"OnePlus"],[u,s]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[e,[o,"Amazon"],[u,c]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[e,"Fire Phone"],[o,"Amazon"],[u,s]],[/\((playbook);[\w\s\),;-]+(rim)/i],[e,o,[u,c]],[/\(bb10;\s(\w+)/i],[e,[o,"BlackBerry"],[u,s]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[e,[o,"ASUS"],[u,c]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[e,[o,"ASUS"],[u,s]],[/(nexus\s9)/i],[e,[o,"HTC"],[u,c]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[o,[e,/_/g," "],[u,s]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[e,[o,"Acer"],[u,c]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[e,[o,"Meizu"],[u,s]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[o,e,[u,s]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[o,e,[u,c]],[/\s(surface\sduo)\s/i],[e,[o,"Microsoft"],[u,c]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[e,[o,"Fairphone"],[u,s]],[/\s(u304aa)\sbuild/i],[e,[o,"AT&T"],[u,s]],[/sie-(\w*)/i],[e,[o,"Siemens"],[u,s]],[/[;\/]\s?(rct\w+)\sbuild/i],[e,[o,"RCA"],[u,c]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[e,[o,"Dell"],[u,c]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[e,[o,"Verizon"],[u,c]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[e,[o,"Barnes & Noble"],[u,c]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[e,[o,"NuVision"],[u,c]],[/;\s(k88)\sbuild/i],[e,[o,"ZTE"],[u,c]],[/;\s(nx\d{3}j)\sbuild/i],[e,[o,"ZTE"],[u,s]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[e,[o,"Swiss"],[u,s]],[/[;\/]\s?(zur\d{3})\sbuild/i],[e,[o,"Swiss"],[u,c]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[e,[o,"Zeki"],[u,c]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[o,"Dragon Touch"],e,[u,c]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[e,[o,"Insignia"],[u,c]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[e,[o,"NextBook"],[u,c]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[o,"Voice"],e,[u,s]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[o,"LvTel"],e,[u,s]],[/;\s(ph-1)\s/i],[e,[o,"Essential"],[u,s]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[e,[o,"Envizen"],[u,c]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[e,[o,"MachSpeed"],[u,c]],[/[;\/]\s?tu_(1491)\sbuild/i],[e,[o,"Rotor"],[u,c]],[/(shield[\w\s]+)\sbuild/i],[e,[o,"Nvidia"],[u,c]],[/(sprint)\s(\w+)/i],[o,e,[u,s]],[/(kin\.[onetw]{3})/i],[[e,/\./g," "],[o,"Microsoft"],[u,s]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[e,[o,"Zebra"],[u,c]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[e,[o,"Zebra"],[u,s]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[o,e,[u,"console"]],[/droid.+;\s(shield)\sbuild/i],[e,[o,"Nvidia"],[u,"console"]],[/(playstation\s[345portablevi]+)/i],[e,[o,"Sony"],[u,"console"]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[e,[o,"Microsoft"],[u,"console"]],[/smart-tv.+(samsung)/i],[o,[u,f]],[/hbbtv.+maple;(\d+)/i],[[e,/^/,"SmartTV"],[o,"Samsung"],[u,f]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[o,"LG"],[u,f]],[/(apple)\s?tv/i],[o,[e,"Apple TV"],[u,f]],[/crkey/i],[[e,"Chromecast"],[o,"Google"],[u,f]],[/droid.+aft([\w])(\sbuild\/|\))/i],[e,[o,"Amazon"],[u,f]],[/\(dtv[\);].+(aquos)/i],[e,[o,"Sharp"],[u,f]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[o,h.trim],[e,h.trim],[u,f]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[u,f]],[/((pebble))app\/[\d\.]+\s/i],[o,e,[u,"wearable"]],[/droid.+;\s(glass)\s\d/i],[e,[o,"Google"],[u,"wearable"]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[e,[o,"Zebra"],[u,"wearable"]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[e,[u,s]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[e,[u,c]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,h.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[e,[o,"Generic"]],[/(phone)/i],[[u,s]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[a,[i,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[a,[i,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[i,a],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[a,i]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[i,a],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[i,[a,l.str,d.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[i,"Windows"],[a,l.str,d.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[a,/_/g,"."],[i,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[i,"Mac OS"],[a,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[i,a],[/\(bb(10);/i],[a,[i,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[a,[i,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[i,"Firefox OS"]],[/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[a,[i,"webOS"]],[/crkey\/([\d\.]+)/i],[a,[i,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[i,"Chromium OS"],a],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[i,a],[/(sunos)\s?([\w\.\d]*)/i],[[i,"Solaris"],a],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[i,a]]},p=function(t,n){if("object"==typeof t&&(n=t,t=void 0),!(this instanceof p))return new p(t,n).getResult();var e=t||(void 0!==r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),i=n?h.extend(v,n):v;return this.getBrowser=function(){var t={name:void 0,version:void 0};return l.rgx.call(t,e,i.browser),t.major=h.major(t.version),t},this.getCPU=function(){var t={architecture:void 0};return l.rgx.call(t,e,i.cpu),t},this.getDevice=function(){var t={vendor:void 0,model:void 0,type:void 0};return l.rgx.call(t,e,i.device),t},this.getEngine=function(){var t={name:void 0,version:void 0};return l.rgx.call(t,e,i.engine),t},this.getOS=function(){var t={name:void 0,version:void 0};return l.rgx.call(t,e,i.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return e},this.setUA=function(t){return e="string"==typeof t&&t.length>255?h.trim(t,255):t,this},this.setUA(e),this};p.VERSION="0.7.27",p.BROWSER={NAME:i,MAJOR:"major",VERSION:a},p.CPU={ARCHITECTURE:"architecture"},p.DEVICE={MODEL:e,VENDOR:o,TYPE:u,CONSOLE:"console",MOBILE:s,SMARTTV:f,TABLET:c,WEARABLE:"wearable",EMBEDDED:"embedded"},p.ENGINE={NAME:i,VERSION:a},p.OS={NAME:i,VERSION:a},t.exports&&(n=t.exports=p),n.UAParser=p;var b=void 0!==r&&(r.jQuery||r.Zepto);if(b&&!b.ua){var w=new p;b.ua=w.getResult(),b.ua.get=function(){return w.getUA()},b.ua.set=function(t){w.setUA(t);var n=w.getResult();for(var r in n)b.ua[r]=n[r]}}}("object"==typeof window?window:Et)}(n={exports:{}},n.exports),n.exports}()(window.navigator.userAgent),Tt=function(){return At.browser.name},xt=Tt(),St="IE"===xt,Ot="Edge"===xt,It="Safari"===xt,Rt=function(t){t.setAttribute("role","tooltip"),t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",null)},Ft=function(t,n){Ct(t),Ct(t.parentNode,!0),pt(t).classed("vcl-svg",!0),(St||Ot)&&jt(null,n)},Ct=function(t,n){pt(t).attr("aria-hidden","true").attr("role","presentation").attr("focusable",n?null:"false").attr("tabindex",null)},Dt=function(t){var n=window.location.pathname;return"/"===n[n.length-1]&&(n=n.substring(0,n.length-1)),(It?"url("+window.location.protocol+"//"+window.location.host+n+"#":"url(#")+(t?t+")":"")},Ht=function(t,n){pt(t).classed("vcl-svg",!0);var r=pt(t).select(".vcl-inversion-filter");if(!r.size()){var e=pt(t).select("defs");e.size()||(e=pt(t).append("defs")),(r=e.append("filter").attr("class","vcl-inversion-filter").attr("color-interpolation-filters","sRGB")).append("feColorMatrix").attr("in","SourceGraphic").attr("type","matrix").attr("values","-1 0 0 0 1 \n        0 -1 0 0 1 \n        0 0 -1 0 1\n        0 0 0 1 0"),r.append("feColorMatrix").attr("type","hueRotate").attr("values","180")}r.attr("id","inversion-"+n);var i=function(t){jt(t,n)};(St||Ot)&&(matchMedia("(-ms-high-contrast: active)").addListener(i),matchMedia("(-ms-high-contrast: black-on-white)").addListener((function(){jt(null,n)})),i(matchMedia("(-ms-high-contrast: active)")))},jt=function(t,n){if((t||matchMedia("(-ms-high-contrast: active)")).matches&&!matchMedia("(-ms-high-contrast: black-on-white)").matches){var r=Dt("inversion-"+n);pt("#"+n).selectAll(".vcl-svg").select("g").attr("filter",r)}else pt("#"+n).selectAll(".vcl-svg").select("g").attr("filter",null)},Ut={},_t={},Pt={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},Wt={currentLocale:Pt.currentLocale,zeroFormat:Pt.zeroFormat,nullFormat:Pt.nullFormat,defaultFormat:Pt.defaultFormat,scalePercentBy100:Pt.scalePercentBy100};function Bt(t,n){this._input=t,this._value=n}(gt=function(t){var n,r,e,i;if(gt.isNumeral(t))n=t.value();else if(0===t||void 0===t)n=0;else if(null===t||Mt.isNaN(t))n=null;else if("string"==typeof t)if(Wt.zeroFormat&&t===Wt.zeroFormat)n=0;else if(Wt.nullFormat&&t===Wt.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(r in Ut)if((i="function"==typeof Ut[r].regexps.unformat?Ut[r].regexps.unformat():Ut[r].regexps.unformat)&&t.match(i)){e=Ut[r].unformat;break}n=(e=e||gt._.stringToNumber)(t)}else n=Number(t)||null;return new Bt(t,n)}).version="2.0.6",gt.isNumeral=function(t){return t instanceof Bt},gt._=Mt={numberToFormat:function(t,n,r){var e,i,u,o,a,s,c,f,h=_t[gt.options.currentLocale],l=!1,d=!1,v="",p="",b=!1;if(t=t||0,u=Math.abs(t),gt._.includes(n,"(")?(l=!0,n=n.replace(/[\(|\)]/g,"")):(gt._.includes(n,"+")||gt._.includes(n,"-"))&&(s=gt._.includes(n,"+")?n.indexOf("+"):t<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),gt._.includes(n,"a")&&(i=!!(i=n.match(/a(k|m|b|t)?/))&&i[1],gt._.includes(n," a")&&(v=" "),n=n.replace(new RegExp(v+"a[kmbt]?"),""),u>=1e12&&!i||"t"===i?(v+=h.abbreviations.trillion,t/=1e12):u<1e12&&u>=1e9&&!i||"b"===i?(v+=h.abbreviations.billion,t/=1e9):u<1e9&&u>=1e6&&!i||"m"===i?(v+=h.abbreviations.million,t/=1e6):(u<1e6&&u>=1e3&&!i||"k"===i)&&(v+=h.abbreviations.thousand,t/=1e3)),gt._.includes(n,"[.]")&&(d=!0,n=n.replace("[.]",".")),o=t.toString().split(".")[0],a=n.split(".")[1],c=n.indexOf(","),e=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,a?(gt._.includes(a,"[")?(a=(a=a.replace("]","")).split("["),p=gt._.toFixed(t,a[0].length+a[1].length,r,a[1].length)):p=gt._.toFixed(t,a.length,r),o=p.split(".")[0],p=gt._.includes(p,".")?h.delimiters.decimal+p.split(".")[1]:"",d&&0===Number(p.slice(1))&&(p="")):o=gt._.toFixed(t,0,r),v&&!i&&Number(o)>=1e3&&v!==h.abbreviations.trillion)switch(o=String(Number(o)/1e3),v){case h.abbreviations.thousand:v=h.abbreviations.million;break;case h.abbreviations.million:v=h.abbreviations.billion;break;case h.abbreviations.billion:v=h.abbreviations.trillion}if(gt._.includes(o,"-")&&(o=o.slice(1),b=!0),o.length<e)for(var w=e-o.length;w>0;w--)o="0"+o;return c>-1&&(o=o.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h.delimiters.thousands)),0===n.indexOf(".")&&(o=""),f=o+p+(v||""),l?f=(l&&b?"(":"")+f+(l&&b?")":""):s>=0?f=0===s?(b?"-":"+")+f:f+(b?"-":"+"):b&&(f="-"+f),f},stringToNumber:function(t){var n,r,e,i=_t[Wt.currentLocale],u=t,o={thousand:3,million:6,billion:9,trillion:12};if(Wt.zeroFormat&&t===Wt.zeroFormat)r=0;else if(Wt.nullFormat&&t===Wt.nullFormat||!t.replace(/[^0-9]+/g,"").length)r=null;else{for(n in r=1,"."!==i.delimiters.decimal&&(t=t.replace(/\./g,"").replace(i.delimiters.decimal,".")),o)if(e=new RegExp("[^a-zA-Z]"+i.abbreviations[n]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),u.match(e)){r*=Math.pow(10,o[n]);break}r*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),r*=Number(t)}return r},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,n){return-1!==t.indexOf(n)},insert:function(t,n,r){return t.slice(0,r)+n+t.slice(r)},reduce:function(t,n){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof n)throw new TypeError(n+" is not a function");var r,e=Object(t),i=e.length>>>0,u=0;if(3===arguments.length)r=arguments[2];else{for(;u<i&&!(u in e);)u++;if(u>=i)throw new TypeError("Reduce of empty array with no initial value");r=e[u++]}for(;u<i;u++)u in e&&(r=n(r,e[u],u,e));return r},multiplier:function(t){var n=t.toString().split(".");return n.length<2?1:Math.pow(10,n[1].length)},correctionFactor:function(){var t=Array.prototype.slice.call(arguments);return t.reduce((function(t,n){var r=Mt.multiplier(n);return t>r?t:r}),1)},toFixed:function(t,n,r,e){var i,u,o,a,s=t.toString().split("."),c=n-(e||0);return i=2===s.length?Math.min(Math.max(s[1].length,c),n):c,o=Math.pow(10,i),a=(r(t+"e+"+i)/o).toFixed(i),e>n-i&&(u=new RegExp("\\.?0{1,"+(e-(n-i))+"}$"),a=a.replace(u,"")),a}},gt.options=Wt,gt.formats=Ut,gt.locales=_t,gt.locale=function(t){return t&&(Wt.currentLocale=t.toLowerCase()),Wt.currentLocale},gt.localeData=function(t){if(!t)return _t[Wt.currentLocale];if(t=t.toLowerCase(),!_t[t])throw new Error("Unknown locale : "+t);return _t[t]},gt.reset=function(){for(var t in Pt)Wt[t]=Pt[t]},gt.zeroFormat=function(t){Wt.zeroFormat="string"==typeof t?t:null},gt.nullFormat=function(t){Wt.nullFormat="string"==typeof t?t:null},gt.defaultFormat=function(t){Wt.defaultFormat="string"==typeof t?t:"0.0"},gt.register=function(t,n,r){if(n=n.toLowerCase(),this[t+"s"][n])throw new TypeError(n+" "+t+" already registered.");return this[t+"s"][n]=r,r},gt.validate=function(t,n){var r,e,i,u,o,a,s,c;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{s=gt.localeData(n)}catch(f){s=gt.localeData(gt.locale())}return i=s.currency.symbol,o=s.abbreviations,r=s.delimiters.decimal,e="."===s.delimiters.thousands?"\\.":s.delimiters.thousands,!(null!==(c=t.match(/^[^\d]+/))&&(t=t.substr(1),c[0]!==i)||null!==(c=t.match(/[^\d]+$/))&&(t=t.slice(0,-1),c[0]!==o.thousand&&c[0]!==o.million&&c[0]!==o.billion&&c[0]!==o.trillion)||(a=new RegExp(e+"{2}"),t.match(/[^\d.,]/g)||(u=t.split(r)).length>2||(u.length<2?!u[0].match(/^\d+.*\d$/)||u[0].match(a):1===u[0].length?!u[0].match(/^\d+$/)||u[0].match(a)||!u[1].match(/^\d+$/):!u[0].match(/^\d+.*\d$/)||u[0].match(a)||!u[1].match(/^\d+$/))))},gt.fn=Bt.prototype={clone:function(){return gt(this)},format:function(t,n){var r,e,i,u=this._value,o=t||Wt.defaultFormat;if(n=n||Math.round,0===u&&null!==Wt.zeroFormat)e=Wt.zeroFormat;else if(null===u&&null!==Wt.nullFormat)e=Wt.nullFormat;else{for(r in Ut)if(o.match(Ut[r].regexps.format)){i=Ut[r].format;break}e=(i=i||gt._.numberToFormat)(u,o,n)}return e},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var n=Mt.correctionFactor.call(null,this._value,t);return this._value=Mt.reduce([this._value,t],(function(t,r){return t+Math.round(n*r)}),0)/n,this},subtract:function(t){var n=Mt.correctionFactor.call(null,this._value,t);return this._value=Mt.reduce([t],(function(t,r){return t-Math.round(n*r)}),Math.round(this._value*n))/n,this},multiply:function(t){return this._value=Mt.reduce([this._value,t],(function(t,n){var r=Mt.correctionFactor(t,n);return Math.round(t*r)*Math.round(n*r)/Math.round(r*r)}),1),this},divide:function(t){return this._value=Mt.reduce([this._value,t],(function(t,n){var r=Mt.correctionFactor(t,n);return Math.round(t*r)/Math.round(n*r)})),this},difference:function(t){return Math.abs(gt(this._value).subtract(t).value())}},gt.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var n=t%10;return 1==~~(t%100/10)?"th":1===n?"st":2===n?"nd":3===n?"rd":"th"},currency:{symbol:"$"}}),gt.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,n,r){var e,i=gt._.includes(n," BPS")?" ":"";return t*=1e4,n=n.replace(/\s?BPS/,""),e=gt._.numberToFormat(t,n,r),gt._.includes(e,")")?((e=e.split("")).splice(-1,0,i+"BPS"),e=e.join("")):e=e+i+"BPS",e},unformat:function(t){return+(1e-4*gt._.stringToNumber(t)).toFixed(15)}}),kt="("+(kt=(Nt={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat((Lt={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]}).suffixes.filter((function(t){return Nt.suffixes.indexOf(t)<0}))).join("|")).replace("B","B(?!PS)")+")",gt.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(kt)},format:function(t,n,r){var e,i,u,o=gt._.includes(n,"ib")?Lt:Nt,a=gt._.includes(n," b")||gt._.includes(n," ib")?" ":"";for(n=n.replace(/\s?i?b/,""),e=0;e<=o.suffixes.length;e++)if(i=Math.pow(o.base,e),u=Math.pow(o.base,e+1),null===t||0===t||t>=i&&t<u){a+=o.suffixes[e],i>0&&(t/=i);break}return gt._.numberToFormat(t,n,r)+a},unformat:function(t){var n,r,e=gt._.stringToNumber(t);if(e){for(n=Nt.suffixes.length-1;n>=0;n--){if(gt._.includes(t,Nt.suffixes[n])){r=Math.pow(Nt.base,n);break}if(gt._.includes(t,Lt.suffixes[n])){r=Math.pow(Lt.base,n);break}}e*=r||1}return e}}),gt.register("format","currency",{regexps:{format:/(\$)/},format:function(t,n,r){var e,i,u=gt.locales[gt.options.currentLocale],o={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),e=gt._.numberToFormat(t,n,r),t>=0?(o.before=o.before.replace(/[\-\(]/,""),o.after=o.after.replace(/[\-\)]/,"")):t<0&&!gt._.includes(o.before,"-")&&!gt._.includes(o.before,"(")&&(o.before="-"+o.before),i=0;i<o.before.length;i++)switch(o.before[i]){case"$":e=gt._.insert(e,u.currency.symbol,i);break;case" ":e=gt._.insert(e," ",i+u.currency.symbol.length-1)}for(i=o.after.length-1;i>=0;i--)switch(o.after[i]){case"$":e=i===o.after.length-1?e+u.currency.symbol:gt._.insert(e,u.currency.symbol,-(o.after.length-(1+i)));break;case" ":e=i===o.after.length-1?e+" ":gt._.insert(e," ",-(o.after.length-(1+i)+u.currency.symbol.length-1))}return e}}),gt.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,n,r){var e=("number"!=typeof t||gt._.isNaN(t)?"0e+0":t.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),gt._.numberToFormat(Number(e[0]),n,r)+"e"+e[1]},unformat:function(t){var n=gt._.includes(t,"e+")?t.split("e+"):t.split("e-"),r=Number(n[0]),e=Number(n[1]);return e=gt._.includes(t,"e-")?e*=-1:e,gt._.reduce([r,Math.pow(10,e)],(function(t,n){var r=gt._.correctionFactor(t,n);return t*r*(n*r)/(r*r)}),1)}}),gt.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,n,r){var e=gt.locales[gt.options.currentLocale],i=gt._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),i+=e.ordinal(t),gt._.numberToFormat(t,n,r)+i}}),gt.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,n,r){var e,i=gt._.includes(n," %")?" ":"";return gt.options.scalePercentBy100&&(t*=100),n=n.replace(/\s?\%/,""),e=gt._.numberToFormat(t,n,r),gt._.includes(e,")")?((e=e.split("")).splice(-1,0,i+"%"),e=e.join("")):e=e+i+"%",e},unformat:function(t){var n=gt._.stringToNumber(t);return gt.options.scalePercentBy100?.01*n:n}}),gt.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t){var n=Math.floor(t/60/60),r=Math.floor((t-60*n*60)/60),e=Math.round(t-60*n*60-60*r);return n+":"+(r<10?"0"+r:r)+":"+(e<10?"0"+e:e)},unformat:function(t){var n=t.split(":"),r=0;return 3===n.length?(r+=60*Number(n[0])*60,r+=60*Number(n[1]),r+=Number(n[2])):2===n.length&&(r+=60*Number(n[0]),r+=Number(n[1])),Number(r)}});var $t=gt;function Yt(t,n){return void 0===t&&(t="0"),void 0===n&&(n="(0.00a)"),$t(t).format(n)}function qt(t,n){var r=Math.pow(10,n||0);return Math.round((t+Number.EPSILON)*r)/r}function zt(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Vt=Math.PI,Gt=2*Vt,Zt=Gt-1e-6;function Xt(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Kt(){return new Xt}function Jt(t){return function(){return t}}Xt.prototype=Kt.prototype={constructor:Xt,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,r,e){this._+="Q"+ +t+","+ +n+","+(this._x1=+r)+","+(this._y1=+e)},bezierCurveTo:function(t,n,r,e,i,u){this._+="C"+ +t+","+ +n+","+ +r+","+ +e+","+(this._x1=+i)+","+(this._y1=+u)},arcTo:function(t,n,r,e,i){var u=this._x1,o=this._y1,a=(r=+r)-(t=+t),s=(e=+e)-(n=+n),c=u-t,f=o-n,h=c*c+f*f;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>1e-6)if(Math.abs(f*a-s*c)>1e-6&&i){var l=r-u,d=e-o,v=a*a+s*s,p=l*l+d*d,b=Math.sqrt(v),w=Math.sqrt(h),m=i*Math.tan((Vt-Math.acos((v+h-p)/(2*b*w)))/2),y=m/w,g=m/b;Math.abs(y-1)>1e-6&&(this._+="L"+(t+y*c)+","+(n+y*f)),this._+="A"+i+","+i+",0,0,"+ +(f*l>c*d)+","+(this._x1=t+g*a)+","+(this._y1=n+g*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n)},arc:function(t,n,r,e,i,u){t=+t,n=+n,u=!!u;var o=(r=+r)*Math.cos(e),a=r*Math.sin(e),s=t+o,c=n+a,f=1^u,h=u?e-i:i-e;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+s+","+c),r&&(h<0&&(h=h%Gt+Gt),h>Zt?this._+="A"+r+","+r+",0,1,"+f+","+(t-o)+","+(n-a)+"A"+r+","+r+",0,1,"+f+","+(this._x1=s)+","+(this._y1=c):h>1e-6&&(this._+="A"+r+","+r+",0,"+ +(h>=Vt)+","+f+","+(this._x1=t+r*Math.cos(i))+","+(this._y1=n+r*Math.sin(i))))},rect:function(t,n,r,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +r+"v"+ +e+"h"+-r+"Z"},toString:function(){return this._}};var Qt=Math.PI,tn=2*Qt;function nn(t){return t[0]}function rn(t){return t[1]}var en=Array.prototype.slice;function un(t){return t.source}function on(t){return t.target}function an(t,n,r,e,i){t.moveTo(n,r),t.bezierCurveTo(n=(n+e)/2,r,n,i,e,i)}var sn={draw:function(t,n){var r=Math.sqrt(n/Qt);t.moveTo(r,0),t.arc(0,0,r,0,tn)}},cn={draw:function(t,n){var r=Math.sqrt(n/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},fn=Math.sqrt(1/3),hn=2*fn,ln={draw:function(t,n){var r=Math.sqrt(n/hn),e=r*fn;t.moveTo(0,-r),t.lineTo(e,0),t.lineTo(0,r),t.lineTo(-e,0),t.closePath()}},dn=Math.sin(Qt/10)/Math.sin(7*Qt/10),vn=Math.sin(tn/10)*dn,pn=-Math.cos(tn/10)*dn,bn={draw:function(t,n){var r=Math.sqrt(.8908130915292852*n),e=vn*r,i=pn*r;t.moveTo(0,-r),t.lineTo(e,i);for(var u=1;u<5;++u){var o=tn*u/5,a=Math.cos(o),s=Math.sin(o);t.lineTo(s*r,-a*r),t.lineTo(a*e-s*i,s*e+a*i)}t.closePath()}},wn={draw:function(t,n){var r=Math.sqrt(n),e=-r/2;t.rect(e,e,r,r)}},mn=Math.sqrt(3),yn={draw:function(t,n){var r=-Math.sqrt(n/(3*mn));t.moveTo(0,2*r),t.lineTo(-mn*r,-r),t.lineTo(mn*r,-r),t.closePath()}};function gn(t){return t<0?-1:1}function Mn(t,n,r){var e=t._x1-t._x0,i=n-t._x1,u=(t._y1-t._y0)/(e||i<0&&-0),o=(r-t._y1)/(i||e<0&&-0),a=(u*i+o*e)/(e+i);return(gn(u)+gn(o))*Math.min(Math.abs(u),Math.abs(o),.5*Math.abs(a))||0}function Nn(t,n){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-n)/2:n}function Ln(t,n,r){var e=t._x0,i=t._x1,u=t._y1,o=(i-e)/3;t._context.bezierCurveTo(e+o,t._y0+o*n,i-o,u-o*r,i,u)}function kn(t){this._context=t}function En(t){this._context=t}function An(t,n,r,e){var i=r?1:1.1,u=document.createElement("canvas").getContext("2d");return u.font=n+"px "+(e||"OpenSans"),u.measureText(t).width*i}kn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ln(this,this._t0,Nn(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var r=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Ln(this,Nn(this,r=Mn(this,t,n)),r);break;default:Ln(this,this._t0,r=Mn(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=r}}},(function(t){this._context=new En(t)}.prototype=Object.create(kn.prototype)).point=function(t,n){kn.prototype.point.call(this,n,t)},En.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,r,e,i,u){this._context.bezierCurveTo(n,t,e,r,u,i)}};var Tn=function(t){for(var n=t.width,r=t.fontSize,e=t.noPadding,i=t.wholeWords,u=t.text.split(/\s+/).reverse(),o=[],a=0,s=u.pop();s;){var c=o[a];c||(o.push([]),c=o[a]),c.push(s);var f=An(c.join(" "),r);if(1===c.length&&f>n){if(i)s=u.pop();else{var h=xn(s,n,r,e);c.pop(),c.push(h[0]+(h[1]?"-":"")),s=h[1]?h[1]:u.pop()}o[a]=c.join(" "),a++}else f>n?(c.pop(),o[a]=c.join(" "),a++):(s=u.pop())||(o[a]=c.join(" "))}return o},xn=function(t,n,r,e){if(t.length<=1)return[t,""];for(var i=t.length-1,u=t.substring(0,i),o=t.substring(i);An(u+"-",r,e)>n&&i>1;)i--,u=t.substring(0,i),o=t.substring(i);return[u,o]},Sn={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},On=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/],In=Math.PI/180,Rn=Math.PI/2,Fn=2*Math.PI,Cn={},Dn={},Hn=[].join;function jn(t){var n=Hn.call(t);if(Dn[n])return Dn[n];var r=t[0],e=t[1],i=t[2],u=t[3],o=t[4],a=t[5],s=t[6],c=t[7],f=c*o,h=-s*a,l=s*o,d=c*a,v=Math.cos(i),p=Math.sin(i),b=Math.cos(u),w=Math.sin(u),m=.5*(u-i),y=Math.sin(.5*m),g=8/3*y*y/Math.sin(m),M=r+v-g*p,N=e+p+g*v,L=r+b,k=e+w,E=L+g*w,A=k-g*b;return Dn[n]=[f*M+h*N,l*M+d*N,f*E+h*A,l*E+d*A,f*L+h*k,l*L+d*k]}var Un=["l",0,0,0,0,0,0,0];function _n(t,n,r){var e=Un[0]=t[0];if("a"===e||"A"===e)Un[1]=n*t[1],Un[2]=r*t[2],Un[3]=t[3],Un[4]=t[4],Un[5]=t[5],Un[6]=n*t[6],Un[7]=r*t[7];else if("h"===e||"H"===e)Un[1]=n*t[1];else if("v"===e||"V"===e)Un[1]=r*t[1];else for(var i=1,u=t.length;i<u;++i)Un[i]=(i%2==1?n:r)*t[i];return Un}function Pn(t,n,r,e){for(var i=function(t,n,r,e,i,u,o,a,s){var c=Hn.call(arguments);if(Cn[c])return Cn[c];var f=o*In,h=Math.sin(f),l=Math.cos(f),d=l*(a-t)*.5+h*(s-n)*.5,v=l*(s-n)*.5-h*(a-t)*.5,p=d*d/((r=Math.abs(r))*r)+v*v/((e=Math.abs(e))*e);p>1&&(r*=p=Math.sqrt(p),e*=p);var b=l/r,w=h/r,m=-h/e,y=l/e,g=b*a+w*s,M=m*a+y*s,N=b*t+w*n,L=m*t+y*n,k=(N-g)*(N-g)+(L-M)*(L-M),E=1/k-.25;E<0&&(E=0);var A=Math.sqrt(E);u==i&&(A=-A);var T=.5*(g+N)-A*(L-M),x=.5*(M+L)+A*(N-g),S=Math.atan2(M-x,g-T),O=Math.atan2(L-x,N-T),I=O-S;I<0&&1===u?I+=Fn:I>0&&0===u&&(I-=Fn);for(var R=Math.ceil(Math.abs(I/(Rn+.001))),F=[],C=0;C<R;++C){var D=S+C*I/R,H=S+(C+1)*I/R;F[C]=[T,x,D,H,r,e,h,l]}return Cn[c]=F}(e[5],e[6],e[0],e[1],e[3],e[4],e[2],n,r),u=0;u<i.length;++u){var o=jn(i[u]);t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}var Wn=new Uint32Array(33),Bn=new Uint32Array(33);Bn[0]=0,Wn[0]=~Bn[0];for(var $n=1;$n<=32;$n++)Bn[$n]=Bn[$n-1]<<1|1,Wn[$n]=~Bn[$n];function Yn(t,n,r){t[n]|=r}function qn(t,n,r){t[n]&=r}var zn=function(){function t(t,n,r){this.pixelRatio=Math.sqrt(t*n/1e6),this.pixelRatio<1&&(this.pixelRatio=1),this.padding=r,this.width=~~((t+2*r+this.pixelRatio)/this.pixelRatio),this.height=~~((n+2*r+this.pixelRatio)/this.pixelRatio),this.array=new Uint32Array(~~((this.width*this.height+32)/32))}return t.prototype.getPixelRatio=function(){return this.pixelRatio},t.prototype.scalePixel=function(t){return~~((t+this.padding)/this.pixelRatio)},t.prototype.markScaled=function(t,n){var r=n*this.width+t;Yn(this.array,r>>>5,1<<(31&r))},t.prototype.mark=function(t,n){this.markScaled(this.scalePixel(t),this.scalePixel(n))},t.prototype.unmarkScaled=function(t,n){var r=n*this.width+t;qn(this.array,r>>>5,~(1<<(31&r)))},t.prototype.unmark=function(t,n){this.unmarkScaled(this.scalePixel(t),this.scalePixel(n))},t.prototype.getScaled=function(t,n){var r=n*this.width+t;return this.array[r>>>5]&1<<(31&r)},t.prototype.get=function(t,n){return this.getScaled(this.scalePixel(t),this.scalePixel(n))},t.prototype.markInRangeScaled=function(t,n,r,e){for(var i,u,o,a;n<=e;n++)if((o=(i=n*this.width+t)>>>5)==(a=(u=n*this.width+r)>>>5))Yn(this.array,o,Wn[31&i]&Bn[1+(31&u)]);else{Yn(this.array,o,Wn[31&i]),Yn(this.array,a,Bn[1+(31&u)]);for(var s=o+1;s<a;s++)Yn(this.array,s,4294967295)}},t.prototype.markInRange=function(t,n,r,e){return this.markInRangeScaled(this.scalePixel(t),this.scalePixel(n),this.scalePixel(r),this.scalePixel(e))},t.prototype.unmarkInRangeScaled=function(t,n,r,e){for(var i,u,o,a;n<=e;n++)if((o=(i=n*this.width+t)>>>5)==(a=(u=n*this.width+r)>>>5))qn(this.array,o,Bn[31&i]|Wn[1+(31&u)]);else{qn(this.array,o,Bn[31&i]),qn(this.array,a,Wn[1+(31&u)]);for(var s=o+1;s<a;s++)qn(this.array,s,0)}},t.prototype.unmarkInRange=function(t,n,r,e){return this.unmarkInRangeScaled(this.scalePixel(t),this.scalePixel(n),this.scalePixel(r),this.scalePixel(e))},t.prototype.getInRangeScaled=function(t,n,r,e){for(var i,u,o,a;n<=e;n++)if((o=(i=n*this.width+t)>>>5)==(a=(u=n*this.width+r)>>>5)){if(this.array[o]&Wn[31&i]&Bn[1+(31&u)])return!0}else{if(this.array[o]&Wn[31&i])return!0;if(this.array[a]&Bn[1+(31&u)])return!0;for(var s=o+1;s<a;s++)if(this.array[s])return!0}return!1},t.prototype.getInRange=function(t,n,r,e){return this.getInRangeScaled(this.scalePixel(t),this.scalePixel(n),this.scalePixel(r),this.scalePixel(e))},t.prototype.searchOutOfBound=function(t,n,r,e){return t<0||n<0||e>=this.height||r>=this.width},t}();function Vn(t,n,r,e,i,u,o){var a=n[0],s=n[1],c=t.length;if(i.length)return function(t,n,r,e,i,u){var o,a,s,c=new zn(n,r,u),f=!!e&&new zn(n,r,u),h=t.getImageData(0,0,n,r),l=new Uint32Array(h.data.buffer);for(a=0;a<r;a++)for(o=0;o<n;o++)(s=4278190080&l[a*n+o])&&(c.mark(o,a),e&&268435456^s&&f.mark(o,a));return[c,f]}(Zn(i,a,s,u||!1),a,s,u,0,o);var f=new zn(a,s,o);if(e)for(var h=0;h<c;h++){var l=t[h];f.mark(l.markBound[0],l.markBound[3])}return[f,void 0]}function Gn(t,n,r,e,i,u,o){var a=r[0],s=r[1],c=n.length;if(u.length)return function(t,n,r,e,i){var u,o,a,s=t.getImageData(0,0,r,e),c=new Uint32Array(s.data.buffer);for(o=0;o<e;o++)for(u=0;u<r;u++)(a=4278190080&c[o*r+u])&&(n[0].mark(u,o),i&&268435456^a&&n[1].mark(u,o));return n}(Zn(u,a,s,o||!1),t,a,s,o);if(i)for(var f=0;f<c;f++){var h=n[f];t[0].mark(h.markBound[0],h.markBound[3])}return t}function Zn(t,n,r,e){var i,u=t.length,o=document.createElement("canvas"),a=o.getContext("2d");o.setAttribute("width",n),o.setAttribute("height",r);for(var s=0;s<u;s++)(i=t[s]).length&&("group"!==i[0].nodeName?Xn(a,i,e):Kn(a,i,e));return a}function Xn(t,n,r){var e,i=n.length;if(r){e=new Array(i);for(var u=0;u<i;u++)e[u]=Jn(n[u])}else e=n;e.forEach((function(n){return function(t,n){var r=+n["data-translate-x"]?+n["data-translate-x"]:0,e=+n["data-translate-y"]?+n["data-translate-y"]:0,i="true"===n["data-use-dx"]&&+n.dx?+n.dx:0,u="true"===n["data-use-dy"]&&+n.dy?+n.dy:0;if(t.beginPath(),"rect"===n.nodeName)t.rect(+n["data-x"]+r,+n["data-y"]+e,+n["data-width"],+n["data-height"]),t.stroke(),n["data-fill"]&&"true"===n["data-fill"]&&t.fill();else if("text"===n.nodeName)t.rect(+n["data-x"]+r-(n["text-anchor"]&&n["text-anchor"]&&"start"!==n["text-anchor"]?"middle"===n["text-anchor"]?n["data-width"]/2:n["data-width"]:0)+i,+n["data-y"]+e+0+u,+n["data-width"],+n["data-height"]),t.stroke(),n["data-fill"]&&"true"===n["data-fill"]&&t.fill();else if("circle"===n.nodeName)t.arc(+n["data-cx"]+r,+n["data-cy"]+e,+n["data-r"],0,2*Math.PI),t.stroke(),n["data-fill"]&&"true"===n["data-fill"]&&t.fill();else if("line"===n.nodeName)t.moveTo(+n["data-x1"]+r,+n["data-y1"]+e),t.lineTo(+n["data-x2"]+r,+n["data-y2"]+e),t.stroke();else if("path"===n.nodeName){var o=function(t){var n,r,e,i,u,o,a,s,c,f,h=[],l=t.slice().replace(On[0],"###$1").split(On[1]).slice(1);for(a=0,c=l.length;a<c;++a){for(r=(n=l[a]).slice(1).trim().replace(On[2],"$1###$2").replace(On[3],"$1###$2").split(On[4]),e=[u=n.charAt(0)],s=0,f=r.length;s<f;++s)(i=+r[s])===i&&e.push(i);if(o=Sn[u.toLowerCase()],e.length-1>o){var d=e.length;for(h.push([u].concat(e.slice(s=1,s+=o))),u="M"===u?"L":"m"===u?"l":u;s<d;s+=o)h.push([u].concat(e.slice(s,s+o)))}else h.push(e)}return h}(n["data-d"]),a=+n["data-r"]||1;!function(t,n,r,e,i,u){var o,a,s,c,f,h=null,l=0,d=0,v=0,p=0;null==r&&(r=0),null==e&&(e=0),null==i&&(i=1),null==u&&(u=i),t.beginPath&&t.beginPath();for(var b=0,w=n.length;b<w;++b){switch(o=n[b],1===i&&1===u||(o=_n(o,i,u)),o[0]){case"l":t.lineTo((l+=o[1])+r,(d+=o[2])+e);break;case"L":t.lineTo((l=o[1])+r,(d=o[2])+e);break;case"h":t.lineTo((l+=o[1])+r,d+e);break;case"H":t.lineTo((l=o[1])+r,d+e);break;case"v":t.lineTo(l+r,(d+=o[1])+e);break;case"V":t.lineTo(l+r,(d=o[1])+e);break;case"m":t.moveTo((l+=o[1])+r,(d+=o[2])+e);break;case"M":t.moveTo((l=o[1])+r,(d=o[2])+e);break;case"c":t.bezierCurveTo(l+o[1]+r,d+o[2]+e,(v=l+o[3])+r,(p=d+o[4])+e,(a=l+o[5])+r,(s=d+o[6])+e),l=a,d=s;break;case"C":t.bezierCurveTo(o[1]+r,o[2]+e,(v=o[3])+r,(p=o[4])+e,(l=o[5])+r,(d=o[6])+e);break;case"s":t.bezierCurveTo((v=2*l-v)+r,(p=2*d-p)+e,l+o[1]+r,d+o[2]+e,(a=l+o[3])+r,(s=d+o[4])+e),v=l+o[1],p=d+o[2],l=a,d=s;break;case"S":t.bezierCurveTo((v=2*l-v)+r,(p=2*d-p)+e,o[1]+r,o[2]+e,(a=o[3])+r,(s=o[4])+e),l=a,d=s,v=o[1],p=o[2];break;case"q":t.quadraticCurveTo((v=l+o[1])+r,(p=d+o[2])+e,(a=l+o[3])+r,(s=d+o[4])+e),l=a,d=s;break;case"Q":t.quadraticCurveTo(o[1]+r,o[2]+e,(a=o[3])+r,(s=o[4])+e),l=a,d=s,v=o[1],p=o[2];break;case"t":a=l+o[1],s=d+o[2],null===h[0].match(/[QqTt]/)?(v=l,p=d):"t"===h[0]?(v=2*l-c,p=2*d-f):"q"===h[0]&&(v=2*l-v,p=2*d-p),c=v,f=p,t.quadraticCurveTo(v+r,p+e,a+r,s+e),v=(l=a)+o[1],p=(d=s)+o[2];break;case"T":t.quadraticCurveTo((v=2*l-v)+r,(p=2*d-p)+e,(a=o[1])+r,(s=o[2])+e),l=a,d=s;break;case"a":Pn(t,l+r,d+e,[o[1],o[2],o[3],o[4],o[5],o[6]+l+r,o[7]+d+e]),l+=o[6],d+=o[7];break;case"A":Pn(t,l+r,d+e,[o[1],o[2],o[3],o[4],o[5],o[6]+r,o[7]+e]),l=o[6],d=o[7];break;case"z":case"Z":t.closePath()}h=o}}(t,o,(+n["data-x"]||0)+r,(+n["data-y"]||0)+e,a,a),t.stroke(),n["data-fill"]&&"true"===n["data-fill"]&&t.fill()}t.closePath()}(t,n)}))}function Kn(t,n,r){for(var e,i=n.length,u=0;u<i;u++){e=n[u].items;for(var o=0;o<e.length;o++){var a=e[o];"group"!==a.marktype?Xn(t,a.items,r):Kn(t,a.items,r)}}}function Jn(t){var n={};for(var r in t)n[r]=t[r];return n.stroke&&(n.strokeOpacity=1),n.fill&&(n.fillOpacity=.0625,n.stroke="#000",n.strokeOpacity=1,n.strokeWidth=2),n}function Qn(t,n,r,e){return t.font=r+"px "+e,t.measureText(n).width}function tr(t,n,r,e,i){return!i||i.getInRangeScaled(t,e,r,e)||i.getInRangeScaled(t,n,r,e-1)}var nr=["right","center","left"],rr=["bottom","middle","top"],er=function(){function t(t,n,r,e){this.bm0=t[0],this.bm1=t[1],this.width=n[0],this.height=n[1],this.anchors=r,this.offsets=e}return t.prototype.place=function(t){var n=t.markBound;if(n[2]<0||n[5]<0||n[0]>this.width||n[3]>this.height)return!1;for(var r,e,i,u,o,a,s,c,f,h,l,d,v,p,b,w,m=function(){if("undefined"!=typeof document&&document.createElement){var t=document.createElement("canvas");if(t&&t.getContext)return t.width=void 0,t.height=void 0,t}return null}().getContext("2d"),y=this.offsets.length,g=t.textHeight,M=t.markBound,N=t.text,L=t.font,k=t.textWidth,E=0;E<y;E++){if(r=(3&this.anchors[E])-1,e=(this.anchors[E]>>>2&3)-1,i=this.bm1&&(0===r&&0===e||this.offsets[E]<0),a=M[1+r]+this.offsets[E]*r*(u=r&&e?.707106781186548:1),d=(l=M[4+e]+(o=this.offsets[E]<0?-1:1)*g*e/2+this.offsets[E]*e*u)+g/2,b=this.bm0.scalePixel(h=l-g/2),w=this.bm0.scalePixel(d),v=this.bm0.scalePixel(a),!k){if(!ir(v,v,b,w,this.bm0,this.bm1,a,a,h,d,M,i))continue;k=Qn(m,N,g,L)}if(f=(c=a+o*k*r/2)+k/2,ir(v=this.bm0.scalePixel(s=c-k/2),p=this.bm0.scalePixel(f),b,w,this.bm0,this.bm1,s,f,h,d,M,i))return t.x=r?r*o<0?f:s:c,t.y=e?e*o<0?d:h:l,t.align=nr[r*o+1],t.baseline=rr[e*o+1],this.bm0.markInRangeScaled(v,b,p,w),!0}return!1},t}();function ir(t,n,r,e,i,u,o,a,s,c,f,h){return!(i.searchOutOfBound(t,r,n,e)||(h?tr(t,r,n,e,u)||!function(t,n,r,e,i){return i[0]<=t&&r<=i[2]&&i[3]<=n&&e<=i[5]}(o,s,a,c,f):tr(t,r,n,e,i)))}"IE"===Tt()&&null==Element.prototype.getAttributeNames&&(Element.prototype.getAttributeNames=function(){for(var t=this.attributes,n=t.length,r=new Array(n),e=0;e<n;e++)r[e]=t[e].name;return r});var ur={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},or=function(t){var n=t.labelSelection,r=t.avoidMarks,e=t.offsets,i=t.accessors,u=t.size,o=t.boundsScope,a=t.bitmaps,s=t.hideOnly,c=t.validPositions,f=[],h=[],l={};if(!u||2!==u.length)throw Error("Size of chart should be specified as an array of width and height");r&&r.length&&r.forEach((function(t){var n=[];t.each((function(t,r,e){var u={},a=e[r].getBBox();u.node=e[r],u.nodeName=e[r].nodeName,u.bbox=a,u.datum=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t||{},e[r].getAttributeNames().forEach((function(t){u[t]=pt(e[r]).attr(t)})),u.boundsScope=o,u.bounds=ar(u,a);var s=i.map((function(t){return u.datum[t]||"Not Found"}));l[s.join("-")]=u.bounds,u.key=s.join("-"),n.push(u)})),h.push(n)})),n&&n.each((function(t,n,r){var e={},u=r[n],a=getComputedStyle(u),c=parseFloat(a.fontSize),h=a.fontFamily,d=u.getBBox();e.node=r[n],e.i=n,e.nodeName=u.nodeName,e.fontSize=c,e.font=a.fontFamily,e.text=u.textContent,e.sort=!1,e.originalOpacity=1,e.datum=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t||{},e.bbox=d,u.getAttributeNames().forEach((function(t){e[t]=pt(u).attr(t)})),e.textWidth="rect"===u.nodeName?+e.width:An(u.textContent,c,!0,h),e.textHeight="rect"===u.nodeName?+e.height:Math.max(c-1,1);var v=i.map((function(t){return e.datum[t]||"Not Found"}));e.key=v.join("-"),e.boundsScope=o,e.markBound=l[v.join("-")]&&!s?l[v.join("-")]:e["data-x"]&&e["data-y"]&&(e.textWidth||e["data-width"])&&(e.textHeight||e["data-height"])?ar(e,d):[d.x,d.x+d.width/2,d.x+d.width,d.y,d.y+d.height/2,d.y+d.height],f.push(e)})),a&&2===a.length?Gn(a,f,u,0,!1,h,!1):a=Vn(f,u,0,!1,h,!1,1);var d={right:"end",center:"middle",left:"start"},v=c.map((function(t){return ur[t]})),p=new er(a,u,v,e),b={};return f.forEach((function(t,n){b["Not Found"===t.key?n:t.i+"-"+t.key]="true"===t["data-hidden"]||0===t.opacity?{"do-nothing":!0}:!t["data-hidden"]&&p.place(t)?{visibility:null,x:t.x,y:t.y,translateX:+t["data-translate-x"]?+t["data-translate-x"]:0,translateY:+t["data-translate-y"]?+t["data-translate-y"]:0,translateHeight:t["data-no-text-anchor"]?0:"top"===t.baseline?+t.textHeight:"middle"===t.baseline?+t.textHeight/3:0,"text-anchor":t["data-no-text-anchor"]?null:d[t.align],"data-align":t.align,"data-baseline":t.baseline,"data-label-moved":!0,"data-label-hidden":!1,textHeight:t.textHeight}:{visibility:"hidden","data-label-hidden":!0}})),n.style("visibility",(function(t,n,r){var e=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t||{},u=i.map((function(t){return e[t]||"Not Found"})),o="Not Found"===u.join("-")?b[n]:b[n+"-"+u.join("-")];return i&&i.length&&o&&o["do-nothing"]?pt(r[n]).style("visibility"):(pt(r[n]).attr("data-label-hidden",i&&i.length&&o&&o["data-label-hidden"]).attr("dx","true"!==pt(r[n]).attr("data-use-dx")?null:pt(r[n]).attr("dx")).attr("dy","true"!==pt(r[n]).attr("data-use-dy")?null:pt(r[n]).attr("dy")).attr("data-use-dx",null).attr("data-use-dy",null),i&&i.length&&o&&(null===o.visibility||!o.visibility)?null:"hidden")})),s||n.each((function(t){var n=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t||{},r=i.map((function(t){return n[t]||"Not Found"}));"Not Found"===r.join("-")||r.join("-")})).attr("x",(function(t,n,r){var e=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t||{},u=i.map((function(t){return e[t]||"Not Found"})),o="Not Found"===u.join("-")?b[n]:b[n+"-"+u.join("-")];return i&&i.length&&o&&o.x?o.x-o.translateX:pt(r[n]).attr("data-x")})).attr("y",(function(t,n,r){var e=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t||{},u=i.map((function(t){return e[t]||"Not Found"})),o="Not Found"===u.join("-")?b[n]:b[n+"-"+u.join("-")];return i&&i.length&&o&&o.y?o.y-o.translateY+(i&&i.length&&o&&o.translateHeight):pt(r[n]).attr("data-y")})).attr("text-anchor",(function(t,n,r){var e=t&&t.data&&t.data.data?t.data.data:t&&t.data?t.data:t||{},u=i.map((function(t){return e[t]||"Not Found"})),o="Not Found"===u.join("-")?b[n]:b[n+"-"+u.join("-")];return i&&i.length&&o&&o["text-anchor"]?o["text-anchor"]:pt(r[n]).attr("text-anchor")})),a},ar=function(t,n){var r=+t["data-translate-x"]?+t["data-translate-x"]:0,e=+t["data-translate-y"]?+t["data-translate-y"]:0;switch(t.nodeName){case"text":var i=(t.textWidth?+t.textWidth:+t["data-width"])||0,u=(t.textHeight?+t.textHeight:+t["data-height"])||0,o=+t.fontSize||u,a=t["data-text-anchor"]?t["data-text-anchor"]&&"start"!==t["data-text-anchor"]?"middle"===t["data-text-anchor"]?i/2:i:0:t["text-anchor"]&&t["text-anchor"]&&"start"!==t["text-anchor"]?"middle"===t["text-anchor"]?i/2:i:0,s="true"!==t["data-use-dx"]?0:+t.dx?+t.dx:t.dx&&t.dx.indexOf("em")>=0?+t.dx.replace("em","")*o:0,c="true"!==t["data-use-dy"]?0:+t.dy?+t.dy:t.dy&&t.dy.indexOf("em")>=0?+t.dy.replace("em","")*o:0;switch(t.boundsScope){case"centroid":return[+t["data-x"]+s+r-a+i/2,+t["data-x"]+s+r-a+i/2,+t["data-x"]+s+r-a+i/2,+t["data-y"]+c+e+u/2,+t["data-y"]+c+e+u/2,+t["data-y"]+c+e+u/2];case"top":return[+t["data-x"]+s+r-a,+t["data-x"]+s+r-a+i/2,+t["data-x"]+s+r-a+i,+t["data-y"]+c+e,+t["data-y"]+c+e,+t["data-y"]+c+e];case"middle":return[+t["data-x"]+s+r-a,+t["data-x"]+s+r-a+i/2,+t["data-x"]+s+r-a+i,+t["data-y"]+c+e+u/2,+t["data-y"]+c+e+u/2,+t["data-y"]+c+e+u/2];case"bottom":return[+t["data-x"]+s+r-a,+t["data-x"]+s+r-a+i/2,+t["data-x"]+s+r-a+i,+t["data-y"]+c+e+u,+t["data-y"]+c+e+u,+t["data-y"]+c+e+u];case"center":return[+t["data-x"]+s+r-a+i/2,+t["data-x"]+s+r-a+i/2,+t["data-x"]+s+r-a+i/2,+t["data-y"]+c+e,+t["data-y"]+c+e+u/2,+t["data-y"]+c+e+u];case"right":return[+t["data-x"]+s+r-a+i,+t["data-x"]+s+r-a+i,+t["data-x"]+s+r-a+i,+t["data-y"]+c+e,+t["data-y"]+c+e+u/2,+t["data-y"]+c+e+u];case"left":return[+t["data-x"]+s+r-a,+t["data-x"]+s+r-a,+t["data-x"]+s+r-a,+t["data-y"]+c+e,+t["data-y"]+c+e+u/2,+t["data-y"]+c+e+u];default:return[+t["data-x"]+s+r-a,+t["data-x"]+s+r-a+i/2,+t["data-x"]+s+r-a+i,+t["data-y"]+c+e-u,+t["data-y"]+c+e-u/2,+t["data-y"]+c+e]}case"circle":return[+t["data-cx"]+r-+t["data-r"],+t["data-cx"]+r,+t["data-cx"]+r+ +t["data-r"],+t["data-cy"]+e-+t["data-r"],+t["data-cy"]+e,+t["data-cy"]+e+ +t["data-r"]];case"rect":switch(t.boundsScope){case"annotation":return[+t["data-x"]+r-+t["data-width"]/2,+t["data-x"]+r,+t["data-x"]+r+ +t["data-width"]/2,+t["data-y"]+e-+t["data-height"]/2,+t["data-y"]+e,+t["data-y"]+e+ +t["data-height"]/2];case"top":return[+t["data-x"]+r,+t["data-x"]+r+ +t["data-width"]/2,+t["data-x"]+r+ +t["data-width"],+t["data-y"]+e,+t["data-y"]+e,+t["data-y"]+e];case"middle":return[+t["data-x"]+r+ +t["data-width"]/2,+t["data-x"]+r+ +t["data-width"]/2,+t["data-x"]+r+ +t["data-width"]/2,+t["data-y"]+e+ +t["data-height"]/2,+t["data-y"]+e+ +t["data-height"]/2,+t["data-y"]+e+ +t["data-height"]/2];case"bottom":return[+t["data-x"]+r,+t["data-x"]+r+ +t["data-width"]/2,+t["data-x"]+r+ +t["data-width"],+t["data-y"]+e+ +t["data-height"]-6,+t["data-y"]+e+ +t["data-height"]-6,+t["data-y"]+e+ +t["data-height"]-6];case"right":return[+t["data-x"]+r+ +t["data-width"],+t["data-x"]+r+ +t["data-width"],+t["data-x"]+r+ +t["data-width"],+t["data-y"]+e,+t["data-y"]+e+ +t["data-height"]/2,+t["data-y"]+e+ +t["data-height"]];case"left":return[+t["data-x"]+r,+t["data-x"]+r,+t["data-x"]+r,+t["data-y"]+e,+t["data-y"]+e+ +t["data-height"]/2,+t["data-y"]+e+ +t["data-height"]];default:return[+t["data-x"]+r,+t["data-x"]+r+ +t["data-width"]/2,+t["data-x"]+r+ +t["data-width"],+t["data-y"]+e,+t["data-y"]+e+ +t["data-height"]/2,+t["data-y"]+e+ +t["data-height"]]}case"path":return+t["data-fake-x"]?[+t["data-fake-x"]+r-(+t["data-r"]||0),+t["data-fake-x"]+r,+t["data-fake-x"]+r+(+t["data-r"]||0),+t["data-fake-y"]+e-(+t["data-r"]||0),+t["data-fake-y"]+e,+t["data-fake-y"]+e+(+t["data-r"]||0)]:+t["data-centerX1"]?[+t["data-centerX1"]+r,+t["data-centerX1"]+(+t["data-centerX2"]-+t["data-centerX1"])/2+r,+t["data-centerX2"]+r,+t["data-centerY1"]+e,+t["data-centerY1"]+(+t["data-centerY2"]-+t["data-centerY1"])/2+e,+t["data-centerY2"]+e]:[+t["data-x"]+r-(+t["data-r"]||0),+t["data-x"]+r,+t["data-x"]+r+(+t["data-r"]||0),+t["data-y"]+e-(+t["data-r"]||0),+t["data-y"]+e,+t["data-y"]+e+(+t["data-r"]||0)];default:return[n.x,n.x+n.width/2,n.x+n.width,n.y,n.y+n.height/2,n.y+n.height]}};function sr(t,n,r,e){var i=e?t.getSum():1;return r?Yt(t[n]/i,"normalized"===r?"0[.][0]%":r):t[n]/i}var cr=new Date,fr=new Date;function hr(t,n,r,e){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(r){return t(r=new Date(r-1)),n(r,1),t(r),r},i.round=function(t){var n=i(t),r=i.ceil(t);return t-n<r-t?n:r},i.offset=function(t,r){return n(t=new Date(+t),null==r?1:Math.floor(r)),t},i.range=function(r,e,u){var o,a=[];if(r=i.ceil(r),u=null==u?1:Math.floor(u),!(r<e&&u>0))return a;do{a.push(o=new Date(+r)),n(r,u),t(r)}while(o<r&&r<e);return a},i.filter=function(r){return hr((function(n){if(n>=n)for(;t(n),!r(n);)n.setTime(n-1)}),(function(t,e){if(t>=t)if(e<0)for(;++e<=0;)for(;n(t,-1),!r(t););else for(;--e>=0;)for(;n(t,1),!r(t););}))},r&&(i.count=function(n,e){return cr.setTime(+n),fr.setTime(+e),t(cr),t(fr),Math.floor(r(cr,fr))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(e?function(n){return e(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var lr=hr((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));lr.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?hr((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,r){n.setTime(+n+r*t)}),(function(n,r){return(r-n)/t})):lr:null},hr((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+1e3*n)}),(function(t,n){return(n-t)/1e3}),(function(t){return t.getUTCSeconds()})),hr((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getMinutes()})),hr((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getHours()}));var dr=hr((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}));function vr(t){return hr((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var pr=vr(0),br=vr(1),wr=(vr(2),vr(3),vr(4)),mr=(vr(5),vr(6),hr((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),hr((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));mr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?hr((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,r){n.setFullYear(n.getFullYear()+r*t)})):null},hr((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getUTCMinutes()})),hr((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getUTCHours()}));var yr=hr((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/864e5}),(function(t){return t.getUTCDate()-1}));function gr(t){return hr((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/6048e5}))}var Mr=gr(0),Nr=gr(1),Lr=(gr(2),gr(3),gr(4)),kr=(gr(5),gr(6),hr((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),hr((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));function Er(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ar(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Tr(t,n,r){return{y:t,m:n,d:r,H:0,M:0,S:0,L:0}}kr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?hr((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,r){n.setUTCFullYear(n.getUTCFullYear()+r*t)})):null};var xr,Sr,Or,Ir={"-":"",_:" ",0:"0"},Rr=/^\s*\d+/,Fr=/^%/,Cr=/[\\^$*+?|[\]().{}]/g;function Dr(t,n,r){var e=t<0?"-":"",i=(e?-t:t)+"",u=i.length;return e+(u<r?new Array(r-u+1).join(n)+i:i)}function Hr(t){return t.replace(Cr,"\\$&")}function jr(t){return new RegExp("^(?:"+t.map(Hr).join("|")+")","i")}function Ur(t){for(var n={},r=-1,e=t.length;++r<e;)n[t[r].toLowerCase()]=r;return n}function _r(t,n,r){var e=Rr.exec(n.slice(r,r+1));return e?(t.w=+e[0],r+e[0].length):-1}function Pr(t,n,r){var e=Rr.exec(n.slice(r,r+1));return e?(t.u=+e[0],r+e[0].length):-1}function Wr(t,n,r){var e=Rr.exec(n.slice(r,r+2));return e?(t.U=+e[0],r+e[0].length):-1}function Br(t,n,r){var e=Rr.exec(n.slice(r,r+2));return e?(t.V=+e[0],r+e[0].length):-1}function $r(t,n,r){var e=Rr.exec(n.slice(r,r+2));return e?(t.W=+e[0],r+e[0].length):-1}function Yr(t,n,r){var e=Rr.exec(n.slice(r,r+4));return e?(t.y=+e[0],r+e[0].length):-1}function qr(t,n,r){var e=Rr.exec(n.slice(r,r+2));return e?(t.y=+e[0]+(+e[0]>68?1900:2e3),r+e[0].length):-1}function zr(t,n,r){var e=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(r,r+6));return e?(t.Z=e[1]?0:-(e[2]+(e[3]||"00")),r+e[0].length):-1}function Vr(t,n,r){var e=Rr.exec(n.slice(r,r+1));return e?(t.q=3*e[0]-3,r+e[0].length):-1}function Gr(t,n,r){var e=Rr.exec(n.slice(r,r+2));return e?(t.m=e[0]-1,r+e[0].length):-1}function Zr(t,n,r){var e=Rr.exec(n.slice(r,r+2));return e?(t.d=+e[0],r+e[0].length):-1}function Xr(t,n,r){var e=Rr.exec(n.slice(r,r+3));return e?(t.m=0,t.d=+e[0],r+e[0].length):-1}function Kr(t,n,r){var e=Rr.exec(n.slice(r,r+2));return e?(t.H=+e[0],r+e[0].length):-1}function Jr(t,n,r){var e=Rr.exec(n.slice(r,r+2));return e?(t.M=+e[0],r+e[0].length):-1}function Qr(t,n,r){var e=Rr.exec(n.slice(r,r+2));return e?(t.S=+e[0],r+e[0].length):-1}function te(t,n,r){var e=Rr.exec(n.slice(r,r+3));return e?(t.L=+e[0],r+e[0].length):-1}function ne(t,n,r){var e=Rr.exec(n.slice(r,r+6));return e?(t.L=Math.floor(e[0]/1e3),r+e[0].length):-1}function re(t,n,r){var e=Fr.exec(n.slice(r,r+1));return e?r+e[0].length:-1}function ee(t,n,r){var e=Rr.exec(n.slice(r));return e?(t.Q=+e[0],r+e[0].length):-1}function ie(t,n,r){var e=Rr.exec(n.slice(r));return e?(t.s=+e[0],r+e[0].length):-1}function ue(t,n){return Dr(t.getDate(),n,2)}function oe(t,n){return Dr(t.getHours(),n,2)}function ae(t,n){return Dr(t.getHours()%12||12,n,2)}function se(t,n){return Dr(1+dr.count(mr(t),t),n,3)}function ce(t,n){return Dr(t.getMilliseconds(),n,3)}function fe(t,n){return ce(t,n)+"000"}function he(t,n){return Dr(t.getMonth()+1,n,2)}function le(t,n){return Dr(t.getMinutes(),n,2)}function de(t,n){return Dr(t.getSeconds(),n,2)}function ve(t){var n=t.getDay();return 0===n?7:n}function pe(t,n){return Dr(pr.count(mr(t)-1,t),n,2)}function be(t){var n=t.getDay();return n>=4||0===n?wr(t):wr.ceil(t)}function we(t,n){return t=be(t),Dr(wr.count(mr(t),t)+(4===mr(t).getDay()),n,2)}function me(t){return t.getDay()}function ye(t,n){return Dr(br.count(mr(t)-1,t),n,2)}function ge(t,n){return Dr(t.getFullYear()%100,n,2)}function Me(t,n){return Dr((t=be(t)).getFullYear()%100,n,2)}function Ne(t,n){return Dr(t.getFullYear()%1e4,n,4)}function Le(t,n){var r=t.getDay();return Dr((t=r>=4||0===r?wr(t):wr.ceil(t)).getFullYear()%1e4,n,4)}function ke(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Dr(n/60|0,"0",2)+Dr(n%60,"0",2)}function Ee(t,n){return Dr(t.getUTCDate(),n,2)}function Ae(t,n){return Dr(t.getUTCHours(),n,2)}function Te(t,n){return Dr(t.getUTCHours()%12||12,n,2)}function xe(t,n){return Dr(1+yr.count(kr(t),t),n,3)}function Se(t,n){return Dr(t.getUTCMilliseconds(),n,3)}function Oe(t,n){return Se(t,n)+"000"}function Ie(t,n){return Dr(t.getUTCMonth()+1,n,2)}function Re(t,n){return Dr(t.getUTCMinutes(),n,2)}function Fe(t,n){return Dr(t.getUTCSeconds(),n,2)}function Ce(t){var n=t.getUTCDay();return 0===n?7:n}function De(t,n){return Dr(Mr.count(kr(t)-1,t),n,2)}function He(t){var n=t.getUTCDay();return n>=4||0===n?Lr(t):Lr.ceil(t)}function je(t,n){return t=He(t),Dr(Lr.count(kr(t),t)+(4===kr(t).getUTCDay()),n,2)}function Ue(t){return t.getUTCDay()}function _e(t,n){return Dr(Nr.count(kr(t)-1,t),n,2)}function Pe(t,n){return Dr(t.getUTCFullYear()%100,n,2)}function We(t,n){return Dr((t=He(t)).getUTCFullYear()%100,n,2)}function Be(t,n){return Dr(t.getUTCFullYear()%1e4,n,4)}function $e(t,n){var r=t.getUTCDay();return Dr((t=r>=4||0===r?Lr(t):Lr.ceil(t)).getUTCFullYear()%1e4,n,4)}function Ye(){return"+0000"}function qe(){return"%"}function ze(t){return+t}function Ve(t){return Math.floor(+t/1e3)}xr=function(t){var n=t.dateTime,r=t.date,e=t.time,i=t.periods,u=t.days,o=t.shortDays,a=t.months,s=t.shortMonths,c=jr(i),f=Ur(i),h=jr(u),l=Ur(u),d=jr(o),v=Ur(o),p=jr(a),b=Ur(a),w=jr(s),m=Ur(s),y={a:function(t){return o[t.getDay()]},A:function(t){return u[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:ue,e:ue,f:fe,g:Me,G:Le,H:oe,I:ae,j:se,L:ce,m:he,M:le,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ze,s:Ve,S:de,u:ve,U:pe,V:we,w:me,W:ye,x:null,X:null,y:ge,Y:Ne,Z:ke,"%":qe},g={a:function(t){return o[t.getUTCDay()]},A:function(t){return u[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Ee,e:Ee,f:Oe,g:We,G:$e,H:Ae,I:Te,j:xe,L:Se,m:Ie,M:Re,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ze,s:Ve,S:Fe,u:Ce,U:De,V:je,w:Ue,W:_e,x:null,X:null,y:Pe,Y:Be,Z:Ye,"%":qe},M={a:function(t,n,r){var e=d.exec(n.slice(r));return e?(t.w=v[e[0].toLowerCase()],r+e[0].length):-1},A:function(t,n,r){var e=h.exec(n.slice(r));return e?(t.w=l[e[0].toLowerCase()],r+e[0].length):-1},b:function(t,n,r){var e=w.exec(n.slice(r));return e?(t.m=m[e[0].toLowerCase()],r+e[0].length):-1},B:function(t,n,r){var e=p.exec(n.slice(r));return e?(t.m=b[e[0].toLowerCase()],r+e[0].length):-1},c:function(t,r,e){return k(t,n,r,e)},d:Zr,e:Zr,f:ne,g:qr,G:Yr,H:Kr,I:Kr,j:Xr,L:te,m:Gr,M:Jr,p:function(t,n,r){var e=c.exec(n.slice(r));return e?(t.p=f[e[0].toLowerCase()],r+e[0].length):-1},q:Vr,Q:ee,s:ie,S:Qr,u:Pr,U:Wr,V:Br,w:_r,W:$r,x:function(t,n,e){return k(t,r,n,e)},X:function(t,n,r){return k(t,e,n,r)},y:qr,Y:Yr,Z:zr,"%":re};function N(t,n){return function(r){var e,i,u,o=[],a=-1,s=0,c=t.length;for(r instanceof Date||(r=new Date(+r));++a<c;)37===t.charCodeAt(a)&&(o.push(t.slice(s,a)),null!=(i=Ir[e=t.charAt(++a)])?e=t.charAt(++a):i="e"===e?" ":"0",(u=n[e])&&(e=u(r,i)),o.push(e),s=a+1);return o.push(t.slice(s,a)),o.join("")}}function L(t,n){return function(r){var e,i,u=Tr(1900,void 0,1);if(k(u,t,r+="",0)!=r.length)return null;if("Q"in u)return new Date(u.Q);if("s"in u)return new Date(1e3*u.s+("L"in u?u.L:0));if(!n||"Z"in u||(u.Z=0),"p"in u&&(u.H=u.H%12+12*u.p),void 0===u.m&&(u.m="q"in u?u.q:0),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(i=(e=Ar(Tr(u.y,0,1))).getUTCDay(),e=i>4||0===i?Nr.ceil(e):Nr(e),e=yr.offset(e,7*(u.V-1)),u.y=e.getUTCFullYear(),u.m=e.getUTCMonth(),u.d=e.getUTCDate()+(u.w+6)%7):(i=(e=Er(Tr(u.y,0,1))).getDay(),e=i>4||0===i?br.ceil(e):br(e),e=dr.offset(e,7*(u.V-1)),u.y=e.getFullYear(),u.m=e.getMonth(),u.d=e.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),i="Z"in u?Ar(Tr(u.y,0,1)).getUTCDay():Er(Tr(u.y,0,1)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(i+5)%7:u.w+7*u.U-(i+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,Ar(u)):Er(u)}}function k(t,n,r,e){for(var i,u,o=0,a=n.length,s=r.length;o<a;){if(e>=s)return-1;if(37===(i=n.charCodeAt(o++))){if(i=n.charAt(o++),!(u=M[i in Ir?n.charAt(o++):i])||(e=u(t,r,e))<0)return-1}else if(i!=r.charCodeAt(e++))return-1}return e}return(y.x=N(r,y),y.X=N(e,y),y.c=N(n,y),g.x=N(r,g),g.X=N(e,g),g.c=N(n,g),{format:function(t){var n=N(t+="",y);return n.toString=function(){return t},n},parse:function(t){var n=L(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=N(t+="",g);return n.toString=function(){return t},n},utcParse:function(t){var n=L(t+="",!0);return n.toString=function(){return t},n}})}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Sr=xr.format,Or=xr.utcParse,Date.prototype.toISOString||(0,xr.utcFormat)("%Y-%m-%dT%H:%M:%S.%LZ"),+new Date("2000-01-01T00:00:00.000Z")||Or("%Y-%m-%dT%H:%M:%S.%LZ");var Ge=function(t){var n=t.date,r=t.format,e=t.offsetTimezone?6e4*n.getTimezoneOffset():0,i=new Date(n.getTime()+e);return r=r.includes("%")?r:"%Y %b",Sr(r)(i)},Ze={value:function(){}};function Xe(){for(var t,n=0,r=arguments.length,e={};n<r;++n){if(!(t=arguments[n]+"")||t in e||/[\s.]/.test(t))throw new Error("illegal type: "+t);e[t]=[]}return new Ke(e)}function Ke(t){this._=t}function Je(t,n){return t.trim().split(/^|\s+/).map((function(t){var r="",e=t.indexOf(".");if(e>=0&&(r=t.slice(e+1),t=t.slice(0,e)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function Qe(t,n){for(var r,e=0,i=t.length;e<i;++e)if((r=t[e]).name===n)return r.value}function ti(t,n,r){for(var e=0,i=t.length;e<i;++e)if(t[e].name===n){t[e]=Ze,t=t.slice(0,e).concat(t.slice(e+1));break}return null!=r&&t.push({name:n,value:r}),t}Ke.prototype=Xe.prototype={constructor:Ke,on:function(t,n){var r,e=this._,i=Je(t+"",e),u=-1,o=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++u<o;)if(r=(t=i[u]).type)e[r]=ti(e[r],t.name,n);else if(null==n)for(r in e)e[r]=ti(e[r],t.name,null);return this}for(;++u<o;)if((r=(t=i[u]).type)&&(r=Qe(e[r],t.name)))return r},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new Ke(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var r,e,i=new Array(r),u=0;u<r;++u)i[u]=arguments[u+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=0,r=(e=this._[t]).length;u<r;++u)e[u].value.apply(n,i)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var e=this._[t],i=0,u=e.length;i<u;++i)e[i].value.apply(n,r)}};var ni,ri,ei=0,ii=0,ui=0,oi=0,ai=0,si=0,ci="object"==typeof performance&&performance.now?performance:Date,fi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function hi(){return ai||(fi(li),ai=ci.now()+si)}function li(){ai=0}function di(){this._call=this._time=this._next=null}function vi(t,n,r){var e=new di;return e.restart(t,n,r),e}function pi(){ai=(oi=ci.now())+si,ei=ii=0;try{!function(){hi(),++ei;for(var t,n=ni;n;)(t=ai-n._time)>=0&&n._call.call(null,t),n=n._next;--ei}()}finally{ei=0,function(){for(var t,n,r=ni,e=1/0;r;)r._call?(e>r._time&&(e=r._time),t=r,r=r._next):(n=r._next,r._next=null,r=t?t._next=n:ni=n);ri=t,wi(e)}(),ai=0}}function bi(){var t=ci.now(),n=t-oi;n>1e3&&(si-=n,oi=t)}function wi(t){ei||(ii&&(ii=clearTimeout(ii)),t-ai>24?(t<1/0&&(ii=setTimeout(pi,t-ci.now()-si)),ui&&(ui=clearInterval(ui))):(ui||(oi=ci.now(),ui=setInterval(bi,1e3)),ei=1,fi(pi)))}function mi(t,n,r){var e=new di;return e.restart((function(r){e.stop(),t(r+n)}),n=null==n?0:+n,r),e}di.prototype=vi.prototype={constructor:di,restart:function(t,n,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?hi():+r)+(null==n?0:+n),this._next||ri===this||(ri?ri._next=this:ni=this,ri=this),this._call=t,this._time=r,wi()},stop:function(){this._call&&(this._call=null,this._time=1/0,wi())}};var yi=Xe("start","end","interrupt"),gi=[];function Mi(t,n,r,e,i,u){var o=t.__transition;if(o){if(r in o)return}else t.__transition={};!function(t,n,r){var e,i=t.__transition;function u(s){var c,f,h,l;if(1!==r.state)return a();for(c in i)if((l=i[c]).name===r.name){if(3===l.state)return mi(u);4===l.state?(l.state=6,l.timer.stop(),l.on.call("interrupt",t,t.__data__,l.index,l.group),delete i[c]):+c<n&&(l.state=6,l.timer.stop(),delete i[c])}if(mi((function(){3===r.state&&(r.state=4,r.timer.restart(o,r.delay,r.time),o(s))})),r.state=2,r.on.call("start",t,t.__data__,r.index,r.group),2===r.state){for(r.state=3,e=new Array(h=r.tween.length),c=0,f=-1;c<h;++c)(l=r.tween[c].value.call(t,t.__data__,r.index,r.group))&&(e[++f]=l);e.length=f+1}}function o(n){for(var i=n<r.duration?r.ease.call(null,n/r.duration):(r.timer.restart(a),r.state=5,1),u=-1,o=e.length;++u<o;)e[u].call(null,i);5===r.state&&(r.on.call("end",t,t.__data__,r.index,r.group),a())}function a(){for(var e in r.state=6,r.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=r,r.timer=vi((function(t){r.state=1,r.timer.restart(u,r.delay,r.time),r.delay<=t&&u(t-r.delay)}),0,r.time)}(t,r,{name:n,index:e,group:i,on:yi,tween:gi,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:0})}function Ni(t,n){var r=ki(t,n);if(r.state>0)throw new Error("too late; already scheduled");return r}function Li(t,n){var r=ki(t,n);if(r.state>2)throw new Error("too late; already started");return r}function ki(t,n){var r=t.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function Ei(t,n,r){t.prototype=n.prototype=r,r.constructor=t}function Ai(t,n){var r=Object.create(t.prototype);for(var e in n)r[e]=n[e];return r}function Ti(){}var xi="\\s*([+-]?\\d+)\\s*",Si="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ii=/^#([0-9a-f]{3,8})$/,Ri=new RegExp("^rgb\\("+[xi,xi,xi]+"\\)$"),Fi=new RegExp("^rgb\\("+[Oi,Oi,Oi]+"\\)$"),Ci=new RegExp("^rgba\\("+[xi,xi,xi,Si]+"\\)$"),Di=new RegExp("^rgba\\("+[Oi,Oi,Oi,Si]+"\\)$"),Hi=new RegExp("^hsl\\("+[Si,Oi,Oi]+"\\)$"),ji=new RegExp("^hsla\\("+[Si,Oi,Oi,Si]+"\\)$"),Ui={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _i(){return this.rgb().formatHex()}function Pi(){return this.rgb().formatRgb()}function Wi(t){var n,r;return t=(t+"").trim().toLowerCase(),(n=Ii.exec(t))?(r=n[1].length,n=parseInt(n[1],16),6===r?Bi(n):3===r?new zi(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===r?$i(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===r?$i(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Ri.exec(t))?new zi(n[1],n[2],n[3],1):(n=Fi.exec(t))?new zi(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Ci.exec(t))?$i(n[1],n[2],n[3],n[4]):(n=Di.exec(t))?$i(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Hi.exec(t))?Xi(n[1],n[2]/100,n[3]/100,1):(n=ji.exec(t))?Xi(n[1],n[2]/100,n[3]/100,n[4]):Ui.hasOwnProperty(t)?Bi(Ui[t]):"transparent"===t?new zi(NaN,NaN,NaN,0):null}function Bi(t){return new zi(t>>16&255,t>>8&255,255&t,1)}function $i(t,n,r,e){return e<=0&&(t=n=r=NaN),new zi(t,n,r,e)}function Yi(t){return t instanceof Ti||(t=Wi(t)),t?new zi((t=t.rgb()).r,t.g,t.b,t.opacity):new zi}function qi(t,n,r,e){return 1===arguments.length?Yi(t):new zi(t,n,r,null==e?1:e)}function zi(t,n,r,e){this.r=+t,this.g=+n,this.b=+r,this.opacity=+e}function Vi(){return"#"+Zi(this.r)+Zi(this.g)+Zi(this.b)}function Gi(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Zi(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Xi(t,n,r,e){return e<=0?t=n=r=NaN:r<=0||r>=1?t=n=NaN:n<=0&&(t=NaN),new Ji(t,n,r,e)}function Ki(t){if(t instanceof Ji)return new Ji(t.h,t.s,t.l,t.opacity);if(t instanceof Ti||(t=Wi(t)),!t)return new Ji;if(t instanceof Ji)return t;var n=(t=t.rgb()).r/255,r=t.g/255,e=t.b/255,i=Math.min(n,r,e),u=Math.max(n,r,e),o=NaN,a=u-i,s=(u+i)/2;return a?(o=n===u?(r-e)/a+6*(r<e):r===u?(e-n)/a+2:(n-r)/a+4,a/=s<.5?u+i:2-u-i,o*=60):a=s>0&&s<1?0:o,new Ji(o,a,s,t.opacity)}function Ji(t,n,r,e){this.h=+t,this.s=+n,this.l=+r,this.opacity=+e}function Qi(t,n,r){return 255*(t<60?n+(r-n)*t/60:t<180?r:t<240?n+(r-n)*(240-t)/60:n)}Ei(Ti,Wi,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:_i,formatHex:_i,formatHsl:function(){return Ki(this).formatHsl()},formatRgb:Pi,toString:Pi}),Ei(zi,qi,Ai(Ti,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new zi(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new zi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vi,formatHex:Vi,formatRgb:Gi,toString:Gi})),Ei(Ji,(function(t,n,r,e){return 1===arguments.length?Ki(t):new Ji(t,n,r,null==e?1:e)}),Ai(Ti,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ji(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ji(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,e=r+(r<.5?r:1-r)*n,i=2*r-e;return new zi(Qi(t>=240?t-240:t+120,i,e),Qi(t,i,e),Qi(t<120?t+240:t-120,i,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var tu=Math.PI/180,nu=180/Math.PI,ru=6/29*3*(6/29);function eu(t){if(t instanceof iu)return new iu(t.l,t.a,t.b,t.opacity);if(t instanceof fu)return hu(t);t instanceof zi||(t=Yi(t));var n,r,e=su(t.r),i=su(t.g),u=su(t.b),o=uu((.2225045*e+.7168786*i+.0606169*u)/1);return e===i&&i===u?n=r=o:(n=uu((.4360747*e+.3850649*i+.1430804*u)/.96422),r=uu((.0139322*e+.0971045*i+.7141733*u)/.82521)),new iu(116*o-16,500*(n-o),200*(o-r),t.opacity)}function iu(t,n,r,e){this.l=+t,this.a=+n,this.b=+r,this.opacity=+e}function uu(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/ru+4/29}function ou(t){return t>6/29?t*t*t:ru*(t-4/29)}function au(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function su(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function cu(t){if(t instanceof fu)return new fu(t.h,t.c,t.l,t.opacity);if(t instanceof iu||(t=eu(t)),0===t.a&&0===t.b)return new fu(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*nu;return new fu(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function fu(t,n,r,e){this.h=+t,this.c=+n,this.l=+r,this.opacity=+e}function hu(t){if(isNaN(t.h))return new iu(t.l,0,0,t.opacity);var n=t.h*tu;return new iu(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}Ei(iu,(function(t,n,r,e){return 1===arguments.length?eu(t):new iu(t,n,r,null==e?1:e)}),Ai(Ti,{brighter:function(t){return new iu(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new iu(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return new zi(au(3.1338561*(n=.96422*ou(n))-1.6168667*(t=1*ou(t))-.4906146*(r=.82521*ou(r))),au(-.9787684*n+1.9161415*t+.033454*r),au(.0719453*n-.2289914*t+1.4052427*r),this.opacity)}})),Ei(fu,(function(t,n,r,e){return 1===arguments.length?cu(t):new fu(t,n,r,null==e?1:e)}),Ai(Ti,{brighter:function(t){return new fu(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new fu(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return hu(this).rgb()}}));var lu=-.14861,du=1.78277,vu=-.29227,pu=-.90649,bu=1.97294,wu=bu*pu,mu=bu*du,yu=du*vu-pu*lu;function gu(t){if(t instanceof Mu)return new Mu(t.h,t.s,t.l,t.opacity);t instanceof zi||(t=Yi(t));var n=t.g/255,r=t.b/255,e=(yu*r+wu*(t.r/255)-mu*n)/(yu+wu-mu),i=r-e,u=(bu*(n-e)-vu*i)/pu,o=Math.sqrt(u*u+i*i)/(bu*e*(1-e)),a=o?Math.atan2(u,i)*nu-120:NaN;return new Mu(a<0?a+360:a,o,e,t.opacity)}function Mu(t,n,r,e){this.h=+t,this.s=+n,this.l=+r,this.opacity=+e}function Nu(t){return function(){return t}}function Lu(t,n){var r=n-t;return r?function(t,n){return function(r){return t+r*n}}(t,r):Nu(isNaN(t)?n:t)}Ei(Mu,(function(t,n,r,e){return 1===arguments.length?gu(t):new Mu(t,n,r,null==e?1:e)}),Ai(Ti,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Mu(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Mu(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*tu,n=+this.l,r=isNaN(this.s)?0:this.s*n*(1-n),e=Math.cos(t),i=Math.sin(t);return new zi(255*(n+r*(lu*e+du*i)),255*(n+r*(vu*e+pu*i)),255*(n+r*(bu*e)),this.opacity)}}));var ku=function t(n){var r=function(t){return 1==(t=+t)?Lu:function(n,r){return r-n?function(t,n,r){return t=Math.pow(t,r),n=Math.pow(n,r)-t,r=1/r,function(e){return Math.pow(t+e*n,r)}}(n,r,t):Nu(isNaN(n)?r:n)}}(n);function e(t,n){var e=r((t=qi(t)).r,(n=qi(n)).r),i=r(t.g,n.g),u=r(t.b,n.b),o=Lu(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=u(n),t.opacity=o(n),t+""}}return e.gamma=t,e}(1);function Eu(t,n){n||(n=[]);var r,e=t?Math.min(n.length,t.length):0,i=n.slice();return function(u){for(r=0;r<e;++r)i[r]=t[r]*(1-u)+n[r]*u;return i}}function Au(t,n){var r,e=n?n.length:0,i=t?Math.min(e,t.length):0,u=new Array(i),o=new Array(e);for(r=0;r<i;++r)u[r]=Fu(t[r],n[r]);for(;r<e;++r)o[r]=n[r];return function(t){for(r=0;r<i;++r)o[r]=u[r](t);return o}}function Tu(t,n){var r=new Date;return t=+t,n=+n,function(e){return r.setTime(t*(1-e)+n*e),r}}function xu(t,n){return t=+t,n=+n,function(r){return t*(1-r)+n*r}}function Su(t,n){var r,e={},i={};for(r in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)r in t?e[r]=Fu(t[r],n[r]):i[r]=n[r];return function(t){for(r in e)i[r]=e[r](t);return i}}var Ou=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Iu=new RegExp(Ou.source,"g");function Ru(t,n){var r,e,i,u=Ou.lastIndex=Iu.lastIndex=0,o=-1,a=[],s=[];for(t+="",n+="";(r=Ou.exec(t))&&(e=Iu.exec(n));)(i=e.index)>u&&(i=n.slice(u,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(e=e[0])?a[o]?a[o]+=e:a[++o]=e:(a[++o]=null,s.push({i:o,x:xu(r,e)})),u=Iu.lastIndex;return u<n.length&&(i=n.slice(u),a[o]?a[o]+=i:a[++o]=i),a.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var r,e=0;e<n;++e)a[(r=s[e]).i]=r.x(t);return a.join("")})}function Fu(t,n){var r,e=typeof n;return null==n||"boolean"===e?Nu(n):("number"===e?xu:"string"===e?(r=Wi(n))?(n=r,ku):Ru:n instanceof Wi?ku:n instanceof Date?Tu:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?Eu:Array.isArray(n)?Au:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Su:xu)(t,n)}function Cu(t,n){return t=+t,n=+n,function(r){return Math.round(t*(1-r)+n*r)}}var Du,Hu,ju,Uu,_u=180/Math.PI,Pu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wu(t,n,r,e,i,u){var o,a,s;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(s=t*r+n*e)&&(r-=t*s,e-=n*s),(a=Math.sqrt(r*r+e*e))&&(r/=a,e/=a,s/=a),t*e<n*r&&(t=-t,n=-n,s=-s,o=-o),{translateX:i,translateY:u,rotate:Math.atan2(n,t)*_u,skewX:Math.atan(s)*_u,scaleX:o,scaleY:a}}function Bu(t,n,r,e){function i(t){return t.length?t.pop()+" ":""}return function(u,o){var a=[],s=[];return u=t(u),o=t(o),function(t,e,i,u,o,a){if(t!==i||e!==u){var s=o.push("translate(",null,n,null,r);a.push({i:s-4,x:xu(t,i)},{i:s-2,x:xu(e,u)})}else(i||u)&&o.push("translate("+i+n+u+r)}(u.translateX,u.translateY,o.translateX,o.translateY,a,s),function(t,n,r,u){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),u.push({i:r.push(i(r)+"rotate(",null,e)-2,x:xu(t,n)})):n&&r.push(i(r)+"rotate("+n+e)}(u.rotate,o.rotate,a,s),function(t,n,r,u){t!==n?u.push({i:r.push(i(r)+"skewX(",null,e)-2,x:xu(t,n)}):n&&r.push(i(r)+"skewX("+n+e)}(u.skewX,o.skewX,a,s),function(t,n,r,e,u,o){if(t!==r||n!==e){var a=u.push(i(u)+"scale(",null,",",null,")");o.push({i:a-4,x:xu(t,r)},{i:a-2,x:xu(n,e)})}else 1===r&&1===e||u.push(i(u)+"scale("+r+","+e+")")}(u.scaleX,u.scaleY,o.scaleX,o.scaleY,a,s),u=o=null,function(t){for(var n,r=-1,e=s.length;++r<e;)a[(n=s[r]).i]=n.x(t);return a.join("")}}}var $u=Bu((function(t){return"none"===t?Pu:(Du||(Du=document.createElement("DIV"),Hu=document.documentElement,ju=document.defaultView),Du.style.transform=t,t=ju.getComputedStyle(Hu.appendChild(Du),null).getPropertyValue("transform"),Hu.removeChild(Du),Wu(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Yu=Bu((function(t){return null==t?Pu:(Uu||(Uu=document.createElementNS("http://www.w3.org/2000/svg","g")),Uu.setAttribute("transform",t),(t=Uu.transform.baseVal.consolidate())?Wu((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Pu)}),", ",")",")"),qu=Math.SQRT2;function zu(t){return((t=Math.exp(t))+1/t)/2}function Vu(t,n){var r,e,i=t[0],u=t[1],o=t[2],a=n[2],s=n[0]-i,c=n[1]-u,f=s*s+c*c;if(f<1e-12)e=Math.log(a/o)/qu,r=function(t){return[i+t*s,u+t*c,o*Math.exp(qu*t*e)]};else{var h=Math.sqrt(f),l=(a*a-o*o+4*f)/(2*o*2*h),d=(a*a-o*o-4*f)/(2*a*2*h),v=Math.log(Math.sqrt(l*l+1)-l),p=Math.log(Math.sqrt(d*d+1)-d);e=(p-v)/qu,r=function(t){var n=t*e,r=zu(v),a=o/(2*h)*(r*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(qu*n+v)-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[i+a*s,u+a*c,o*r/zu(qu*n+v)]}}return r.duration=1e3*e,r}function Gu(t,n){var r,e;return function(){var i=Li(this,t),u=i.tween;if(u!==r)for(var o=0,a=(e=r=u).length;o<a;++o)if(e[o].name===n){(e=e.slice()).splice(o,1);break}i.tween=e}}function Zu(t,n,r){var e,i;if("function"!=typeof r)throw new Error;return function(){var u=Li(this,t),o=u.tween;if(o!==e){i=(e=o).slice();for(var a={name:n,value:r},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=a;break}s===c&&i.push(a)}u.tween=i}}function Xu(t,n,r){var e=t._id;return t.each((function(){var t=Li(this,e);(t.value||(t.value={}))[n]=r.apply(this,arguments)})),function(t){return ki(t,e).value[n]}}function Ku(t,n,r){t.prototype=n.prototype=r,r.constructor=t}function Ju(t,n){var r=Object.create(t.prototype);for(var e in n)r[e]=n[e];return r}function Qu(){}var to="\\s*([+-]?\\d+)\\s*",no="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ro="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eo=/^#([0-9a-f]{3,8})$/,io=new RegExp("^rgb\\("+[to,to,to]+"\\)$"),uo=new RegExp("^rgb\\("+[ro,ro,ro]+"\\)$"),oo=new RegExp("^rgba\\("+[to,to,to,no]+"\\)$"),ao=new RegExp("^rgba\\("+[ro,ro,ro,no]+"\\)$"),so=new RegExp("^hsl\\("+[no,ro,ro]+"\\)$"),co=new RegExp("^hsla\\("+[no,ro,ro,no]+"\\)$"),fo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ho(){return this.rgb().formatHex()}function lo(){return this.rgb().formatRgb()}function vo(t){var n,r;return t=(t+"").trim().toLowerCase(),(n=eo.exec(t))?(r=n[1].length,n=parseInt(n[1],16),6===r?po(n):3===r?new mo(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===r?bo(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===r?bo(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=io.exec(t))?new mo(n[1],n[2],n[3],1):(n=uo.exec(t))?new mo(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=oo.exec(t))?bo(n[1],n[2],n[3],n[4]):(n=ao.exec(t))?bo(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=so.exec(t))?No(n[1],n[2]/100,n[3]/100,1):(n=co.exec(t))?No(n[1],n[2]/100,n[3]/100,n[4]):fo.hasOwnProperty(t)?po(fo[t]):"transparent"===t?new mo(NaN,NaN,NaN,0):null}function po(t){return new mo(t>>16&255,t>>8&255,255&t,1)}function bo(t,n,r,e){return e<=0&&(t=n=r=NaN),new mo(t,n,r,e)}function wo(t){return t instanceof Qu||(t=vo(t)),t?new mo((t=t.rgb()).r,t.g,t.b,t.opacity):new mo}function mo(t,n,r,e){this.r=+t,this.g=+n,this.b=+r,this.opacity=+e}function yo(){return"#"+Mo(this.r)+Mo(this.g)+Mo(this.b)}function go(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Mo(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function No(t,n,r,e){return e<=0?t=n=r=NaN:r<=0||r>=1?t=n=NaN:n<=0&&(t=NaN),new ko(t,n,r,e)}function Lo(t){if(t instanceof ko)return new ko(t.h,t.s,t.l,t.opacity);if(t instanceof Qu||(t=vo(t)),!t)return new ko;if(t instanceof ko)return t;var n=(t=t.rgb()).r/255,r=t.g/255,e=t.b/255,i=Math.min(n,r,e),u=Math.max(n,r,e),o=NaN,a=u-i,s=(u+i)/2;return a?(o=n===u?(r-e)/a+6*(r<e):r===u?(e-n)/a+2:(n-r)/a+4,a/=s<.5?u+i:2-u-i,o*=60):a=s>0&&s<1?0:o,new ko(o,a,s,t.opacity)}function ko(t,n,r,e){this.h=+t,this.s=+n,this.l=+r,this.opacity=+e}function Eo(t,n,r){return 255*(t<60?n+(r-n)*t/60:t<180?r:t<240?n+(r-n)*(240-t)/60:n)}Ku(Qu,vo,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ho,formatHex:ho,formatHsl:function(){return Lo(this).formatHsl()},formatRgb:lo,toString:lo}),Ku(mo,(function(t,n,r,e){return 1===arguments.length?wo(t):new mo(t,n,r,null==e?1:e)}),Ju(Qu,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new mo(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new mo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yo,formatHex:yo,formatRgb:go,toString:go})),Ku(ko,(function(t,n,r,e){return 1===arguments.length?Lo(t):new ko(t,n,r,null==e?1:e)}),Ju(Qu,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ko(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ko(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,e=r+(r<.5?r:1-r)*n,i=2*r-e;return new mo(Eo(t>=240?t-240:t+120,i,e),Eo(t,i,e),Eo(t<120?t+240:t-120,i,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ao=Math.PI/180,To=180/Math.PI;function xo(t){if(t instanceof So)return new So(t.l,t.a,t.b,t.opacity);if(t instanceof Do)return Ho(t);t instanceof mo||(t=wo(t));var n,r,e=Fo(t.r),i=Fo(t.g),u=Fo(t.b),o=Oo((.2225045*e+.7168786*i+.0606169*u)/1);return e===i&&i===u?n=r=o:(n=Oo((.4360747*e+.3850649*i+.1430804*u)/.96422),r=Oo((.0139322*e+.0971045*i+.7141733*u)/.82521)),new So(116*o-16,500*(n-o),200*(o-r),t.opacity)}function So(t,n,r,e){this.l=+t,this.a=+n,this.b=+r,this.opacity=+e}function Oo(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/(6/29*3*(6/29))+4/29}function Io(t){return t>6/29?t*t*t:6/29*3*(6/29)*(t-4/29)}function Ro(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Fo(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Co(t){if(t instanceof Do)return new Do(t.h,t.c,t.l,t.opacity);if(t instanceof So||(t=xo(t)),0===t.a&&0===t.b)return new Do(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*To;return new Do(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Do(t,n,r,e){this.h=+t,this.c=+n,this.l=+r,this.opacity=+e}function Ho(t){if(isNaN(t.h))return new So(t.l,0,0,t.opacity);var n=t.h*Ao;return new So(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}function jo(t){if(t instanceof Uo)return new Uo(t.h,t.s,t.l,t.opacity);t instanceof mo||(t=wo(t));var n=t.g/255,r=t.b/255,e=(-.6557636667999999*r+t.r/255*-1.7884503806-3.5172982438*n)/-5.9615122912,i=r-e,u=(1.97294*(n-e)- -.29227*i)/-.90649,o=Math.sqrt(u*u+i*i)/(1.97294*e*(1-e)),a=o?Math.atan2(u,i)*To-120:NaN;return new Uo(a<0?a+360:a,o,e,t.opacity)}function Uo(t,n,r,e){this.h=+t,this.s=+n,this.l=+r,this.opacity=+e}function _o(t,n){var r;return("number"==typeof n?xu:n instanceof vo?ku:(r=vo(n))?(n=r,ku):Ru)(t,n)}function Po(t){return function(){this.removeAttribute(t)}}function Wo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bo(t,n,r){var e,i;return function(){var u=this.getAttribute(t);return u===r?null:u===e?i:i=n(e=u,r)}}function $o(t,n,r){var e,i;return function(){var u=this.getAttributeNS(t.space,t.local);return u===r?null:u===e?i:i=n(e=u,r)}}function Yo(t,n,r){var e,i,u;return function(){var o,a=r(this);if(null!=a)return(o=this.getAttribute(t))===a?null:o===e&&a===i?u:u=n(e=o,i=a);this.removeAttribute(t)}}function qo(t,n,r){var e,i,u;return function(){var o,a=r(this);if(null!=a)return(o=this.getAttributeNS(t.space,t.local))===a?null:o===e&&a===i?u:u=n(e=o,i=a);this.removeAttributeNS(t.space,t.local)}}function zo(t,n){function r(){var r=this,e=n.apply(r,arguments);return e&&function(n){r.setAttributeNS(t.space,t.local,e(n))}}return r._value=n,r}function Vo(t,n){function r(){var r=this,e=n.apply(r,arguments);return e&&function(n){r.setAttribute(t,e(n))}}return r._value=n,r}function Go(t,n){return function(){Ni(this,t).delay=+n.apply(this,arguments)}}function Zo(t,n){return n=+n,function(){Ni(this,t).delay=n}}function Xo(t,n){return function(){Li(this,t).duration=+n.apply(this,arguments)}}function Ko(t,n){return n=+n,function(){Li(this,t).duration=n}}function Jo(t,n){if("function"!=typeof n)throw new Error;return function(){Li(this,t).ease=n}}function Qo(t,n,r){var e,i,u=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Ni:Li;return function(){var o=u(this,t),a=o.on;a!==e&&(i=(e=a).copy()).on(n,r),o.on=i}}Ku(So,(function(t,n,r,e){return 1===arguments.length?xo(t):new So(t,n,r,null==e?1:e)}),Ju(Qu,{brighter:function(t){return new So(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new So(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return new mo(Ro(3.1338561*(n=.96422*Io(n))-1.6168667*(t=1*Io(t))-.4906146*(r=.82521*Io(r))),Ro(-.9787684*n+1.9161415*t+.033454*r),Ro(.0719453*n-.2289914*t+1.4052427*r),this.opacity)}})),Ku(Do,(function(t,n,r,e){return 1===arguments.length?Co(t):new Do(t,n,r,null==e?1:e)}),Ju(Qu,{brighter:function(t){return new Do(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Do(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ho(this).rgb()}})),Ku(Uo,(function(t,n,r,e){return 1===arguments.length?jo(t):new Uo(t,n,r,null==e?1:e)}),Ju(Qu,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Uo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Uo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Ao,n=+this.l,r=isNaN(this.s)?0:this.s*n*(1-n),e=Math.cos(t),i=Math.sin(t);return new mo(255*(n+r*(-.14861*e+1.78277*i)),255*(n+r*(-.29227*e+-.90649*i)),255*(n+r*(1.97294*e)),this.opacity)}}));var ta=vt.prototype.constructor;function na(t,n,r){function e(){var e=this,i=n.apply(e,arguments);return i&&function(n){e.style.setProperty(t,i(n),r)}}return e._value=n,e}var ra=0;function ea(t,n,r,e){this._groups=t,this._parents=n,this._name=r,this._id=e}function ia(t){return vt().transition(t)}function ua(){return++ra}var oa=vt.prototype;function aa(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function sa(t){return 1-Math.sqrt(1-t*t)}ea.prototype=ia.prototype={constructor:ea,select:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=l(t));for(var e=this._groups,i=e.length,u=new Array(i),o=0;o<i;++o)for(var a,s,c=e[o],f=c.length,h=u[o]=new Array(f),d=0;d<f;++d)(a=c[d])&&(s=t.call(a,a.__data__,d,c))&&("__data__"in a&&(s.__data__=a.__data__),h[d]=s,Mi(h[d],n,r,d,h,ki(a,r)));return new ea(u,this._parents,n,r)},selectAll:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=v(t));for(var e=this._groups,i=e.length,u=[],o=[],a=0;a<i;++a)for(var s,c=e[a],f=c.length,h=0;h<f;++h)if(s=c[h]){for(var l,d=t.call(s,s.__data__,h,c),p=ki(s,r),b=0,w=d.length;b<w;++b)(l=d[b])&&Mi(l,n,r,b,d,p);u.push(d),o.push(s)}return new ea(u,o,n,r)},filter:function(t){"function"!=typeof t&&(t=p(t));for(var n=this._groups,r=n.length,e=new Array(r),i=0;i<r;++i)for(var u,o=n[i],a=o.length,s=e[i]=[],c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&s.push(u);return new ea(e,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,r=t._groups,e=n.length,i=Math.min(e,r.length),u=new Array(e),o=0;o<i;++o)for(var a,s=n[o],c=r[o],f=s.length,h=u[o]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;o<e;++o)u[o]=n[o];return new ea(u,this._parents,this._name,this._id)},selection:function(){return new ta(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,r=ua(),e=this._groups,i=e.length,u=0;u<i;++u)for(var o,a=e[u],s=a.length,c=0;c<s;++c)if(o=a[c]){var f=ki(o,n);Mi(o,t,r,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ea(e,this._parents,t,r)},call:oa.call,nodes:oa.nodes,node:oa.node,size:oa.size,empty:oa.empty,each:oa.each,on:function(t,n){var r=this._id;return arguments.length<2?ki(this.node(),r).on.on(t):this.each(Qo(r,t,n))},attr:function(t,n){var r=a(t),e="transform"===r?Yu:_o;return this.attrTween(t,"function"==typeof n?(r.local?qo:Yo)(r,e,Xu(this,"attr."+t,n)):null==n?(r.local?Wo:Po)(r):(r.local?$o:Bo)(r,e,n+""))},attrTween:function(t,n){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;var e=a(t);return this.tween(r,(e.local?zo:Vo)(e,n))},style:function(t,n,r){var e="transform"==(t+="")?$u:_o;return null==n?this.styleTween(t,function(t,n){var r,e,i;return function(){var u=I(this,t),o=(this.style.removeProperty(t),I(this,t));return u===o?null:u===r&&o===e?i:i=n(r=u,e=o)}}(t,e)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,r){var e,i,u;return function(){var o=I(this,t),a=r(this);return null==a&&(this.style.removeProperty(t),a=I(this,t)),o===a?null:o===e&&a===i?u:u=n(e=o,i=a)}}(t,e,Xu(this,"style."+t,n)):function(t,n,r){var e,i;return function(){var u=I(this,t);return u===r?null:u===e?i:i=n(e=u,r)}}(t,e,n+""),r)},styleTween:function(t,n,r){var e="style."+(t+="");if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;return this.tween(e,na(t,n,null==r?"":r))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Xu(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var r=this._id;if(t+="",arguments.length<2){for(var e,i=ki(this.node(),r).tween,u=0,o=i.length;u<o;++u)if((e=i[u]).name===t)return e.value;return null}return this.each((null==n?Gu:Zu)(r,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Go:Zo)(n,t)):ki(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Xo:Ko)(n,t)):ki(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Jo(n,t)):ki(this.node(),n).ease}};var ca={time:null,delay:0,duration:250,ease:aa};function fa(t,n){for(var r;!(r=t.__transition)||!(r=r[n]);)if(!(t=t.parentNode))return ca.time=hi(),ca;return r}function ha(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}vt.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var r,e,i,u=t.__transition,o=!0;if(u){for(i in n=null==n?null:n+"",u)(r=u[i]).name===n?(e=r.state>2&&r.state<5,r.state=6,r.timer.stop(),e&&r.on.call("interrupt",t,t.__data__,r.index,r.group),delete u[i]):o=!1;o&&delete t.__transition}}(this,t)}))},vt.prototype.transition=function(t){var n,r;t instanceof ea?(n=t._id,t=t._name):(n=ua(),(r=ca).time=hi(),t=null==t?null:t+"");for(var e=this._groups,i=e.length,u=0;u<i;++u)for(var o,a=e[u],s=a.length,c=0;c<s;++c)(o=a[c])&&Mi(o,t,n,c,a,r||fa(o,n));return new ea(e,this._parents,t,n)};var la,da,va=(la=ha,1===la.length&&(da=la,la=function(t,n){return ha(da(t),n)}),{left:function(t,n,r,e){for(null==r&&(r=0),null==e&&(e=t.length);r<e;){var i=r+e>>>1;la(t[i],n)<0?r=i+1:e=i}return r},right:function(t,n,r,e){for(null==r&&(r=0),null==e&&(e=t.length);r<e;){var i=r+e>>>1;la(t[i],n)>0?e=i:r=i+1}return r}}).right;function pa(t,n,r){t=+t,n=+n,r=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+r;for(var e=-1,i=0|Math.max(0,Math.ceil((n-t)/r)),u=new Array(i);++e<i;)u[e]=t+e*r;return u}var ba=Math.sqrt(50),wa=Math.sqrt(10),ma=Math.sqrt(2);function ya(t,n,r){var e=(n-t)/Math.max(0,r),i=Math.floor(Math.log(e)/Math.LN10),u=e/Math.pow(10,i);return i>=0?(u>=ba?10:u>=wa?5:u>=ma?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(u>=ba?10:u>=wa?5:u>=ma?2:1)}function ga(t,n){var r,e,i=t.length,u=-1;if(null==n){for(;++u<i;)if(null!=(r=t[u])&&r>=r)for(e=r;++u<i;)null!=(r=t[u])&&r>e&&(e=r)}else for(;++u<i;)if(null!=(r=n(t[u],u,t))&&r>=r)for(e=r;++u<i;)null!=(r=n(t[u],u,t))&&r>e&&(e=r);return e}function Ma(t){for(var n,r,e,i=t.length,u=-1,o=0;++u<i;)o+=t[u].length;for(r=new Array(o);--i>=0;)for(n=(e=t[i]).length;--n>=0;)r[--o]=e[n];return r}function Na(t,n){var r,e,i=t.length,u=-1;if(null==n){for(;++u<i;)if(null!=(r=t[u])&&r>=r)for(e=r;++u<i;)null!=(r=t[u])&&e>r&&(e=r)}else for(;++u<i;)if(null!=(r=n(t[u],u,t))&&r>=r)for(e=r;++u<i;)null!=(r=n(t[u],u,t))&&e>r&&(e=r);return e}function La(t,n){var r,e=t.length,i=-1,u=0;if(null==n)for(;++i<e;)(r=+t[i])&&(u+=r);else for(;++i<e;)(r=+n(t[i],i,t))&&(u+=r);return u}function ka(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Ea(){}function Aa(t,n){var r=new Ea;if(t instanceof Ea)t.each((function(t,n){r.set(n,t)}));else if(Array.isArray(t)){var e,i=-1,u=t.length;if(null==n)for(;++i<u;)r.set(i,t[i]);else for(;++i<u;)r.set(n(e=t[i],i,t),e)}else if(t)for(var o in t)r.set(o,t[o]);return r}Ea.prototype=Aa.prototype={constructor:Ea,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var Ta=Array.prototype,xa=Ta.map,Sa=Ta.slice,Oa={name:"implicit"};function Ia(t){return+t}var Ra=[0,1];function Fa(t){return t}function Ca(t,n){return(n-=t=+t)?function(r){return(r-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function Da(t){var n,r=t[0],e=t[t.length-1];return r>e&&(n=r,r=e,e=n),function(t){return Math.max(r,Math.min(e,t))}}function Ha(t,n,r){var e=t[0],i=t[1],u=n[0],o=n[1];return i<e?(e=Ca(i,e),u=r(o,u)):(e=Ca(e,i),u=r(u,o)),function(t){return u(e(t))}}function ja(t,n,r){var e=Math.min(t.length,n.length)-1,i=new Array(e),u=new Array(e),o=-1;for(t[e]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<e;)i[o]=Ca(t[o],t[o+1]),u[o]=r(n[o],n[o+1]);return function(n){var r=va(t,n,1,e)-1;return u[r](i[r](n))}}function Ua(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _a(t,n){return function(){var t,n,r,e,i,u,o=Ra,a=Ra,s=Fu,c=Fa;function f(){return e=Math.min(o.length,a.length)>2?ja:Ha,i=u=null,h}function h(n){return isNaN(n=+n)?r:(i||(i=e(o.map(t),a,s)))(t(c(n)))}return h.invert=function(r){return c(n((u||(u=e(a,o.map(t),xu)))(r)))},h.domain=function(t){return arguments.length?(o=xa.call(t,Ia),c===Fa||(c=Da(o)),f()):o.slice()},h.range=function(t){return arguments.length?(a=Sa.call(t),f()):a.slice()},h.rangeRound=function(t){return a=Sa.call(t),s=Cu,f()},h.clamp=function(t){return arguments.length?(c=t?Da(o):Fa,h):c!==Fa},h.interpolate=function(t){return arguments.length?(s=t,f()):s},h.unknown=function(t){return arguments.length?(r=t,h):r},function(r,e){return t=r,n=e,f()}}()(t,n)}function Pa(t,n){if((r=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var r,e=t.slice(0,r);return[e.length>1?e[0]+e.slice(2):e,+t.slice(r+1)]}function Wa(t){return(t=Pa(Math.abs(t)))?t[1]:NaN}var Ba,$a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ya(t){if(!(n=$a.exec(t)))throw new Error("invalid format: "+t);var n;return new qa({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function qa(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function za(t,n){var r=Pa(t,n);if(!r)return t+"";var e=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+e:e.length>i+1?e.slice(0,i+1)+"."+e.slice(i+1):e+new Array(i-e.length+2).join("0")}Ya.prototype=qa.prototype,qa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Va={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return za(100*t,n)},r:za,s:function(t,n){var r=Pa(t,n);if(!r)return t+"";var e=r[0],i=r[1],u=i-(Ba=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=e.length;return u===o?e:u>o?e+new Array(u-o+1).join("0"):u>0?e.slice(0,u)+"."+e.slice(u):"0."+new Array(1-u).join("0")+Pa(t,Math.max(0,n+u-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Ga(t){return t}var Za,Xa,Ka,Ja=Array.prototype.map,Qa=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ts(t){var n=t.domain;return t.ticks=function(t){var r=n();return function(t,n,r){var e,i,u,o,a=-1;if(r=+r,(t=+t)==(n=+n)&&r>0)return[t];if((e=n<t)&&(i=t,t=n,n=i),0===(o=ya(t,n,r))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),n=Math.floor(n/o),u=new Array(i=Math.ceil(n-t+1));++a<i;)u[a]=(t+a)*o;else for(t=Math.floor(t*o),n=Math.ceil(n*o),u=new Array(i=Math.ceil(t-n+1));++a<i;)u[a]=(t-a)/o;return e&&u.reverse(),u}(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,r){var e=n();return function(t,n,r,e){var i,u=function(t,n,r){var e=Math.abs(n-t)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),u=e/i;return u>=ba?i*=10:u>=wa?i*=5:u>=ma&&(i*=2),n<t?-i:i}(t,n,r);switch((e=Ya(null==e?",f":e)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(n));return null!=e.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Wa(n)/3)))-Wa(Math.abs(t)))}(u,o))||(e.precision=i),Ka(e,o);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Wa(n)-Wa(t))+1}(u,Math.max(Math.abs(t),Math.abs(n))))||(e.precision=i-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(i=function(t){return Math.max(0,-Wa(Math.abs(t)))}(u))||(e.precision=i-2*("%"===e.type))}return Xa(e)}(e[0],e[e.length-1],null==t?10:t,r)},t.nice=function(r){null==r&&(r=10);var e,i=n(),u=0,o=i.length-1,a=i[u],s=i[o];return s<a&&(e=a,a=s,s=e,e=u,u=o,o=e),(e=ya(a,s,r))>0?e=ya(a=Math.floor(a/e)*e,s=Math.ceil(s/e)*e,r):e<0&&(e=ya(a=Math.ceil(a*e)/e,s=Math.floor(s*e)/e,r)),e>0?(i[u]=Math.floor(a/e)*e,i[o]=Math.ceil(s/e)*e,n(i)):e<0&&(i[u]=Math.ceil(a*e)/e,i[o]=Math.floor(s*e)/e,n(i)),t},t}function ns(t,n,r){t.prototype=n.prototype=r,r.constructor=t}function rs(t,n){var r=Object.create(t.prototype);for(var e in n)r[e]=n[e];return r}function es(){}Za=function(t){var n,r,e=void 0===t.grouping||void 0===t.thousands?Ga:(n=Ja.call(t.grouping,Number),r=t.thousands+"",function(t,e){for(var i=t.length,u=[],o=0,a=n[0],s=0;i>0&&a>0&&(s+a+1>e&&(a=Math.max(1,e-s)),u.push(t.substring(i-=a,i+a)),!((s+=a+1)>e));)a=n[o=(o+1)%n.length];return u.reverse().join(r)}),i=void 0===t.currency?"":t.currency[0]+"",u=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?Ga:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Ja.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",f=void 0===t.nan?"NaN":t.nan+"";function h(t){var n=(t=Ya(t)).fill,r=t.align,h=t.sign,l=t.symbol,d=t.zero,v=t.width,p=t.comma,b=t.precision,w=t.trim,m=t.type;"n"===m?(p=!0,m="g"):Va[m]||(void 0===b&&(b=12),w=!0,m="g"),(d||"0"===n&&"="===r)&&(d=!0,n="0",r="=");var y="$"===l?i:"#"===l&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",g="$"===l?u:/[%p]/.test(m)?s:"",M=Va[m],N=/[defgprs%]/.test(m);function L(t){var i,u,s,l=y,L=g;if("c"===m)L=M(t)+L,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?f:M(Math.abs(t),b),w&&(t=function(t){t:for(var n,r=t.length,e=1,i=-1;e<r;++e)switch(t[e]){case".":i=n=e;break;case"0":0===i&&(i=e),n=e;break;default:if(!+t[e])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),k&&0==+t&&"+"!==h&&(k=!1),l=(k?"("===h?h:c:"-"===h||"("===h?"":h)+l,L=("s"===m?Qa[8+Ba/3]:"")+L+(k&&"("===h?")":""),N)for(i=-1,u=t.length;++i<u;)if(48>(s=t.charCodeAt(i))||s>57){L=(46===s?o+t.slice(i+1):t.slice(i))+L,t=t.slice(0,i);break}}p&&!d&&(t=e(t,1/0));var E=l.length+t.length+L.length,A=E<v?new Array(v-E+1).join(n):"";switch(p&&d&&(t=e(A+t,A.length?v-L.length:1/0),A=""),r){case"<":t=l+t+L+A;break;case"=":t=l+A+t+L;break;case"^":t=A.slice(0,E=A.length>>1)+l+t+L+A.slice(E);break;default:t=A+l+t+L}return a(t)}return b=void 0===b?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),L.toString=function(){return t+""},L}return{format:h,formatPrefix:function(t,n){var r=h(((t=Ya(t)).type="f",t)),e=3*Math.max(-8,Math.min(8,Math.floor(Wa(n)/3))),i=Math.pow(10,-e),u=Qa[8+e/3];return function(t){return r(i*t)+u}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Xa=Za.format,Ka=Za.formatPrefix;var is="\\s*([+-]?\\d+)\\s*",us="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",os="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",as=/^#([0-9a-f]{3})$/,ss=/^#([0-9a-f]{6})$/,cs=new RegExp("^rgb\\("+[is,is,is]+"\\)$"),fs=new RegExp("^rgb\\("+[os,os,os]+"\\)$"),hs=new RegExp("^rgba\\("+[is,is,is,us]+"\\)$"),ls=new RegExp("^rgba\\("+[os,os,os,us]+"\\)$"),ds=new RegExp("^hsl\\("+[us,os,os]+"\\)$"),vs=new RegExp("^hsla\\("+[us,os,os,us]+"\\)$"),ps={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function bs(){return this.rgb().formatHex()}function ws(){return this.rgb().formatRgb()}function ms(t){var n;return t=(t+"").trim().toLowerCase(),(n=as.exec(t))?new Ls((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=ss.exec(t))?ys(parseInt(n[1],16)):(n=cs.exec(t))?new Ls(n[1],n[2],n[3],1):(n=fs.exec(t))?new Ls(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=hs.exec(t))?gs(n[1],n[2],n[3],n[4]):(n=ls.exec(t))?gs(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=ds.exec(t))?Ts(n[1],n[2]/100,n[3]/100,1):(n=vs.exec(t))?Ts(n[1],n[2]/100,n[3]/100,n[4]):ps.hasOwnProperty(t)?ys(ps[t]):"transparent"===t?new Ls(NaN,NaN,NaN,0):null}function ys(t){return new Ls(t>>16&255,t>>8&255,255&t,1)}function gs(t,n,r,e){return e<=0&&(t=n=r=NaN),new Ls(t,n,r,e)}function Ms(t){return t instanceof es||(t=ms(t)),t?new Ls((t=t.rgb()).r,t.g,t.b,t.opacity):new Ls}function Ns(t,n,r,e){return 1===arguments.length?Ms(t):new Ls(t,n,r,null==e?1:e)}function Ls(t,n,r,e){this.r=+t,this.g=+n,this.b=+r,this.opacity=+e}function ks(){return"#"+As(this.r)+As(this.g)+As(this.b)}function Es(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function As(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ts(t,n,r,e){return e<=0?t=n=r=NaN:r<=0||r>=1?t=n=NaN:n<=0&&(t=NaN),new Os(t,n,r,e)}function xs(t){if(t instanceof Os)return new Os(t.h,t.s,t.l,t.opacity);if(t instanceof es||(t=ms(t)),!t)return new Os;if(t instanceof Os)return t;var n=(t=t.rgb()).r/255,r=t.g/255,e=t.b/255,i=Math.min(n,r,e),u=Math.max(n,r,e),o=NaN,a=u-i,s=(u+i)/2;return a?(o=n===u?(r-e)/a+6*(r<e):r===u?(e-n)/a+2:(n-r)/a+4,a/=s<.5?u+i:2-u-i,o*=60):a=s>0&&s<1?0:o,new Os(o,a,s,t.opacity)}function Ss(t,n,r,e){return 1===arguments.length?xs(t):new Os(t,n,r,null==e?1:e)}function Os(t,n,r,e){this.h=+t,this.s=+n,this.l=+r,this.opacity=+e}function Is(t,n,r){return 255*(t<60?n+(r-n)*t/60:t<180?r:t<240?n+(r-n)*(240-t)/60:n)}ns(es,ms,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:bs,formatHex:bs,formatHsl:function(){return xs(this).formatHsl()},formatRgb:ws,toString:ws}),ns(Ls,Ns,rs(es,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ls(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ls(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ks,formatHex:ks,formatRgb:Es,toString:Es})),ns(Os,Ss,rs(es,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Os(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Os(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,e=r+(r<.5?r:1-r)*n,i=2*r-e;return new Ls(Is(t>=240?t-240:t+120,i,e),Is(t,i,e),Is(t<120?t+240:t-120,i,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Rs=Math.PI/180,Fs=180/Math.PI;function Cs(t){if(t instanceof Ds)return new Ds(t.l,t.a,t.b,t.opacity);if(t instanceof Ws)return Bs(t);t instanceof Ls||(t=Ms(t));var n,r,e=_s(t.r),i=_s(t.g),u=_s(t.b),o=Hs((.2225045*e+.7168786*i+.0606169*u)/1);return e===i&&i===u?n=r=o:(n=Hs((.4360747*e+.3850649*i+.1430804*u)/.96422),r=Hs((.0139322*e+.0971045*i+.7141733*u)/.82521)),new Ds(116*o-16,500*(n-o),200*(o-r),t.opacity)}function Ds(t,n,r,e){this.l=+t,this.a=+n,this.b=+r,this.opacity=+e}function Hs(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/(6/29*3*(6/29))+4/29}function js(t){return t>6/29?t*t*t:6/29*3*(6/29)*(t-4/29)}function Us(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function _s(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ps(t){if(t instanceof Ws)return new Ws(t.h,t.c,t.l,t.opacity);if(t instanceof Ds||(t=Cs(t)),0===t.a&&0===t.b)return new Ws(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Fs;return new Ws(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ws(t,n,r,e){this.h=+t,this.c=+n,this.l=+r,this.opacity=+e}function Bs(t){if(isNaN(t.h))return new Ds(t.l,0,0,t.opacity);var n=t.h*Rs;return new Ds(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}function $s(t){if(t instanceof Ys)return new Ys(t.h,t.s,t.l,t.opacity);t instanceof Ls||(t=Ms(t));var n=t.g/255,r=t.b/255,e=(-.6557636667999999*r+t.r/255*-1.7884503806-3.5172982438*n)/-5.9615122912,i=r-e,u=(1.97294*(n-e)- -.29227*i)/-.90649,o=Math.sqrt(u*u+i*i)/(1.97294*e*(1-e)),a=o?Math.atan2(u,i)*Fs-120:NaN;return new Ys(a<0?a+360:a,o,e,t.opacity)}function Ys(t,n,r,e){this.h=+t,this.s=+n,this.l=+r,this.opacity=+e}ns(Ds,(function(t,n,r,e){return 1===arguments.length?Cs(t):new Ds(t,n,r,null==e?1:e)}),rs(es,{brighter:function(t){return new Ds(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ds(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return new Ls(Us(3.1338561*(n=.96422*js(n))-1.6168667*(t=1*js(t))-.4906146*(r=.82521*js(r))),Us(-.9787684*n+1.9161415*t+.033454*r),Us(.0719453*n-.2289914*t+1.4052427*r),this.opacity)}})),ns(Ws,(function(t,n,r,e){return 1===arguments.length?Ps(t):new Ws(t,n,r,null==e?1:e)}),rs(es,{brighter:function(t){return new Ws(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Ws(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Bs(this).rgb()}})),ns(Ys,(function(t,n,r,e){return 1===arguments.length?$s(t):new Ys(t,n,r,null==e?1:e)}),rs(es,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ys(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ys(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Rs,n=+this.l,r=isNaN(this.s)?0:this.s*n*(1-n),e=Math.cos(t),i=Math.sin(t);return new Ls(255*(n+r*(-.14861*e+1.78277*i)),255*(n+r*(-.29227*e+-.90649*i)),255*(n+r*(1.97294*e)),this.opacity)}}));var qs={pri_grey:"#5C5C5C",sec_blue:"#003ea9",sec_orange:"#ef8400",sec_yellow:"#ffd700",comp_blue:"#2bb4da",comp_green:"#00a25e",supp_pink:"#ae48b4",supp_purple:"#7f48b4",supp_green:"#649f4a",supp_red:"#a50026",base_grey:"#D7D7DE",light_text:"#ffffff",grey_text:"#565656",dark_text:"#222222",oss_blue:"#0051dc",oss_light_blue:"#7FA8ED",oss_dark_grey:"#363636",oss_light_grey:"#D7D7D7",categorical_blue:"#226092",categorical_light_blue:"#7c99b1",categorical_blue_text:"#164d79",categorical_purple:"#796aaf",categorical_light_purple:"#cacae7",categorical_purple_text:"#66589b",categorical_olive:"#829e46",categorical_light_olive:"#abb798",categorical_olive_text:"#498329",categorical_grey:"#7a6763",categorical_light_grey:"#a19491",categorical_grey_text:"#6e5a55",categorical_rose:"#c18174",categorical_light_rose:"#e7c0b8",categorical_rose_text:"#954737",categorical_brown:"#43312d",categorical_light_brown:"#624c48",categorical_brown_text:"#43312d"};function zs(t){return Ss(qs[t]||t).darker(1.5).hex()}var Vs=[[7],[7],[2,6],[0,3,6],[0,2,4,6],[0,1,3,5,7],[1,2,3,4,5,6],[0,1,2,3,4,5,6],[0,1,2,3,4,5,6,7]],Gs=[[0],[0],[0,9],[0,4,9],[0,3,6,9],[0,2,4,6,9],[0,2,4,5,7,9],[0,1,2,4,7,8,9],[0,1,2,3,6,7,8,9],[0,1,2,3,4,6,7,8,9],[0,1,2,3,4,5,6,7,8,9]],Zs=[[0],[0],[0,1],[0,1,2],[0,1,2,3],[0,1,2,3,4],[0,1,2,3,4,5],[0,1,2,3,4,5,6],[0,1,2,3,4,5,6,7],[0,1,2,3,4,5,6,7,8],[0,1,2,3,4,5,6,7,8,9]];function Xs(t){var n=[];return n.push(Js(t)),tc(Qs(t),1)>=3&&n.push(t),n}function Ks(t,n,r){var e=Qs(t),i=Ss(t),u=!1,o=!1;if("darken"===n)for(i.l-=.01;tc(Qs(i.hex()),e)<r&&!o;)i.l-=.01,u&&(o=!0),i.l<0&&(i.l=0,u=!0);else for(i.l+=.01;tc(Qs(i.hex()),e)<r&&!o;)i.l+=.01,u&&(o=!0),i.l>1&&(i.l=1,u=!0);return o?"":i.hex()}function Js(t){var n=Qs(t),r=tc(n,1),e=Ss(t);if(r<3)for(e.l-=.01;e.l>0&&tc(Qs(e.hex()),n)<3&&e.l;)e.l-=.01,e.l<0&&(e.l=0);else for(e.l+=.01;tc(Qs(e.hex()),n)<3&&1!==e.l;)e.l+=.01,e.l>1&&(e.l=1);return e.hex()}function Qs(t){function n(t){return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}var r=Ns(t);return.2126*n(r.r/255)+.7152*n(r.g/255)+.0722*n(r.b/255)}function tc(t,n){return t>=n?(t+.05)/(n+.05):(n+.05)/(t+.05)}function nc(t){return qs[t]||t}function rc(t,n,r){if(r)n.apply(this,arguments);else{var e=0;t.each((function(){++e})).on("end",(function(){--e||n.apply(this,arguments)}))}}var ec="Safari"===Tt(),ic={categorical:[[0],[0],[0,1],[0,1,2],[0,1,2,3],[0,1,2,3,4],[0,1,2,3,4,5]],sequential:[[0],[0],[0,8],[0,4,8],[1,3,5,7],[0,2,4,6,8],[1,2,3,4,5,6],[1,2,3,4,5,6,7],[0,1,2,3,4,5,6,7],[0,1,2,3,4,5,6,7,8]],diverging_center:[,[5],,[0,5,10],,[1,3,5,7,9],,[2,3,4,5,6,7,8],,[1,2,3,4,5,6,7,8,9],,[0,1,2,3,4,5,6,7,8,9,10]],diverging_split:[,,[1,8],,[0,3,6,9],,[0,2,4,5,7,9],,[0,1,2,3,6,7,8,9],,[0,1,2,3,4,5,6,7,8,9]]};function uc(t){var n=t.id,r=t.fillColor,e=t.textureColor;return{categorical:[{attributes:{width:12,height:12,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12",height:"12",fill:""+r}},{name:"path",attributes:{d:"M 0,0 l 12,12 M -3,9 l 6,6 M 9,-3 l 6,6","stroke-width":"1","shape-rendering":"auto",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:12,height:12,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12",height:"12",fill:""+r}},{name:"circle",attributes:{cx:"6",cy:"6",r:"1",fill:""+e,stroke:"#343434","stroke-width":"0"}},{name:"circle",attributes:{cx:"0",cy:"0",r:"1",fill:""+e,stroke:"#343434","stroke-width":"0"}},{name:"circle",attributes:{cx:"0",cy:"12",r:"1",fill:""+e,stroke:"#343434","stroke-width":"0"}},{name:"circle",attributes:{cx:"12",cy:"0",r:"1",fill:""+e,stroke:"#343434","stroke-width":"0"}},{name:"circle",attributes:{cx:"12",cy:"12",r:"1",fill:""+e,stroke:"#343434","stroke-width":"0"}}]},{attributes:{width:24,height:24,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"24",height:"24",fill:""+r}},{name:"path",attributes:{d:"M 0,0 l 24,24 M -6,18 l 12,12 M 18,-6 l 12,12","stroke-width":"1","shape-rendering":"auto",stroke:""+e,"stroke-linecap":"square"}},{name:"path",attributes:{d:"M 0,24 l 24,-24 M -6,6 l 12,-12 M 18,30 l 12,-12","stroke-width":"1","shape-rendering":"auto",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:12,height:12,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12",height:"12",fill:""+r}},{name:"path",attributes:{d:"M 4.5,4.5l3,3M4.5,7.5l3,-3",fill:"transparent",stroke:""+e,"stroke-width":"1","stroke-linecap":"square","shape-rendering":"auto"}}]},{attributes:{width:10,height:10,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10",height:"10",fill:""+r}},{name:"path",attributes:{d:"M 5, 0 l 0, 10","stroke-width":"1","shape-rendering":"auto",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:12,height:12,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12",height:"12",fill:""+r}},{name:"circle",attributes:{cx:"6",cy:"6",r:"1.5",fill:"none",stroke:""+e,"stroke-width":"1"}},{name:"circle",attributes:{cx:"2",cy:"10",r:"1.5",fill:"none",stroke:""+e,"stroke-width":"1"}},{name:"circle",attributes:{cx:"10",cy:"2",r:"1.5",fill:"none",stroke:""+e,"stroke-width":"1"}}]}],sequential:[{attributes:{width:10,height:10,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10",height:"10",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 0 L 10 0M 0 10 L 10 10","stroke-width":"1",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:52.40843064167849,height:10.187166949552141,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"52.40843064167849",height:"10.187166949552141",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -52.40843064167849 10.187166949552141 L 52.40843064167849 -10.187166949552141M -52.40843064167849 20.374333899104283 L 104.81686128335699 -10.187166949552141M 0 20.374333899104283 L 104.81686128335699 0","stroke-width":"2",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:26.694671625540145,height:10.785347426775834,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"26.694671625540145",height:"10.785347426775834",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -26.694671625540145 10.785347426775834 L 26.694671625540145 -10.785347426775834M -26.694671625540145 21.570694853551668 L 53.38934325108029 -10.785347426775834M 0 21.570694853551668 L 53.38934325108029 0","stroke-width":"3",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:17.882916499714003,height:12.062179485039053,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"17.882916499714003",height:"12.062179485039053",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -17.882916499714003 12.062179485039053 L 17.882916499714003 -12.062179485039053M -17.882916499714003 24.124358970078106 L 35.76583299942801 -12.062179485039053M 0 24.124358970078106 L 35.76583299942801 0","stroke-width":"4",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:14.142135623730951,height:14.14213562373095,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"14.142135623730951",height:"14.14213562373095",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -14.142135623730951 14.14213562373095 L 14.142135623730951 -14.14213562373095M -14.142135623730951 28.2842712474619 L 28.284271247461902 -14.14213562373095M 0 28.2842712474619 L 28.284271247461902 0","stroke-width":"5",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:12.062179485039053,height:17.882916499714003,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12.062179485039053",height:"17.882916499714003",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -12.062179485039053 17.882916499714003 L 12.062179485039053 -17.882916499714003M -12.062179485039053 35.76583299942801 L 24.124358970078106 -17.882916499714003M 0 35.76583299942801 L 24.124358970078106 0","stroke-width":"6",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:10.863603774052963,height:25.593046652474495,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10.863603774052963",height:"25.593046652474495",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -10.863603774052963 25.593046652474495 L 10.863603774052963 -25.593046652474495M -10.863603774052963 51.18609330494899 L 21.727207548105927 -25.593046652474495M 0 51.18609330494899 L 21.727207548105927 0","stroke-width":"7",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:10.187166949552141,height:52.40843064167844,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10.187166949552141",height:"52.40843064167844",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -10.187166949552141 52.40843064167844 L 10.187166949552141 -52.40843064167844M -10.187166949552141 104.81686128335689 L 20.374333899104283 -52.40843064167844M 0 104.81686128335689 L 20.374333899104283 0","stroke-width":"8",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:10,height:10,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10",height:"10",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 0 L 0 10M 10 0 L 10 10","stroke-width":"9",stroke:""+e,"stroke-linecap":"square"}}]}],diverging_split:[{attributes:{width:10.35276180410083,height:38.63703305156273,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10.35276180410083",height:"38.63703305156273",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -38.63703305156273 L 20.70552360820166 38.63703305156273M -10.35276180410083 -38.63703305156273 L 10.35276180410083 38.63703305156273M -10.35276180410083 0 L 10.35276180410083 77.27406610312546","stroke-width":"9",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:11.547005383792516,height:20.000000000000004,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"11.547005383792516",height:"20.000000000000004",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -20.000000000000004 L 23.094010767585033 20.000000000000004M -11.547005383792516 -20.000000000000004 L 11.547005383792516 20.000000000000004M -11.547005383792516 0 L 11.547005383792516 40.00000000000001","stroke-width":"7",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:14.142135623730951,height:14.142135623730951,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"14.142135623730951",height:"14.142135623730951",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -14.142135623730951 L 28.284271247461902 14.142135623730951M -14.142135623730951 -14.142135623730951 L 14.142135623730951 14.142135623730951M -14.142135623730951 0 L 14.142135623730951 28.284271247461902","stroke-width":"5",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:20.000000000000004,height:11.547005383792516,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"20.000000000000004",height:"11.547005383792516",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -11.547005383792516 L 40.00000000000001 11.547005383792516M -20.000000000000004 -11.547005383792516 L 20.000000000000004 11.547005383792516M -20.000000000000004 0 L 20.000000000000004 23.094010767585033","stroke-width":"3",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:38.63703305156273,height:10.35276180410083,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"38.63703305156273",height:"10.35276180410083",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -10.35276180410083 L 77.27406610312546 10.35276180410083M -38.63703305156273 -10.35276180410083 L 38.63703305156273 10.35276180410083M -38.63703305156273 0 L 38.63703305156273 20.70552360820166","stroke-width":"1",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:38.63703305156273,height:10.35276180410083,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"38.63703305156273",height:"10.35276180410083",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -38.63703305156273 10.35276180410083 L 38.63703305156273 -10.35276180410083M -38.63703305156273 20.70552360820166 L 77.27406610312546 -10.35276180410083M 0 20.70552360820166 L 77.27406610312546 0","stroke-width":"1",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:20.000000000000004,height:11.547005383792515,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"20.000000000000004",height:"11.547005383792515",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -20.000000000000004 11.547005383792515 L 20.000000000000004 -11.547005383792515M -20.000000000000004 23.09401076758503 L 40.00000000000001 -11.547005383792515M 0 23.09401076758503 L 40.00000000000001 0","stroke-width":"3",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:14.142135623730951,height:14.14213562373095,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"14.142135623730951",height:"14.14213562373095",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -14.142135623730951 14.14213562373095 L 14.142135623730951 -14.14213562373095M -14.142135623730951 28.2842712474619 L 28.284271247461902 -14.14213562373095M 0 28.2842712474619 L 28.284271247461902 0","stroke-width":"5",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:11.547005383792516,height:20.000000000000004,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"11.547005383792516",height:"20.000000000000004",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -11.547005383792516 20.000000000000004 L 11.547005383792516 -20.000000000000004M -11.547005383792516 40.00000000000001 L 23.094010767585033 -20.000000000000004M 0 40.00000000000001 L 23.094010767585033 0","stroke-width":"7",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:10.35276180410083,height:38.637033051562696,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"10.35276180410083",height:"38.637033051562696",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -10.35276180410083 38.637033051562696 L 10.35276180410083 -38.637033051562696M -10.35276180410083 77.27406610312539 L 20.70552360820166 -38.637033051562696M 0 77.27406610312539 L 20.70552360820166 0","stroke-width":"9",stroke:""+e,"stroke-linecap":"square"}}]}],diverging_center:[{attributes:{width:12.423314164920995,height:46.36443966187528,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12.423314164920995",height:"46.36443966187528",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -46.36443966187528 L 24.84662832984199 46.36443966187528M -12.423314164920995 -46.36443966187528 L 12.423314164920995 46.36443966187528M -12.423314164920995 0 L 12.423314164920995 92.72887932375056","stroke-width":"11",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:13.85640646055102,height:24.000000000000004,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"13.85640646055102",height:"24.000000000000004",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -24.000000000000004 L 27.71281292110204 24.000000000000004M -13.85640646055102 -24.000000000000004 L 13.85640646055102 24.000000000000004M -13.85640646055102 0 L 13.85640646055102 48.00000000000001","stroke-width":"9",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:16.970562748477143,height:16.970562748477143,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"16.970562748477143",height:"16.970562748477143",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -16.970562748477143 L 33.941125496954285 16.970562748477143M -16.970562748477143 -16.970562748477143 L 16.970562748477143 16.970562748477143M -16.970562748477143 0 L 16.970562748477143 33.941125496954285","stroke-width":"7",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:24.000000000000004,height:13.85640646055102,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"24.000000000000004",height:"13.85640646055102",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -13.85640646055102 L 48.00000000000001 13.85640646055102M -24.000000000000004 -13.85640646055102 L 24.000000000000004 13.85640646055102M -24.000000000000004 0 L 24.000000000000004 27.71281292110204","stroke-width":"5",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:46.36443966187528,height:12.423314164920995,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"46.36443966187528",height:"12.423314164920995",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 -12.423314164920995 L 92.72887932375056 12.423314164920995M -46.36443966187528 -12.423314164920995 L 46.36443966187528 12.423314164920995M -46.36443966187528 0 L 46.36443966187528 24.84662832984199","stroke-width":"3",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:12,height:12,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12",height:"12",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M 0 0 L 12 0M 0 12 L 12 12","stroke-width":"1",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:46.36443966187528,height:12.423314164920995,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"46.36443966187528",height:"12.423314164920995",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -46.36443966187528 12.423314164920995 L 46.36443966187528 -12.423314164920995M -46.36443966187528 24.84662832984199 L 92.72887932375056 -12.423314164920995M 0 24.84662832984199 L 92.72887932375056 0","stroke-width":"3",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:24.000000000000004,height:13.856406460551018,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"24.000000000000004",height:"13.856406460551018",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -24.000000000000004 13.856406460551018 L 24.000000000000004 -13.856406460551018M -24.000000000000004 27.712812921102035 L 48.00000000000001 -13.856406460551018M 0 27.712812921102035 L 48.00000000000001 0","stroke-width":"5",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:16.970562748477143,height:16.97056274847714,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"16.970562748477143",height:"16.97056274847714",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -16.970562748477143 16.97056274847714 L 16.970562748477143 -16.97056274847714M -16.970562748477143 33.94112549695428 L 33.941125496954285 -16.97056274847714M 0 33.94112549695428 L 33.941125496954285 0","stroke-width":"7",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:13.85640646055102,height:24.000000000000004,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"13.85640646055102",height:"24.000000000000004",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -13.85640646055102 24.000000000000004 L 13.85640646055102 -24.000000000000004M -13.85640646055102 48.00000000000001 L 27.71281292110204 -24.000000000000004M 0 48.00000000000001 L 27.71281292110204 0","stroke-width":"9",stroke:""+e,"stroke-linecap":"square"}}]},{attributes:{width:12.423314164920995,height:46.36443966187523,patternUnits:"userSpaceOnUse",id:""+n,class:"VCL-texture-pattern"},children:[{name:"rect",attributes:{width:"12.423314164920995",height:"46.36443966187523",fill:""+r,stroke:"rgba(255, 0, 0, 0.1)","stroke-width":"0"}},{name:"path",attributes:{d:"M -12.423314164920995 46.36443966187523 L 12.423314164920995 -46.36443966187523M -12.423314164920995 92.72887932375046 L 24.84662832984199 -46.36443966187523M 0 92.72887932375046 L 24.84662832984199 0","stroke-width":"11",stroke:""+e,"stroke-linecap":"square"}}]}]}[t.scheme][t.index]}var oc=function(t,n,r,e){var i=r[0],u=r[r.length-1],o="categorical"!==e&&e?"sequential"===e?"sequential":r.length%2?"diverging_center":"diverging_split":"categorical";if("categorical"===o)u=Js(t),i=t;else if("sequential"!==o)if(o.includes("center")){var a=(r.length-1)/2-1,s=a+1+1;n<=a?(u=r[0],i=r[a]):n>=s?(u=r[r.length-1],i=r[s]):(u=Js(t),i=t)}else{var c=r.length/2;n<c?(u=r[0],i=r[c-1]):(u=r[r.length-1],i=r[c])}return{fillColor:i,textureColor:u,textureScheme:o}},ac=function(t){var n=t.id,r=t.state,e=t.fillColor,i=t.strokeWidth,u=t.forceStrokeColor,o=t.includeOuterStroke,a=t.strokeOnHover,s=t.alwaysShowStroke,c=t.stacked,f=pt(t.root).select("defs"),h=Xs(e),l="hover"===r&&!a||1!==h.length&&"click"!==r?e:h[0],d=e,v=h[1]||"",p=o?"#ffffff":"",b="VCL-filter-"+("#"===l[0]?l.substring(1):l)+"-"+r+"-"+n;f.select("#"+b).size()&&f.select("#"+b).remove();var w=f.append("filter").attr("id",b).attr("class","VCL-accessibility-stroke-filter"),m=sc("hover"!==r&&u?u:l,d,l!==e||"hover"===r||s?i:0,p,v,c?.5:0);m.forEach((function(t){w.append("feMorphology").attr("in","SourceAlpha").attr("operator",t.operator).attr("radius",t.radius).attr("result",t.result?t.result+"-morph":"morph-"+t.operator+"-"+t.radius),t.color&&w.append("feFlood").attr("flood-color",t.color).attr("result",t.result+"-color"),w.append("feComposite").attr("in",t.result?t.result+"-color":"SourceGraphic").attr("in2",t.result?t.result+"-morph":"morph-"+t.operator+"-"+t.radius).attr("operator","in").attr("result",t.result?t.result+"-stroke":"fill")}));var y=w.append("feMerge");return m.forEach((function(t){y.append("feMergeNode").attr("in",t.result?t.result+"-stroke":"fill")})),hc(b)},sc=function(t,n,r,e,i,u){var o=[],a=Tt(),s="IE"!==a&&"Edge"!==a?0:1,c="Safari"!==a?s:.1;return e&&o.push({color:e,result:"outside",operator:u?"erode":"dilate",radius:u?0:1}),i&&(c++,o.push({color:i,result:"edge",operator:"erode",radius:s+u})),o.push({color:t,result:"primary",operator:"erode",radius:c+u}),o.push({color:n,result:"clean",operator:"erode",radius:c+r+u}),o.push({operator:"erode",radius:c+r+1+u}),o},cc=function(t,n){t.attr("class",n+"-highlight "+n+"-hover").attr("focusable",!1).attr("aria-label",null).attr("aria-hidden",!0).attr("role",null).style("pointer-events","none").attr("tabindex",null).attr("mix-blend-mode",null).style("mix-blend-mode",null)},fc=function(t,n,r,e,i){t.style("stroke-linecap","butt").style("outline-offset","0px").style("outline-color","none").style("outline-width","0px").attr("fill","none").style("fill","none").style("stroke-opacity",1).attr("marker-start",null).attr("marker-end",null).attr("filter",null).attr("stroke-dasharray",i?"8 6":null).attr("clip-path",r).style("stroke-width",(function(t,r,i){var u=pt(i[r]).attr("transform")?pt(i[r]).attr("transform").indexOf("scale"):-1,o=1;if(u>-1){var a=pt(i[r]).attr("transform").substring(u+6),s=a.indexOf(",")<a.indexOf(")")&&-1!==a.indexOf(",")?a.indexOf(","):a.indexOf(")");o=+a.substring(0,s)}return((e?2:0)+2*n)/o+"px"}))},hc=function(t){var n=window.location.pathname;return"/"===n[n.length-1]&&(n=n.substring(0,n.length-1)),(ec?"url("+window.location.protocol+"//"+window.location.host+n+"#":"url(#")+t+")"},lc=function(t,n){return t+"-"+((n instanceof Date?n.getTime():n)+"").replace(/\W/g,"-")};function dc(t,n,r,e,i,u){var o=0===n?0:r,a=pc(t,i,u),s=vc(t,e,u);return s||a?o=n:e&&!s||0!==i.length&&!a||(o=n),o}function vc(t,n,r){var e=0;return n&&r.map((function(r){n[r]instanceof Date&&t[r]instanceof Date?n[r].getTime()===t[r].getTime()&&e++:n[r]===t[r]&&e++})),r&&r.length&&e===r.length}function pc(t,n,r){var e=!1;if(n&&n.length)for(var i=function(i){var u=0;if(r.map((function(r){n[i][r]instanceof Date&&t[r]instanceof Date?n[i][r].getTime()===t[r].getTime()&&u++:n[i][r]===t[r]&&u++})),u===r.length)return e=!0,"break"},u=0;u<n.length&&"break"!==i(u);u++);return r&&r.length&&e}var bc,wc,mc=[],yc=null,gc=750,Mc=1,Nc=null,Lc=6,kc=6,Ec=3,Ac=0,Tc=0,xc=0,Sc=1,Oc="x",Ic=Hc;function Rc(t){var n=null==yc?bc.ticks?bc.ticks.apply(bc,mc):bc.domain():yc,r=null==Nc?bc.tickFormat?bc.tickFormat.apply(bc,mc):Dc:Nc,e=Math.max(Lc,0)+Ec,i=bc.range(),u=+i[0]+.5,o=+i[i.length-1]+.5,a=(bc.bandwidth?_c:Uc)(bc.copy()),s=t.selection?t.selection():t,c=s.selectAll(".domain").data([null]),f=s.selectAll(".tick").data(n,bc).order(),h=f.exit(),l=f.enter().append("g").attr("class","tick").attr("data-testid","axis-tick"),d=f.select("line"),v=f.select("text");c=c.merge(c.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),s.selectAll(".domain").attr("class",wc?"domain hidden":"domain"),f=f.merge(l),d=d.merge(l.append("line").attr("data-testid","axis-tick-line").attr("stroke","currentColor").attr(Oc+"2",Sc*Lc)),bc.formattedTicks||(bc.formattedTicks=[]),v=v.merge(l.append("text").attr("data-testid","axis-tick-text").attr("fill","currentColor").attr(Oc,Sc*e).attr("dy",1===Mc?"0em":3===Mc?"0.71em":"0.32em")).text((function(t,n){return r(t,n)&&bc.formattedTicks.push(r(t,n)),r(t,n)})),xc>0&&v.call(Fc),t!==s&&gc&&(c=c.transition(t).duration(gc).ease(sa),f=f.transition(t).duration(gc).ease(sa),d=d.transition(t).duration(gc).ease(sa),v=v.transition(t).duration(gc).ease(sa),h=h.transition(t).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=a(t))?Ic(t):this.getAttribute("transform")})),l.attr("opacity",1e-6).attr("transform",(function(t){var n=this.parentNode.__axis;return Ic(n&&isFinite(n=n(t))?n:a(t))}))),h.remove(),c.attr("d",4===Mc||2===Mc?kc?"M"+Sc*kc+","+u+"H0.5V"+o+"H"+Sc*kc:"M0.5,"+u+"V"+o:kc?"M"+u+","+Sc*kc+"V0.5H"+o+"V"+Sc*kc:"M"+u+",0.5H"+o),f.attr("opacity",1).attr("transform",(function(t){return Ic(a(t))})),d.attr(Oc+"2",Sc*Lc),v.attr(Oc,Sc*e),s.filter(Pc).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===Mc?"start":4===Mc?"end":"middle"),s.each((function(){this.__axis=a}))}function Fc(t){t.each((function(){var t=pt(this),n=Tn({text:t.text(),width:xc,fontSize:12,noPadding:!1,wholeWords:!1}),r=Tc,e=0,i=t.attr("y"),u=parseFloat(t.attr("dy"));t.text(null),n.forEach((function(n){t.append("tspan").attr("data-testid","axis-tick-text-tspan").attr("x",Ac).attr("y",i).attr("dy",e*r+u+"em").text(n),e++}))}))}function Cc(){Sc=1===Mc||4===Mc?-1:1,Oc=4===Mc||2===Mc?"x":"y",Ic=1===Mc||3===Mc?Hc:jc}function Dc(t){return t}function Hc(t){return"translate("+(t+.5)+",0)"}function jc(t){return"translate(0,"+(t+.5)+")"}function Uc(t){return function(n){return+t(n)}}function _c(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(r){return+t(r)+n}}function Pc(){return!this.__axis}var Wc=Array.prototype.slice;function Bc(t){return t}function $c(t){return"translate("+(t+.5)+",0)"}function Yc(t){return"translate(0,"+(t+.5)+")"}function qc(t){return function(n){return+t(n)}}function zc(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(r){return+t(r)+n}}function Vc(){return!this.__axis}function Gc(t,n){var r=[],e=null,i=null,u=6,o=6,a=3,s=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",f=1===t||3===t?$c:Yc;function h(h){var l=null==e?n.ticks?n.ticks.apply(n,r):n.domain():e,d=null==i?n.tickFormat?n.tickFormat.apply(n,r):Bc:i,v=Math.max(u,0)+a,p=n.range(),b=+p[0]+.5,w=+p[p.length-1]+.5,m=(n.bandwidth?zc:qc)(n.copy()),y=h.selection?h.selection():h,g=y.selectAll(".domain").data([null]),M=y.selectAll(".tick").data(l,n).order(),N=M.exit(),L=M.enter().append("g").attr("class","tick"),k=M.select("line"),E=M.select("text");g=g.merge(g.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(L),k=k.merge(L.append("line").attr("stroke","currentColor").attr(c+"2",s*u)),E=E.merge(L.append("text").attr("fill","currentColor").attr(c,s*v).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==y&&(g=g.transition(h),M=M.transition(h),k=k.transition(h),E=E.transition(h),N=N.transition(h).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=m(t))?f(t):this.getAttribute("transform")})),L.attr("opacity",1e-6).attr("transform",(function(t){var n=this.parentNode.__axis;return f(n&&isFinite(n=n(t))?n:m(t))}))),N.remove(),g.attr("d",4===t||2==t?o?"M"+s*o+","+b+"H0.5V"+w+"H"+s*o:"M0.5,"+b+"V"+w:o?"M"+b+","+s*o+"V0.5H"+w+"V"+s*o:"M"+b+",0.5H"+w),M.attr("opacity",1).attr("transform",(function(t){return f(m(t))})),k.attr(c+"2",s*u),E.attr(c,s*v).text(d),y.filter(Vc).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),y.each((function(){this.__axis=m}))}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return r=Wc.call(arguments),h},h.tickArguments=function(t){return arguments.length?(r=null==t?[]:Wc.call(t),h):r.slice()},h.tickValues=function(t){return arguments.length?(e=null==t?null:Wc.call(t),h):e&&e.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(u=o=+t,h):u},h.tickSizeInner=function(t){return arguments.length?(u=+t,h):u},h.tickSizeOuter=function(t){return arguments.length?(o=+t,h):o},h.tickPadding=function(t){return arguments.length?(a=+t,h):a},h}var Zc={cross:{general:"M-1.0606601238250732,-0.3535534143447876L-0.919238805770874,-0.3535534143447876L-0.7778174877166748,-0.3535534143447876L-0.6363961100578308,-0.3535534143447876L-0.4949747920036316,-0.3535534143447876L-0.3535534739494324,-0.3535534143447876L-0.3535533845424652,-0.4949747323989868L-0.3535533845424652,-0.636396050453186L-0.3535534143447876,-0.7778173685073853L-0.3535534143447876,-0.9192386865615845L-0.3535534143447876,-1.0606600046157837L-0.21213221549987793,-1.0606601238250732L-0.07071077823638916,-1.0606601238250732L0.07071053981781006,-1.0606601238250732L0.21213185787200928,-1.0606601238250732L0.3535531759262085,-1.0606601238250732L0.35355344414711,-0.9192389249801636L0.35355344414711,-0.7778176069259644L0.3535534143447876,-0.6363962888717651L0.3535534143447876,-0.4949749708175659L0.3535534143447876,-0.3535536527633667L0.49497461318969727,-0.3535534143447876L0.6363959312438965,-0.3535534143447876L0.7778174877166748,-0.3535534143447876L0.919238805770874,-0.3535534143447876L1.0606601238250732,-0.3535534143447876L1.0606601238250732,-0.21213233470916748L1.0606601238250732,-0.07071101665496826L1.0606601238250732,0.07071030139923096L1.0606601238250732,0.21213161945343018L1.0606601238250732,0.3535529375076294L0.9192391633987427,0.35355332493782043L0.7778178453445435,0.3535533547401428L0.6363965272903442,0.3535533845424652L0.494975209236145,0.3535533845424652L0.3535538911819458,0.3535534143447876L0.35355344414711,0.49497437477111816L0.35355344414711,0.6363956928253174L0.3535534143447876,0.7778170108795166L0.3535534143447876,0.9192383289337158L0.3535534143447876,1.060659646987915L0.21213233470916748,1.0606600046157837L0.07071101665496826,1.0606600046157837L-0.07071030139923096,1.0606601238250732L-0.21213161945343018,1.0606601238250732L-0.3535529375076294,1.0606601238250732L-0.3535533845424652,0.9192386865615845L-0.3535533845424652,0.7778173685073853L-0.3535534143447876,0.636396050453186L-0.3535534143447876,0.4949747323989868L-0.3535534143447876,0.3535534143447876L-0.49497485160827637,0.35355332493782043L-0.6363961696624756,0.3535533547401428L-0.7778174877166748,0.3535533845424652L-0.919238805770874,0.3535533845424652L-1.0606601238250732,0.3535534143447876L-1.0606601238250732,0.21213185787200928L-1.0606601238250732,0.07071053981781006L-1.0606601238250732,-0.07071077823638916L-1.0606601238250732,-0.21213209629058838Z",base:"M-1.0606601717798214,-0.3535533905932738L-0.3535533905932738,-0.3535533905932738L-0.3535533905932738,-1.0606601717798214L0.3535533905932738,-1.0606601717798214L0.3535533905932738,-0.3535533905932738L1.0606601717798214,-0.3535533905932738L1.0606601717798214,0.3535533905932738L0.3535533905932738,0.3535533905932738L0.3535533905932738,1.0606601717798214L-0.3535533905932738,1.0606601717798214L-0.3535533905932738,0.3535533905932738L-1.0606601717798214,0.3535533905932738Z"},circle:{general:"M1,0L0.9952487945556641,0.10496900230646133L0.9802308678627014,0.20940586924552917L0.9531400799751282,0.31073155999183655L0.9148818850517273,0.4079720079898834L0.8663365244865417,0.5002545714378357L0.8094649910926819,0.5883480906486511L0.743568480014801,0.6698152422904968L0.6695123314857483,0.7439088225364685L0.5881620049476624,0.8099220395088196L0.5004010796546936,0.867180347442627L0.4069012701511383,0.9140697717666626L0.30910128355026245,0.9513185620307922L0.2079721838235855,0.9784069061279297L0.10456041246652603,0.9948219656944275L9.057112038135529e-8,1L-0.10454819351434708,0.994599461555481L-0.20796485245227814,0.9783451557159424L-0.30910056829452515,0.9513131976127625L-0.40682557225227356,0.9137774109840393L-0.5000651478767395,0.8661796450614929L-0.5878113508224487,0.8090839982032776L-0.6691301465034485,0.7431550621986389L-0.7431550025939941,0.6691302061080933L-0.8090841770172119,0.5878111720085144L-0.8661795258522034,0.5000653266906738L-0.9137775301933289,0.4068255126476288L-0.9513131976127625,0.30910077691078186L-0.9783450961112976,0.20796531438827515L-0.994599461555481,0.10454835742712021L-1,1.5099580252808664e-7L-0.9952487945556641,-0.1049688383936882L-0.9802308082580566,-0.2094057947397232L-0.953140139579773,-0.3107314109802246L-0.9148820638656616,-0.4079718291759491L-0.8663367629051208,-0.5002543926239014L-0.8094651103019714,-0.5883479714393616L-0.7435685396194458,-0.6698151230812073L-0.6695123314857483,-0.7439088225364685L-0.5881620645523071,-0.8099220395088196L-0.5004012584686279,-0.867180347442627L-0.4069012701511383,-0.9140697717666626L-0.30910128355026245,-0.9513185620307922L-0.20797239243984222,-0.9784069061279297L-0.10456059128046036,-0.9948219656944275L-3.026798367500305e-9,-1L0.10454817116260529,-0.994599461555481L0.2079651653766632,-0.9783450961112976L0.30910080671310425,-0.9513131380081177L0.4068260192871094,-0.913777232170105L0.5000655055046082,-0.8661794066429138L0.587811291217804,-0.8090839982032776L0.6691306233406067,-0.7431545853614807L0.7431554198265076,-0.6691297292709351L0.8090841770172119,-0.5878111124038696L0.866179883480072,-0.5000647306442261L0.9137775301933289,-0.4068252444267273L0.9513131976127625,-0.309100478887558L0.9783451557159424,-0.20796477794647217L0.9945995211601257,-0.10454780608415604Z",base:"M1,0A1,1,0,1,1,-1,0A1,1,0,1,1,1,0"},square:{general:"M-0.9219544529914856,-0.9219544529914856L-0.799027144908905,-0.9219544529914856L-0.676099956035614,-0.9219544529914856L-0.5531726479530334,-0.9219544529914856L-0.4302453398704529,-0.9219544529914856L-0.30731815099716187,-0.9219544529914856L-0.18439096212387085,-0.9219544529914856L-0.06146365404129028,-0.9219544529914856L0.06146365404129028,-0.9219544529914856L0.1843908429145813,-0.9219544529914856L0.30731815099716187,-0.9219544529914856L0.43024545907974243,-0.9219544529914856L0.5531726479530334,-0.9219544529914856L0.676099956035614,-0.9219544529914856L0.799027144908905,-0.9219544529914856L0.9219544529914856,-0.9219544529914856L0.9219545125961304,-0.799027144908905L0.9219545125961304,-0.676099956035614L0.9219545125961304,-0.553172767162323L0.9219545125961304,-0.4302453398704529L0.9219545125961304,-0.30731815099716187L0.9219545125961304,-0.18439096212387085L0.9219545125961304,-0.06146353483200073L0.9219545125961304,0.06146365404129028L0.9219545125961304,0.1843908429145813L0.9219544529914856,0.3073182702064514L0.9219544529914856,0.43024545907974243L0.9219544529914856,0.5531726479530334L0.9219544529914856,0.6760998368263245L0.9219544529914856,0.7990272641181946L0.9219544529914856,0.9219544529914856L0.7990273833274841,0.9219542145729065L0.676099956035614,0.9219542145729065L0.553172767162323,0.9219542145729065L0.430245578289032,0.9219542741775513L0.30731838941574097,0.9219542741775513L0.18439120054244995,0.9219542741775513L0.06146353483200073,0.921954333782196L-0.06146365404129028,0.921954333782196L-0.1843908429145813,0.921954333782196L-0.3073180317878723,0.921954333782196L-0.43024522066116333,0.9219543933868408L-0.5531724095344543,0.9219543933868408L-0.6760995984077454,0.9219543933868408L-0.7990272641181946,0.9219544529914856L-0.9219544529914856,0.9219544529914856L-0.9219543933868408,0.799027144908905L-0.9219543933868408,0.676099956035614L-0.9219543933868408,0.553172767162323L-0.9219543933868408,0.430245578289032L-0.9219543933868408,0.30731791257858276L-0.9219543933868408,0.18439072370529175L-0.9219543933868408,0.06146353483200073L-0.9219543933868408,-0.06146365404129028L-0.9219543933868408,-0.1843908429145813L-0.9219544529914856,-0.3073180317878723L-0.9219544529914856,-0.43024522066116333L-0.9219544529914856,-0.5531728863716125L-0.9219544529914856,-0.6761000752449036L-0.9219544529914856,-0.7990272641181946Z",base:"M-0.9219544457292888,-0.9219544457292888h1.8439088914585775v1.8439088914585775h-1.8439088914585775Z"},star:{general:"M0,-1.462173581123352L0.05471307039260864,-1.2937841415405273L0.1094261109828949,-1.125394582748413L0.16413918137550354,-0.9570050239562988L0.21885225176811218,-0.7886155843734741L0.2735653221607208,-0.6202260255813599L0.32827839255332947,-0.4518364667892456L0.505333662033081,-0.4518364667892456L0.6823887825012207,-0.4518364667892456L0.8594440221786499,-0.4518364667892456L1.036499261856079,-0.4518364667892456L1.2135545015335083,-0.4518364667892456L1.3906097412109375,-0.4518364667892456L1.2473692893981934,-0.34776610136032104L1.104128360748291,-0.24369558691978455L0.9608877897262573,-0.13962522149085999L0.8176472187042236,-0.03555482625961304L0.6744064092636108,0.06851568818092346L0.5311657786369324,0.17258606851100922L0.5858786702156067,0.34097564220428467L0.6405917406082153,0.5093650817871094L0.6953047513961792,0.6777544617652893L0.7500178813934326,0.8461441397666931L0.8047309517860413,1.014533519744873L0.8594440817832947,1.1829231977462769L0.7162032723426819,1.078852653503418L0.5729628205299377,0.9747823476791382L0.42972204089164734,0.8707118630409241L0.28648123145103455,0.76664137840271L0.1432408094406128,0.6625710725784302L1.1102230246251565e-16,0.5585005879402161L-0.1432408094406128,0.6625711917877197L-0.28648126125335693,0.76664137840271L-0.42972204089164734,0.8707119226455688L-0.5729628801345825,0.9747824668884277L-0.7162032723426819,1.078852653503418L-0.8594440817832947,1.1829231977462769L-0.8047309517860413,1.014533519744873L-0.7500178217887878,0.846143901348114L-0.695304811000824,0.6777547001838684L-0.6405916810035706,0.5093650817871094L-0.5858786106109619,0.34097540378570557L-0.531165599822998,0.17258620262145996L-0.674406111240387,0.0685158371925354L-0.8176469206809998,-0.0355546772480011L-0.9608873128890991,-0.1396249234676361L-1.104128122329712,-0.2436954379081726L-1.2473689317703247,-0.3477659523487091L-1.3906097412109375,-0.4518364667892456L-1.2135542631149292,-0.4518364667892456L-1.0364998579025269,-0.4518364667892456L-0.8594444990158081,-0.4518364667892456L-0.6823891401290894,-0.4518364667892456L-0.5053337812423706,-0.4518364667892456L-0.32827839255332947,-0.4518364667892456L-0.27356526255607605,-0.6202262043952942L-0.21885214745998383,-0.788615882396698L-0.16413933038711548,-0.9570046067237854L-0.10942622274160385,-1.1253942251205444L-0.054713111370801926,-1.2937839031219482Z",base:"M0,-1.4621735258409942L0.3282784098583098,-0.4518364682100035L1.3906096597053377,-0.4518364682100036L0.5311656249235138,0.17258617349950994L0.859444034781824,1.1829232311305005L1.1102230246251565e-16,0.5585005894209871L-0.8594440347818236,1.1829232311305007L-0.5311656249235137,0.17258617349951003L-1.390609659705338,-0.4518364682100033L-0.3282784098583099,-0.4518364682100034Z"},triangle:{general:"M0,-1.3306167125701904L0.05761754512786865,-1.2308205366134644L0.1152348518371582,-1.1310244798660278L0.17285221815109253,-1.0312281847000122L0.23046964406967163,-0.9314318895339966L0.28808706998825073,-0.8316354751586914L0.34570443630218506,-0.7318392992019653L0.4033218026161194,-0.6320431232452393L0.4609392285346985,-0.5322468280792236L0.5185565948486328,-0.432450532913208L0.5761740207672119,-0.33265429735183716L0.6337913870811462,-0.2328580617904663L0.6914087533950806,-0.13306176662445068L0.7490261793136597,-0.033265531063079834L0.8066436052322388,0.06653076410293579L0.8642609119415283,0.16632699966430664L0.9218782782554626,0.2661232054233551L0.9794957041740417,0.3659195303916931L1.037113070487976,0.4657157063484192L1.0947304964065552,0.5655120611190796L1.1523479223251343,0.6653083562850952L1.0371133089065552,0.6653079986572266L0.921878457069397,0.6653080582618713L0.8066436052322388,0.6653080582618713L0.6914087533950806,0.6653080582618713L0.5761741399765015,0.6653081178665161L0.46093928813934326,0.6653081178665161L0.34570443630218506,0.6653081178665161L0.23046958446502686,0.6653081178665161L0.11523497104644775,0.6653081774711609L1.1920928955078125e-7,0.6653081774711609L-0.11523473262786865,0.6653081774711609L-0.23046934604644775,0.6653082370758057L-0.34570419788360596,0.6653082370758057L-0.46093904972076416,0.6653082370758057L-0.5761736631393433,0.6653082966804504L-0.6914085149765015,0.6653082966804504L-0.8066433668136597,0.6653082966804504L-0.9218782186508179,0.6653082966804504L-1.037113070487976,0.6653083562850952L-1.1523479223251343,0.6653083562850952L-1.094730257987976,0.5655120611190796L-1.037113070487976,0.4657161235809326L-0.9794957041740417,0.365919828414917L-0.9218782782554626,0.26612353324890137L-0.8642608523368835,0.1663271188735962L-0.8066434264183044,0.06653082370758057L-0.7490260004997253,-0.03326547145843506L-0.6914085745811462,-0.13306176662445068L-0.6337913870811462,-0.23285770416259766L-0.5761739611625671,-0.3326539993286133L-0.518556535243988,-0.4324502944946289L-0.4609391391277313,-0.5322465896606445L-0.4033217132091522,-0.6320429444313049L-0.3457042872905731,-0.7318392395973206L-0.288086861371994,-0.831635594367981L-0.2304694503545761,-0.9314318895339966L-0.1728522628545761,-1.0312278270721436L-0.1152348443865776,-1.1310241222381592L-0.0576174221932888,-1.2308204174041748Z",base:"M0,-1.330616708716245L1.1523478724483067,0.6653083543581225L-1.1523478724483067,0.6653083543581225Z"},diamond:{general:"M0,-1.4416868686676025L0.05549061298370361,-1.3455744981765747L0.11098116636276245,-1.2494620084762573L0.1664717197418213,-1.15334951877594L0.22196227312088013,-1.057237148284912L0.27745282649993896,-0.96112459897995L0.3329433500766754,-0.8650121688842773L0.38843390345573425,-0.76889967918396L0.4439244568347931,-0.6727872490882874L0.49941501021385193,-0.57667475938797L0.5549055337905884,-0.480562299489975L0.6103960871696472,-0.38444983959198L0.665886640548706,-0.288337379693985L0.7213771939277649,-0.19222491979599L0.7768677473068237,-0.096112459897995L0.8323583006858826,0L0.7768678665161133,0.09611248970031738L0.7213772535324097,0.19222497940063477L0.6658867001533508,0.2883373498916626L0.6103960871696472,0.38444995880126953L0.5549055933952332,0.48056232929229736L0.4994150996208191,0.5766746401786804L0.4439244866371155,0.6727872490882874L0.38843387365341187,0.7688997983932495L0.3329433500766754,0.8650121092796326L0.27745285630226135,0.9611244797706604L0.22196224331855774,1.0572370290756226L0.16647161543369293,1.1533496379852295L0.11098112165927887,1.2494620084762573L0.05549062043428421,1.3455742597579956L0,1.4416868686676025L-0.05549055337905884,1.345574140548706L-0.11098110675811768,1.2494617700576782L-0.16647160053253174,1.15334951877594L-0.22196221351623535,1.057236909866333L-0.27745282649993896,0.9611243605613708L-0.332943320274353,0.865011990070343L-0.3884338140487671,0.7688996195793152L-0.44392454624176025,0.6727868914604187L-0.4994150698184967,0.5766745209693909L-0.5549055337905884,0.4805621802806854L-0.6103960275650024,0.3844498097896576L-0.6658865809440613,0.28833746910095215L-0.7213773131370544,0.19222471117973328L-0.7768678069114685,0.09611235558986664L-0.8323583006858826,0L-0.7768675684928894,-0.09611260890960693L-0.7213770747184753,-0.19222497940063477L-0.6658865809440613,-0.2883373498916626L-0.6103960871696472,-0.38444972038269043L-0.5549055933952332,-0.4805620312690735L-0.4994148910045624,-0.5766748189926147L-0.4439243972301483,-0.6727871894836426L-0.38843390345573425,-0.7688995003700256L-0.3329431712627411,-0.8650122880935669L-0.277452677488327,-0.9611246585845947L-0.22196219861507416,-1.0572370290756226L-0.1664717048406601,-1.1533493995666504L-0.11098121851682663,-1.2494617700576782L-0.055490490049123764,-1.3455744981765747Z",base:"M0,-1.4416868484808527L0.8323582900575635,0L0,1.4416868484808527L-0.8323582900575635,0Z"}},Xc=function(t){var n=t.root,r=t.interactionKeys,e=t.groupAccessor,i=t.hoverHighlight,u=t.clickHighlight,o=t.hoverStyle,a=t.clickStyle,s=t.hoverOpacity,c=n.attr("data-type");"gradient"!==c&&n.selectAll(".legend").each((function(t,n,f){var h=pt(f[n].firstElementChild),l=pt(f[n]).select("text"),d=t.values?t.values[0]:t,v=e&&1===r.length&&r[0]===e,p=vc(d,i,r)&&v,b=pc(d,u,r)&&v,w=h.attr("data-fill"),m=h.attr("data-stroke"),y="";if(w){var g=a?nc(a.color):"",M=o?nc(o.color):"",N=b?g||w:p&&M?M:w;h.attr("fill",N),h.style("fill",N);var L=h.attr("stroke"),k=h.attr("data-base-color"),E="scatter"!==c?[Js(g||k||w)]:Xs(g||k||w),A="scatter"!==c?[Js(M||k||w)]:Xs(M||k||w);y=b?E[1]||E[0]:p?A[1]||A[0]:L?m:Js(w)}else m&&(g=a&&a.color?Xs(nc(a.color)):[m],M=o&&o.color?Xs(nc(o.color)):[m],y=b?g[1]||g[0]:p?M[1]||M[0]:m);h.attr("stroke",y),h.style("stroke",y);var T=parseFloat(h.attr("data-stroke-width"))||("none"===m?0:1),x=T<1?T:1,S="line"!==c?1:2,O="scatter"!==c?1:4;h.attr("stroke-width",(b?a&&a.strokeWidth&&x?parseFloat(a.strokeWidth+"")*S/x:T:p&&o&&o.strokeWidth&&x?parseFloat(o.strokeWidth+"")*S/x:T)/O),h.style("stroke-width",h.attr("stroke-width")),h.attr("stroke-dasharray",!p||b||"scatter"===c||"line"===c?"line"!==c?"none":h.attr("stroke-dasharray"):"8 6"),h.style("stroke-dasharray",h.attr("stroke-dasharray"));var I=dc(t,1,s,i,u||[],r);h.attr("opacity",I),l.attr("opacity",I?1:0)}))},Kc=[{dependency:"visa-chart-components",github_link:"https://github.com/visa/visa-chart-components",license:{type:"MIT",update_date:"11/15/2020",link:"https://github.com/visa/visa-chart-components/blob/master/LICENSE.md",text:'\n        Copyright (c) Visa, Inc.\n\n        Permission is hereby granted, free of charge, to any person obtaining a copy\n        of this software and associated documentation files (the "Software"), to deal\n        in the Software without restriction, including without limitation the rights\n        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n        copies of the Software, and to permit persons to whom the Software is\n        furnished to do so, subject to the following conditions:\n        \n        The above copyright notice and this permission notice shall be included in\n        all copies or substantial portions of the Software.\n        \n        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n        THE SOFTWARE.\n      '}},{dependency:"node-uuid",github_link:"https://github.com/kelektiv/node-uuid",license:{type:"MIT",update_date:"10/15/2019",link:"https://github.com/kelektiv/node-uuid/blob/master/LICENSE.md",text:'\n        The MIT License (MIT)\n \n        Copyright (c) 2010-2016 Robert Kieffer and other contributors\n        \n        Permission is hereby granted, free of charge, to any person obtaining a copy\n        of this software and associated documentation files (the "Software"), to deal\n        in the Software without restriction, including without limitation the rights\n        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n        copies of the Software, and to permit persons to whom the Software is\n        furnished to do so, subject to the following conditions:\n        \n        The above copyright notice and this permission notice shall be included in all\n        copies or substantial portions of the Software.\n        \n        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n        SOFTWARE.\n      '}},{dependency:"turf.js",github_link:"https://github.com/Turfjs/turf",license:{type:"MIT",update_date:"8/8/2019",link:"https://github.com/Turfjs/turf/blob/master/LICENSE",text:'\n                The MIT License (MIT)\n\n                Copyright (c) 2019 Morgan Herlocker\n                \n                Permission is hereby granted, free of charge, to any person obtaining a copy of\n                this software and associated documentation files (the "Software"), to deal in\n                the Software without restriction, including without limitation the rights to\n                use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n                the Software, and to permit persons to whom the Software is furnished to do so,\n                subject to the following conditions:\n                \n                The above copyright notice and this permission notice shall be included in all\n                copies or substantial portions of the Software.\n                \n                THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n                IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n                FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n                COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n                IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n                CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n            '}},{dependency:"mapbox-gl-draw",github_link:"https://github.com/mapbox/mapbox-gl-draw",license:{type:"ISC",update_date:"8/8/2019",link:"https://github.com/mapbox/mapbox-gl-draw/blob/master/LICENSE",text:'\n                Copyright (c) Mapbox\n\n                All rights reserved.\n                \n                Permission to use, copy, modify, and/or distribute this software for any\n                purpose with or without fee is hereby granted, provided that the above\n                copyright notice and this permission notice appear in all copies.\n                \n                THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n                REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n                AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n                INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n                LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE\n                OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n                PERFORMANCE OF THIS SOFTWARE.\n            '}},{dependency:"mapbox-gl-js",github_link:"https://github.com/mapbox/mapbox-gl-js",license:{type:"BSD",update_date:"8/8/2019",link:"https://github.com/mapbox/mapbox-gl-js/blob/master/LICENSE.txt",text:'\n                Copyright (c) 2016, Mapbox\n\n                All rights reserved.\n                \n                Redistribution and use in source and binary forms, with or without modification,\n                are permitted provided that the following conditions are met:\n                \n                    * Redistributions of source code must retain the above copyright notice,\n                    this list of conditions and the following disclaimer.\n                    * Redistributions in binary form must reproduce the above copyright notice,\n                    this list of conditions and the following disclaimer in the documentation\n                    and/or other materials provided with the distribution.\n                    * Neither the name of Mapbox GL JS nor the names of its contributors\n                    may be used to endorse or promote products derived from this software\n                    without specific prior written permission.\n                \n                THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n                "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n                LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n                A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n                CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n                EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n                PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n                PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n                LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n                NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n                SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n                \n                -------------------------------------------------------------------------------\n                \n                Contains Hershey Simplex Font: http://paulbourke.net/dataformats/hershey/\n                \n                -------------------------------------------------------------------------------\n                \n                Contains code from glfx.js\n                \n                Copyright (C) 2011 by Evan Wallace\n                \n                Permission is hereby granted, free of charge, to any person obtaining a copy\n                of this software and associated documentation files (the "Software"), to deal\n                in the Software without restriction, including without limitation the rights\n                to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n                copies of the Software, and to permit persons to whom the Software is\n                furnished to do so, subject to the following conditions:\n                \n                The above copyright notice and this permission notice shall be included in\n                all copies or substantial portions of the Software.\n                \n                THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n                IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n                FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n                AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n                LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n                OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n                THE SOFTWARE.\n                \n                --------------------------------------------------------------------------------\n                \n                Contains a portion of d3-color https://github.com/d3/d3-color\n                \n                Copyright 2010-2016 Mike Bostock\n                All rights reserved.\n                \n                Redistribution and use in source and binary forms, with or without modification,\n                are permitted provided that the following conditions are met:\n                \n                * Redistributions of source code must retain the above copyright notice, this\n                list of conditions and the following disclaimer.\n                \n                * Redistributions in binary form must reproduce the above copyright notice,\n                this list of conditions and the following disclaimer in the documentation\n                and/or other materials provided with the distribution.\n                \n                * Neither the name of the author nor the names of contributors may be used to\n                endorse or promote products derived from this software without specific prior\n                written permission.\n                \n                THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND\n                ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n                WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n                DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n                ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n                (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n                LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n                ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n                (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n                SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n            '}},{dependency:"numeral.js",github_link:"https://github.com/adamwdraper/Numeral-js",license:{type:"MIT",update_date:"8/8/2019",link:"https://github.com/adamwdraper/Numeral-js/blob/master/LICENSE",text:'\n                The MIT License (MIT)\n\n                Copyright (c) 2016 Adam Draper\n\n                Permission is hereby granted, free of charge, to any person\n                obtaining a copy of this software and associated documentation\n                files (the "Software"), to deal in the Software without\n                restriction, including without limitation the rights to use,\n                copy, modify, merge, publish, distribute, sublicense, and/or sell\n                copies of the Software, and to permit persons to whom the\n                Software is furnished to do so, subject to the following\n                conditions:\n                \n                The above copyright notice and this permission notice shall be\n                included in all copies or substantial portions of the Software.\n                \n                THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n                EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n                OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n                NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n                HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n                WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n                FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n                OTHER DEALINGS IN THE SOFTWARE.\n            '}},{dependency:"stencil.js",github_link:"https://github.com/ionic-team/stencil",license:{type:"MIT",update_date:"8/8/2019",link:"https://github.com/ionic-team/stencil/blob/master/LICENSE",text:'\n                The MIT License (MIT)\n\n                Copyright (c) 2018-present Drifty Co.\n                \n                Permission is hereby granted, free of charge, to any person obtaining a copy\n                of this software and associated documentation files (the "Software"), to deal\n                in the Software without restriction, including without limitation the rights\n                to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n                copies of the Software, and to permit persons to whom the Software is\n                furnished to do so, subject to the following conditions:\n                \n                The above copyright notice and this permission notice shall be included in\n                all copies or substantial portions of the Software.\n                \n                THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n                IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n                FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n                AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n                LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n                OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n                THE SOFTWARE.\n            '}},{dependency:"topojson.js",github_link:"https://github.com/topojson/topojson",license:{type:"BSD 3-Clause",update_date:"8/8/2019",link:"https://github.com/topojson/topojson/blob/master/LICENSE.md",text:'\n                Copyright (c) 2012-2016, Michael Bostock All rights reserved.\n\n                Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n                \n                Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n                \n                Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n                \n                The name Michael Bostock may not be used to endorse or promote products derived from this software without specific prior written permission.\n                \n                THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n            '}},{dependency:"d3.js",github_link:"https://github.com/d3/d3",license:{type:"BSD 3-Clause",update_date:"8/8/2019",link:"https://github.com/d3/d3/blob/master/LICENSE",text:'\n                Copyright 2010-2017 Mike Bostock\n                All rights reserved.\n        \n                Redistribution and use in source and binary forms, with or without modification,\n                are permitted provided that the following conditions are met:\n        \n                * Redistributions of source code must retain the above copyright notice, this\n                list of conditions and the following disclaimer.\n        \n                * Redistributions in binary form must reproduce the above copyright notice,\n                this list of conditions and the following disclaimer in the documentation\n                and/or other materials provided with the distribution.\n        \n                * Neither the name of the author nor the names of contributors may be used to\n                endorse or promote products derived from this software without specific prior\n                written permission.\n        \n                THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND\n                ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n                WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n                DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n                ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n                (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n                LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n                ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n                (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n                SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n            '}},{dependency:"d3-annotation.js",github_link:"https://github.com/susielu/d3-annotation",license:{type:"Apache-2.0",update_date:"8/8/2019",link:"https://raw.githubusercontent.com/susielu/d3-annotation/master/LICENSE",text:'\n                            Apache License\n                            Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n                TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n                1. Definitions.\n\n                "License" shall mean the terms and conditions for use, reproduction,\n                and distribution as defined by Sections 1 through 9 of this document.\n\n                "Licensor" shall mean the copyright owner or entity authorized by\n                the copyright owner that is granting the License.\n\n                "Legal Entity" shall mean the union of the acting entity and all\n                other entities that control, are controlled by, or are under common\n                control with that entity. For the purposes of this definition,\n                "control" means (i) the power, direct or indirect, to cause the\n                direction or management of such entity, whether by contract or\n                otherwise, or (ii) ownership of fifty percent (50%) or more of the\n                outstanding shares, or (iii) beneficial ownership of such entity.\n\n                "You" (or "Your") shall mean an individual or Legal Entity\n                exercising permissions granted by this License.\n\n                "Source" form shall mean the preferred form for making modifications,\n                including but not limited to software source code, documentation\n                source, and configuration files.\n\n                "Object" form shall mean any form resulting from mechanical\n                transformation or translation of a Source form, including but\n                not limited to compiled object code, generated documentation,\n                and conversions to other media types.\n\n                "Work" shall mean the work of authorship, whether in Source or\n                Object form, made available under the License, as indicated by a\n                copyright notice that is included in or attached to the work\n                (an example is provided in the Appendix below).\n\n                "Derivative Works" shall mean any work, whether in Source or Object\n                form, that is based on (or derived from) the Work and for which the\n                editorial revisions, annotations, elaborations, or other modifications\n                represent, as a whole, an original work of authorship. For the purposes\n                of this License, Derivative Works shall not include works that remain\n                separable from, or merely link (or bind by name) to the interfaces of,\n                the Work and Derivative Works thereof.\n\n                "Contribution" shall mean any work of authorship, including\n                the original version of the Work and any modifications or additions\n                to that Work or Derivative Works thereof, that is intentionally\n                submitted to Licensor for inclusion in the Work by the copyright owner\n                or by an individual or Legal Entity authorized to submit on behalf of\n                the copyright owner. For the purposes of this definition, "submitted"\n                means any form of electronic, verbal, or written communication sent\n                to the Licensor or its representatives, including but not limited to\n                communication on electronic mailing lists, source code control systems,\n                and issue tracking systems that are managed by, or on behalf of, the\n                Licensor for the purpose of discussing and improving the Work, but\n                excluding communication that is conspicuously marked or otherwise\n                designated in writing by the copyright owner as "Not a Contribution."\n\n                "Contributor" shall mean Licensor and any individual or Legal Entity\n                on behalf of whom a Contribution has been received by Licensor and\n                subsequently incorporated within the Work.\n\n                2. Grant of Copyright License. Subject to the terms and conditions of\n                this License, each Contributor hereby grants to You a perpetual,\n                worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n                copyright license to reproduce, prepare Derivative Works of,\n                publicly display, publicly perform, sublicense, and distribute the\n                Work and such Derivative Works in Source or Object form.\n\n                3. Grant of Patent License. Subject to the terms and conditions of\n                this License, each Contributor hereby grants to You a perpetual,\n                worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n                (except as stated in this section) patent license to make, have made,\n                use, offer to sell, sell, import, and otherwise transfer the Work,\n                where such license applies only to those patent claims licensable\n                by such Contributor that are necessarily infringed by their\n                Contribution(s) alone or by combination of their Contribution(s)\n                with the Work to which such Contribution(s) was submitted. If You\n                institute patent litigation against any entity (including a\n                cross-claim or counterclaim in a lawsuit) alleging that the Work\n                or a Contribution incorporated within the Work constitutes direct\n                or contributory patent infringement, then any patent licenses\n                granted to You under this License for that Work shall terminate\n                as of the date such litigation is filed.\n\n                4. Redistribution. You may reproduce and distribute copies of the\n                Work or Derivative Works thereof in any medium, with or without\n                modifications, and in Source or Object form, provided that You\n                meet the following conditions:\n\n                (a) You must give any other recipients of the Work or\n                Derivative Works a copy of this License; and\n\n                (b) You must cause any modified files to carry prominent notices\n                stating that You changed the files; and\n\n                (c) You must retain, in the Source form of any Derivative Works\n                that You distribute, all copyright, patent, trademark, and\n                attribution notices from the Source form of the Work,\n                excluding those notices that do not pertain to any part of\n                the Derivative Works; and\n\n                (d) If the Work includes a "NOTICE" text file as part of its\n                distribution, then any Derivative Works that You distribute must\n                include a readable copy of the attribution notices contained\n                within such NOTICE file, excluding those notices that do not\n                pertain to any part of the Derivative Works, in at least one\n                of the following places: within a NOTICE text file distributed\n                as part of the Derivative Works; within the Source form or\n                documentation, if provided along with the Derivative Works; or,\n                within a display generated by the Derivative Works, if and\n                wherever such third-party notices normally appear. The contents\n                of the NOTICE file are for informational purposes only and\n                do not modify the License. You may add Your own attribution\n                notices within Derivative Works that You distribute, alongside\n                or as an addendum to the NOTICE text from the Work, provided\n                that such additional attribution notices cannot be construed\n                as modifying the License.\n\n                You may add Your own copyright statement to Your modifications and\n                may provide additional or different license terms and conditions\n                for use, reproduction, or distribution of Your modifications, or\n                for any such Derivative Works as a whole, provided Your use,\n                reproduction, and distribution of the Work otherwise complies with\n                the conditions stated in this License.\n\n                5. Submission of Contributions. Unless You explicitly state otherwise,\n                any Contribution intentionally submitted for inclusion in the Work\n                by You to the Licensor shall be under the terms and conditions of\n                this License, without any additional terms or conditions.\n                Notwithstanding the above, nothing herein shall supersede or modify\n                the terms of any separate license agreement you may have executed\n                with Licensor regarding such Contributions.\n\n                6. Trademarks. This License does not grant permission to use the trade\n                names, trademarks, service marks, or product names of the Licensor,\n                except as required for reasonable and customary use in describing the\n                origin of the Work and reproducing the content of the NOTICE file.\n\n                7. Disclaimer of Warranty. Unless required by applicable law or\n                agreed to in writing, Licensor provides the Work (and each\n                Contributor provides its Contributions) on an "AS IS" BASIS,\n                WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n                implied, including, without limitation, any warranties or conditions\n                of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n                PARTICULAR PURPOSE. You are solely responsible for determining the\n                appropriateness of using or redistributing the Work and assume any\n                risks associated with Your exercise of permissions under this License.\n\n                8. Limitation of Liability. In no event and under no legal theory,\n                whether in tort (including negligence), contract, or otherwise,\n                unless required by applicable law (such as deliberate and grossly\n                negligent acts) or agreed to in writing, shall any Contributor be\n                liable to You for damages, including any direct, indirect, special,\n                incidental, or consequential damages of any character arising as a\n                result of this License or out of the use or inability to use the\n                Work (including but not limited to damages for loss of goodwill,\n                work stoppage, computer failure or malfunction, or any and all\n                other commercial damages or losses), even if such Contributor\n                has been advised of the possibility of such damages.\n\n                9. Accepting Warranty or Additional Liability. While redistributing\n                the Work or Derivative Works thereof, You may choose to offer,\n                and charge a fee for, acceptance of support, warranty, indemnity,\n                or other liability obligations and/or rights consistent with this\n                License. However, in accepting such obligations, You may act only\n                on Your own behalf and on Your sole responsibility, not on behalf\n                of any other Contributor, and only if You agree to indemnify,\n                defend, and hold each Contributor harmless for any liability\n                incurred by, or claims asserted against, such Contributor by reason\n                of your accepting any such warranty or additional liability.\n\n                END OF TERMS AND CONDITIONS\n\n\n                APPENDIX: How to apply the Apache License to your work.\n\n                To apply the Apache License to your work, attach the following\n                boilerplate notice, with the fields enclosed by brackets "[]"\n                replaced with your own identifying information. (Don\'t include\n                the brackets!)  The text should be enclosed in the appropriate\n                comment syntax for the file format. We also recommend that a\n                file or class name and description of purpose be included on the\n                same "printed page" as the copyright notice for easier\n                identification within third-party archives.\n\n                Copyright (c) 2017, Susie Lu\n\n                Licensed under the Apache License, Version 2.0 (the "License");\n                you may not use this file except in compliance with the License.\n                You may obtain a copy of the License at\n\n                http://www.apache.org/licenses/LICENSE-2.0\n\n                Unless required by applicable law or agreed to in writing, software\n                distributed under the License is distributed on an "AS IS" BASIS,\n                WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                See the License for the specific language governing permissions and\n                limitations under the License.\n            '}},{dependency:"ua-parser-js",github_link:"https://github.com/faisalman/ua-parser-js",license:{type:"MIT",update_date:"12/16/2020",link:"https://github.com/faisalman/ua-parser-js/blob/master/license.md",text:'\n        MIT License\n\n        Copyright (c) 2012-2019 Faisal Salman <<f@faisalman.com>>\n        \n        Permission is hereby granted, free of charge, to any person obtaining a copy\n        of this software and associated documentation files (the "Software"), to deal\n        in the Software without restriction, including without limitation the rights\n        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n        copies of the Software, and to permit persons to whom the Software is\n        furnished to do so, subject to the following conditions:\n        \n        The above copyright notice and this permission notice shall be included in all\n        copies or substantial portions of the Software.\n        \n        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n        SOFTWARE.\n      '}},{dependency:"yup",github_link:"https://github.com/jquense/yup",license:{type:"MIT",update_date:"12/16/2020",link:"https://github.com/jquense/yup/blob/master/LICENSE.md",text:'\n        The MIT License (MIT)\n\n        Copyright (c) 2014 Jason Quense\n        \n        Permission is hereby granted, free of charge, to any person obtaining a copy\n        of this software and associated documentation files (the "Software"), to deal\n        in the Software without restriction, including without limitation the rights\n        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n        copies of the Software, and to permit persons to whom the Software is\n        furnished to do so, subject to the following conditions:\n        \n        The above copyright notice and this permission notice shall be included in all\n        copies or substantial portions of the Software.\n        \n        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n        SOFTWARE.\n      '}},{dependency:"htmlwidgets",github_link:"https://github.com/ramnathv/htmlwidgets",license:{type:"MIT",update_date:"3/11/2021",link:"https://github.com/ramnathv/htmlwidgets/blob/master/LICENSE",text:'\n        MIT License\n\n        Copyright (c) 2016, Ramnath Vaidyanathan, Joe Cheng, JJ Allaire, Yihui Xie, and Kenton Russell\n\n        Permission is hereby granted, free of charge, to any person obtaining a copy\n        of this software and associated documentation files (the "Software"), to deal\n        in the Software without restriction, including without limitation the rights\n        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n        copies of the Software, and to permit persons to whom the Software is\n        furnished to do so, subject to the following conditions:\n        \n        The above copyright notice and this permission notice shall be included in all\n        copies or substantial portions of the Software.\n        \n        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n        SOFTWARE.\n      '}},{dependency:"vega-label and vega-canvas",github_link:"https://github.com/vega/vega-label",license:{type:"BSD-3-Clause",update_date:"7/8/2021",link:"https://github.com/vega/vega-label/blob/master/LICENSE",text:'\n        Copyright (c) 2016, University of Washington Interactive Data Lab\n        All rights reserved.\n        \n        Redistribution and use in source and binary forms, with or without\n        modification, are permitted provided that the following conditions are met:\n        \n        1. Redistributions of source code must retain the above copyright notice, this\n          list of conditions and the following disclaimer.\n        \n        2. Redistributions in binary form must reproduce the above copyright notice,\n          this list of conditions and the following disclaimer in the documentation\n          and/or other materials provided with the distribution.\n        \n        3. Neither the name of the copyright holder nor the names of its contributors\n          may be used to endorse or promote products derived from this software\n          without specific prior written permission.\n        \n        THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"\n        AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n        IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n        DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE\n        FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n        DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n        SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n        CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n        OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n        OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n      '}}];function Jc(){return Kc}var Qc={number:"0[.][0][0]a",date:"%B %d %Y",percent:"0[.][0][0]%",string:""},tf={valueAccessor:"number",nodeSizeAccessor:"number",latitudeAccessor:"number",longitudeAccessor:"number",xAccessor:[{charts:["scatter-plot"],type:"number"}],yAccessor:[{charts:["scatter-plot"],type:"number"}]},nf={"alluvial-diagram":["sourceAccessor","targetAccessor","groupAccessor","valueAccessor"],"bar-chart":["ordinalAccessor","valueAccessor","groupAccessor"],"clustered-bar-chart":["groupAccessor","ordinalAccessor","valueAccessor"],"stacked-bar-chart":["groupAccessor","ordinalAccessor","valueAccessor"],"line-chart":["seriesAccessor","ordinalAccessor","valueAccessor"],"pie-chart":["ordinalAccessor","valueAccessor"],"scatter-plot":["groupAccessor","xAccessor","yAccessor"],"heat-map":["xAccessor","yAccessor","valueAccessor"],"circle-packing":["clusterAccessor","nodeAccessor","nodeSizeAccessor","idAccessor"],"parallel-plot":["seriesAccessor","ordinalAccessor","valueAccessor"],"dumbbell-plot":["seriesAccessor","ordinalAccessor","valueAccessor"],"world-map":["markerNameAccessor","joinNameAccessor","valueAccessor"]};function rf(t,n,r){var e=[];return nf[r].forEach((function(n){t[n]&&e.push(t[n])})),Object.keys(n).forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}function ef(t,n){var r=[];return t.forEach((function(t){var e={};Object.keys(n).forEach((function(r){t[r]instanceof Date?e[r]=Ge({date:t[r],format:n[r]?n[r]:Qc.date,offsetTimezone:!0}):"normalized"===n[r]?(e[r]=n[r]&&t[r]?Yt(t[r],Qc.number):t[r],e[r+"%"]=n[r]&&t[r]&&t.getSum?Yt(t[r]/t.getSum(),Qc.percent):t[r]):e[r]=n[r]&&t[r]?Yt(t[r],n[r]):t[r]})),r.push(e)})),r}var uf=function(t){var n=t.d,r=t.i,e=t.n,i=t.capitalizedGeomType,u=t.capitalizedGroupName,o=t.includeKeyNames,a=t.dataKeys,s=t.groupKeys,c=t.nested,f=t.recursive,h=f?n.data.data:n,l="";if(c?(h[c].length&&h[c].forEach((function(t){l+=af(t,a,o,!0)})),s&&s.length&&s.forEach((function(t){l+=t?h[t]+". ":""}))):l+=af(h,a,o),l+=i+" "+(r+1)+" of "+e.length+".",f){var d=n.depth,v=pt(e[r].parentNode).selectAll("g:not(.vcl-accessibility-focus-highlight)").filter((function(t){return void 0===d||t&&t.depth===d+1})).size();l+=(" This "+u||i+" group")+" contains "+(v||"0")+" child elements"+(!v&&n.children&&n.children.length?" (but some may be hidden until you interact with this node)":"")}return l},of=function(t){var n=t.d,r=t.targetNode,e=t.index,i=t.groupAccessor,u=t.groupKeys,o=t.siblings,a=t.isOffsetGroup,s=t.includeKeyNames,c=t.capitalizedGroupName,f=t.capitalizedGeomType,h=t.geomType,l=0;if(Array.prototype.forEach.call(o,(function(t){null!==pt(t).attr("tabindex")&&l++})),l>1){var d=a?r.parentNode.nextSibling.childNodes[e]:r,v=r.querySelectorAll("*:not(.vcl-accessibility-focus-highlight)")[0],p=v&&v.__data__?s&&i&&v.__data__[i]?i+" "+v.__data__[i]+". ":v.__data__[i]+". ":"";u&&u.length&&u.forEach((function(t){p+=t?n[t]+". ":""}));var b=d?d.querySelectorAll("*:not(.vcl-accessibility-focus-highlight)").length:0;return p+(c||f+" group")+" "+(e+1)+" of "+r.parentNode.querySelectorAll("g:not(.vcl-accessibility-focus-highlight)").length+" which contains "+b+" interactive "+h+(1!==b?"s.":".")}return(c||f+" group")+" which contains "+(b=o[e].querySelectorAll("*:not(.vcl-accessibility-focus-highlight)").length)+" interactive "+h+(1!==b?"s.":".")},af=function(t,n,r,e){var i=Object.keys(n),u="",o=t.data?ef([t.data],n)[0]:ef([t],n)[0],a=1;return i.forEach((function(t){if(void 0!==o[t]){var n="string"==typeof o[t]&&"."===o[t][o[t].length-1]?" ":". ";!e||r?(u+=r?t+" ":"",u+=o[t]+n):u+=o[t]+(a%2?" ":n),void 0!==o[t+"%"]&&(u+=r?t+" as a percentage ":"",u+=o[t+"%"]+("."===o[t+"%"][o[t+"%"].length-1]?" ":". ")),a++}})),u},sf=Tt(),cf="IE"===sf,ff="Edge"===sf,hf=!1;cf&&function(t){var n=function(n,r){r=r||{bubbles:!1,cancelable:!1};var e=document.createEvent("MouseEvent");return e.initMouseEvent(n,r.bubbles,r.cancelable,t,0,r.screenX||0,r.screenY||0,r.clientX||0,r.clientY||0,r.ctrlKey||!1,r.altKey||!1,r.shiftKey||!1,r.metaKey||!1,r.button||0,r.relatedTarget||null),e};n.prototype=Event.prototype,t.MouseEvent=n}(window);var lf=function(t){var n=t.rootNode,r=t.nodeID,e=t.geomType,i=t.includeKeyNames,u=t.dataKeys,o=t.groupKeys,a=t.nested,s=t.groupName,c=t.groupAccessor,f=t.recursive,h=t.sameGroupCousinKey,l=t.deleteControllers;(cf||ff)&&(hf=!1);var d=0;if(!l){var v=mf(r,f);v&&v.id&&(d++,pf({rootNode:n,nodeID:v.id,isTarget:!1,geomType:e,includeKeyNames:i,dataKeys:u,groupKeys:o,nested:a,recursive:f,groupName:s,groupAccessor:c,direction:"backward",sourceID:r,sameGroupCousinKey:h}));var p=document.getElementById("node-"+r);if(p){d++,n.appendChild(p.parentNode);var b=document.getElementById(r).getBoundingClientRect(),w=n.getBoundingClientRect();pt(p).on("focus",(function(){})).style("position","absolute").style("padding",0).style("margin",0).style("overflow","visible").style("left",b.left-w.left+"px").style("top",b.top-w.top+"px").style("width",b.width+"px").style("height",b.height+"px")}else d++,pf({rootNode:n,nodeID:r,isTarget:!0,geomType:e,includeKeyNames:i,dataKeys:u,groupKeys:o,nested:a,recursive:f,groupName:s,groupAccessor:c,sameGroupCousinKey:h});var m=wf(r,f);m&&m.id&&(d++,pf({rootNode:n,nodeID:m.id,isTarget:!1,geomType:e,includeKeyNames:i,dataKeys:u,groupKeys:o,nested:a,recursive:f,groupName:s,groupAccessor:c,direction:"forward",sourceID:r,sameGroupCousinKey:h}))}df(r,f,l);for(var y=n.children.length-d;y;)n.removeChild(n.children[0]),y--},df=function(t,n,r){var e=document.getElementById(r?t:"node-"+t),i=document.getElementById(t);vf(r?e:e.parentNode.parentNode),Mf(e),r?gf(i,!0):(pt(e).classed("VCL-controller-focused",!0),_f(i,n,!1),yf(i)),If(i,n)},vf=function(t){var n=pt(t).select(".VCL-controller-focused");if(n.size()){n.classed("VCL-controller-focused",!1);var r=document.getElementById(n.node().id.substring(5));Nf(r)}},pf=function(t){var n=t.rootNode,r=t.nodeID,e=t.isTarget,i=t.geomType,u=t.includeKeyNames,o=t.dataKeys,a=t.groupKeys,s=t.nested,c=t.recursive,f=t.groupName,h=t.groupAccessor,l=t.direction,d=t.sourceID,v=t.sameGroupCousinKey,p=document.getElementById(r),b=pt(p).attr("data-offset-group"),w="g"===p.nodeName||b,m="div",y="img",g=null;w||(y=pt(p).attr("data-role"),m=(g=pt(p).attr("data-aria-pressed"))?"button":"div");var M=p.getBoundingClientRect(),N=n.getBoundingClientRect();pt(n).append(ff?"div":"figure").attr("role","figure").append(m).style("position","absolute").style("padding",0).style("margin",0).style("overflow","visible").attr("role",y).attr("id","node-"+r).attr("tabindex",-1).on("keydown",(function(){var t=rt;t.stopPropagation();var e=xf(r,t,w,c,v);if(e)if(e.clicked){var l=document.getElementById(e.id);Of(l.parentNode);var d=new MouseEvent("click",{bubbles:!1,cancelable:!0});l.dispatchEvent(d),df(r,c)}else if(e.focused){var p=e.id||n.id;lf({rootNode:n,nodeID:p,geomType:i,includeKeyNames:u,dataKeys:o,groupKeys:a,nested:s,groupName:f,groupAccessor:h,recursive:c,sameGroupCousinKey:v,deleteControllers:p===n.id})}})).on("keyup",(function(){hf=!1})).on("focus",e?null:function(){var t=r;if(l){var e="backward"===l?mf(d,c):wf(d,c);t=e?e.id:""}t&&lf({rootNode:n,nodeID:t,geomType:i,includeKeyNames:u,dataKeys:o,groupKeys:a,nested:s,groupName:f,groupAccessor:h,recursive:c,sameGroupCousinKey:v})}).on("blur",(function(){var t=document.getElementById(r);Nf(t)})).attr("aria-label",(function(t,n,r){var e,l=i[0].toUpperCase()+i.substring(1),d=f?f[0].toUpperCase()+f.substring(1):"",v=c?p.parentNode:p,m=c?Ef(p):v.parentNode.childNodes,y=Array.prototype.indexOf.call(m,p),M=pt(v),N=v.__data__||M.data()[0];return e=w?of({d:N,targetNode:v,index:y,groupAccessor:h,groupKeys:a,siblings:m,isOffsetGroup:b,includeKeyNames:u,capitalizedGroupName:d,capitalizedGeomType:l,geomType:i}):uf({d:N,i:y,n:m,capitalizedGeomType:l,capitalizedGroupName:d,includeKeyNames:u,dataKeys:o,groupKeys:a,nested:s,recursive:c}),pt(r[n]).text(e),g&&pt(r[n]).attr("aria-pressed",g),e})).style("left",M.left-N.left+"px").style("top",M.top-N.top+"px").style("width",M.width+"px").style("height",M.height+"px").style("pointer-events","none")},bf=function(t,n){var r=n?t.__data__["next"===n?"target":"source"].index:Array.prototype.indexOf.call(t.parentNode.parentNode.childNodes,t.parentNode);return t.parentNode.parentNode.previousSibling.childNodes[r]},wf=function(t,n,r){var e=document.getElementById(t);if(!e||"svg"===e.tagName)return null;if(!n&&e.nextElementSibling)return null!==pt(e.nextElementSibling).attr("tabindex")?e.nextElementSibling:wf(e.nextElementSibling.id,n);if(n&&Af(e,"next",!0))return Af(e,"next",!0);if(!r){var i=Lf(e,n),u=n?i?Af(i,"next",!0):null:i.nextElementSibling;if(u){if(null!==pt(u).attr("tabindex"))return u;if(u.id)return wf(u.id,n,!0)}}return null},mf=function(t,n){var r=document.getElementById(t);return r&&"svg"!==r.tagName?!n&&r.previousElementSibling?null!==pt(r.previousElementSibling).attr("tabindex")?r.previousElementSibling:mf(r.previousElementSibling.id,n):n&&Af(r,"previous",!0)?Af(r,"previous",!0):"g"===r.tagName?null:Lf(r,n):null},yf=function(t){var n=kf(t);n!==document.body&&n.parentNode.firstElementChild.setAttribute("aria-activedescendant","node-"+t.id)},gf=function(t,n){var r=n?t:kf(t);r!==document.body&&(n?t:r.parentNode.firstElementChild).setAttribute("aria-activedescendant",null)},Mf=function(t){cf?setTimeout((function(){t.focus()}),10):t.focus()},Nf=function(t){t&&(gf(t),Uf(t),Sf(t))},Lf=function(t,n){return n?t.parentNode&&t.parentNode.parentNode&&t.parentNode.parentNode.firstElementChild&&Hf(t.parentNode.parentNode.firstElementChild,!0)||kf(t):t.parentNode},kf=function(t){return t.ownerSVGElement?t.ownerSVGElement:"svg"===t.parentNode.nodeName||t.parentNode===document.body?t.parentNode:kf(t.parentNode)},Ef=function(t){var n=[];return Array.prototype.forEach.call(t.parentNode.parentNode.childNodes,(function(t){"g"!==t.tagName||t.classList.contains(".vcl-accessibility-focus-highlight")||n.push(t.firstElementChild)})),n},Af=function(t,n,r){var e,i,u=Tf(t.parentNode),o=pt(t).attr("data-index")?+pt(t).attr("data-index"):Tf(t),a=[];Array.prototype.forEach.call(t.parentNode.parentNode.childNodes,(function(t){"g"!==t.tagName||t.classList.contains("vcl-accessibility-focus-highlight")||a.push(t)}));var s=a.length;if(!s)return null;if("previous"===n){if(r&&0===u)return null;e=0!==u?a[u-1].childNodes:a[s-1].childNodes}else if("next"===n){if(r&&u===s-1)return null;e=u!==s-1?a[u+1].childNodes:a[0].childNodes}for(i=pt(t).attr("data-index")?Array.prototype.filter.call(e,(function(t){return o===+pt(t).attr("data-index")}))[0]:e[o];!i&&o>-1;)i=pt(t).attr("data-index")?Array.prototype.filter.call(e,(function(t){return o===+pt(t).attr("data-index")}))[0]:e[o],0===o&&!i&&pt(t).attr("data-index")&&(i=e[o]),o--;return t!==i?i:null},Tf=function(t){for(var n=0,r=t.nodeName;t.previousSibling;)r!==t.previousSibling.nodeName||pt(t.previousSibling).classed("vcl-accessibility-focus-hover")||n++,t=t.previousSibling;return n},xf=function(t,n,r,e,i){var u,o={clicked:!1,focused:!1,id:""},a=document.getElementById(t),s=n.keyCode||n.which,c=39===s||40===s||190===s?"next":37===s||38===s||188===s?"previous":27===s?"up":13===s?"down":"";return(c||32===s)&&n.preventDefault(),hf||(hf=!0,32===s?(o.clicked=!0,o.id=t):39!==s&&37!==s||e?!e&&(40===s||190===s||38===s||188===s)||(39===s||37===s)&&e?i&&!r?u=function(t,n,r){var e,i=pt(t).data()[0][r],u=[],o=-1,a=0;return pt(t.parentNode).selectAll("*").each((function(n,e,s){n&&n[r]===i&&(u.push(s[e]),a++),o<0&&t===s[e]&&(o=a-1)})),a&&o>-1&&("previous"===n?e=u[o-1]||u[u.length-1]:"next"===n&&(e=u[o+1]||u[0])),e}(a,c,i):r||(u=pt(a).attr("data-offset-element")?bf(a,c):Af(a,c)):"down"===c||e&&(40===s||190===s)?(r||e)&&(u=pt(a).attr("data-offset-group")?function(t){var n=Array.prototype.indexOf.call(t.parentNode.childNodes,t);return t.parentNode.nextSibling.childNodes[n]?t.parentNode.nextSibling.childNodes[n].childNodes[0]:void 0}(a):function(t,n){var r=n?Df(t):t;return r&&r.firstElementChild?Hf(r.firstElementChild,!0):null}(a,e)):("up"===c||e&&(38===s||188===s))&&(u=r?kf(a):pt(a).attr("data-offset-element")?bf(a):Lf(a,e)):u=function(t,n){var r=n+"Sibling",e=("next"===n?"first":"last")+"ElementChild",i=t[r]&&null!==pt(t[r]).attr("tabindex")&&t[r]?t[r]:"next"===n?t.parentNode.firstElementChild:function(t){if(null!==pt(t.parentNode.lastElementChild).attr("tabindex"))return t.parentNode.lastElementChild;for(var n=null,r=t.parentNode.childNodes.length-2;!n&&r>=0;){var e=t.parentNode.childNodes[r];null!==pt(e).attr("tabindex")&&(n=e),r--}return n}(t);return i||i.parentNode[e]}(a,c)),u&&pt(u).attr("tabindex")&&(o.focused=!0,o.id=u.id),o},Sf=function(t,n){var r=n?"vcl-accessibility-focus-root":"vcl-accessibility-focus";pt(t.ownerSVGElement).selectAll("."+r+"-source").classed(r+"-source",!1),pt(t.ownerSVGElement).selectAll("."+r+"-indicator").remove()},Of=function(t){pt(t.ownerSVGElement).selectAll(".vcl-accessibility-focus-indicator").classed("hidden",!0).style("opacity",0).attr("opacity",0)},If=function(t,n){var r="DIV"!==t.tagName?t:pt(t.parentNode).select("svg").node(),e=!1,i="svg"!==r.tagName?"vcl-accessibility-focus":"vcl-accessibility-focus-root",u="g"===r.tagName||"svg"===r.tagName;if(u){var o=r.getBBox(),a="svg"===r.tagName?Math.max(+r.getAttribute("width")-10,0):+o.width+10,s="svg"===r.tagName?Math.max(+r.getAttribute("height")-10,0):+o.height+10,c="svg"===r.tagName?5:+o.x-5,f="svg"===r.tagName?5:+o.y-5;r=pt("svg"!==r.tagName?r.parentNode:r).append("rect").attr("x",c).attr("y",f).attr("width",a).attr("height",s).attr("transform",pt(r).attr("transform")||null).attr("fill","none").style("fill","none").node(),e=!0}else pt(r).style("outline").includes("auto")&&pt(r).style("outline-width","0px").style("outline-offset","0px").style("outline-color","none");var h=r.parentNode;Sf("svg"!==h.tagName?h:h.firstElementChild),pt(r).classed(i+"-source",!0);var l=pt(r).attr("width"),d=r.cloneNode(!1),v=r.cloneNode(!1),p=r.cloneNode(!1);if(!n&&!e||n&&u){var b=u||null===pt(r.parentNode).attr("tabindex")&&!pt(r.parentNode).classed("offset-target")?h:h.parentNode,w=h.cloneNode(!1);w.appendChild(v),w.appendChild(d),w.appendChild(p),b.appendChild(w),Rf(pt(w),i),pt(w).attr("filter",null)}else if(n){var m=+pt(p).attr("r");h.parentNode.appendChild(v),pt(v).attr("r",m+6).attr("stroke-width",0),h.parentNode.appendChild(d),pt(d).attr("r",m+3).attr("stroke-width",0)}else if(pt(t).attr("data-offset-group")){var y=h.nextSibling.nextSibling;h.parentNode.insertBefore(v,y),h.parentNode.insertBefore(d,y),h.parentNode.insertBefore(p,y)}else r.nextSibling?(h.insertBefore(p,r.nextSibling),h.insertBefore(d,r.nextSibling),h.insertBefore(v,r.nextSibling)):(h.appendChild(v),h.appendChild(d),h.appendChild(p));var g=pt(p).style("opacity",u?0:1).attr("opacity",u?0:1).style("stroke-opacity",u?0:1).attr("stroke-opacity",u?0:1);(!n&&!u&&l||u)&&g.style("fill-opacity",0).attr("fill-opacity",0),Rf(g,i);var M=pt(r).data()&&pt(r).data()[0]&&pt(r).data()[0].source&&pt(r).data()[0].target&&(pt(r).data()[0].y0||0===pt(r).data()[0].y0),N=pt(d);Rf(N,i),Cf(N,u||n||l?6:10,"#ffffff",M?pt(r).data()[0]:void 0),n||u||!l||Ff(N,3),N.style("opacity",1).attr("opacity",1);var L=pt(v);Rf(L,i),Cf(L,u||n||l?u?10:2:14,"#000000",M?pt(r).data()[0]:void 0),n||u||!l||Ff(L,7),L.style("opacity",1).attr("opacity",1),e&&pt(r).remove()},Rf=function(t,n){t.attr("d")&&t.attr("filter")&&!t.attr("marker-start")&&t.attr("filter",null),t.attr("id",null).attr("class",n+"-highlight "+n+"-indicator").attr("focusable",!1).attr("aria-label",null).attr("aria-hidden",!0).attr("role",null).style("pointer-events","none").attr("tabindex",null).attr("mix-blend-mode",null).style("mix-blend-mode",null).attr("r",(function(t,n,r){return parseFloat(pt(r[n]).attr("r"))||1}))},Ff=function(t,n){t.attr("width",(function(t,r,e){return parseFloat(pt(e[r]).attr("width"))+2*n})).attr("height",(function(t,r,e){return parseFloat(pt(e[r]).attr("height"))+2*n})).attr("x",(function(t,r,e){return parseFloat(pt(e[r]).attr("x"))-n})).attr("y",(function(t,r,e){return parseFloat(pt(e[r]).attr("y"))-n}))},Cf=function(t,n,r,e){t.style("stroke-dasharray","").attr("stroke-dasharray",null).style("outline-offset","0px").style("outline-color","none").style("outline-width","0px").attr("filter",null).style("stroke-linecap",e?"butt":"round").style("fill","none").style("stroke-opacity",1).style("stroke",r).style("stroke-width",(function(t,r,i){var u="none"!==pt(i[r]).style("stroke")&&parseFloat(pt(i[r]).style("stroke-width"))||0,o=pt(i[r]).attr("transform")?pt(i[r]).attr("transform").indexOf("scale"):-1,a=1;if(o>-1){var s=pt(i[r]).attr("transform").substring(o+6),c=s.indexOf(",")<s.indexOf(")")&&-1!==s.indexOf(",")?s.indexOf(","):s.indexOf(")");a=+s.substring(0,c)}var f=0,h=pt(i[r]);if(h.attr("d")&&e){var l=h.attr("d").substr(1);h.attr("d","M "+(e.source.x1-n/2)+" "+e.y0+" L"+l+"L "+(e.target.x0+n/2)+" "+e.y1)}else if(h.attr("marker-start")&&h.attr("data-centerX1")&&h.attr("d")){var d=h.attr("data-centerX1"),v=h.attr("data-centerY1"),p=h.attr("data-centerX2"),b=h.attr("data-centerY2");h.attr("d","M "+d+" "+v+" L "+p+" "+b),f=+h.attr("data-barSize")+6}return h.attr("marker-start",null),h.attr("marker-end",null),(u+n+f)/a+"px"}))},Df=function(t){return t.nextElementSibling?"g"===t.nextElementSibling.nodeName?t.nextElementSibling:Df(t.nextElementSibling):null},Hf=function(t,n){return n&&(!n||null===pt(t).attr("tabindex"))||pt(t).classed("vcl-accessibility-focus-highlight")?t.nextElementSibling?Hf(t.nextElementSibling,n):null:t},jf=function(t){var n=t.getBoundingClientRect(),r=n.left+(cf?0:document.body.scrollLeft+document.documentElement.scrollLeft);return{top:n.top+(cf?0:document.body.scrollTop+document.documentElement.scrollTop),left:r}},Uf=function(t){Sf(t.parentNode);var n=new MouseEvent("mouseout",{bubbles:!1,cancelable:!0});t.dispatchEvent(n)},_f=function(t,n,r){var e=jf(t).left,i=jf(t).top,u=new MouseEvent("mouseover",{bubbles:!1,cancelable:!0,clientX:e,clientY:i});r&&If(t,n),t.dispatchEvent(u)},Pf={"vcl-access-title":"This chart has no title provided.","vcl-access-subtitle":"This chart has no subtitle provided.","vcl-access-long-description":"","vcl-access-context":"","vcl-access-executive-summary":"","vcl-access-purpose":"","vcl-access-statistics":"","vcl-access-layout":"","vcl-access-xAxis":"","vcl-access-yAxis":"","vcl-access-notes":"","vcl-access-annotation":"","vcl-access-annotation-title":"","vcl-access-annotation-description":"",headings:""},Wf=function(t,n){if("p"===t||"P"===t||!t)return"p";if("span"===t||"SPAN"===t)return"span";if("div"===t||"DIV"===t)return"div";var r=n||0,e="string"!=typeof t||t.length<=1?t:t[1];return+e+r<7&&r<3?"h"+(+e+r):"p"},Bf=function(t,n,r,e,i,u){var o=t.select("."+e).text(n||Pf[e]),a=t.select("."+(u||e)+"-heading");i?(a.size()||(a=t.insert(o.node().dataset.level,"."+(u||e)).attr("class","screen-reader-info "+(u||e)+"-heading")),a.text(r)):a.remove()};function $f(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Yf(t){return 1===t.length&&(t=function(t){return function(n,r){return $f(t(n),r)}}(t)),{left:function(n,r,e,i){for(null==e&&(e=0),null==i&&(i=n.length);e<i;){var u=e+i>>>1;t(n[u],r)<0?e=u+1:i=u}return e},right:function(n,r,e,i){for(null==e&&(e=0),null==i&&(i=n.length);e<i;){var u=e+i>>>1;t(n[u],r)>0?i=u:e=u+1}return e}}}var qf=Yf($f),zf=qf.right,Vf=qf.left;function Gf(t,n){return[t,n]}function Zf(t){return null===t?NaN:+t}function Xf(t,n){var r,e,i=t.length,u=0,o=-1,a=0,s=0;if(null==n)for(;++o<i;)isNaN(r=Zf(t[o]))||(s+=(e=r-a)*(r-(a+=e/++u)));else for(;++o<i;)isNaN(r=Zf(n(t[o],o,t)))||(s+=(e=r-a)*(r-(a+=e/++u)));if(u>1)return s/(u-1)}function Kf(t,n){var r=Xf(t,n);return r?Math.sqrt(r):r}function Jf(t,n){var r,e,i,u=t.length,o=-1;if(null==n){for(;++o<u;)if(null!=(r=t[o])&&r>=r)for(e=i=r;++o<u;)null!=(r=t[o])&&(e>r&&(e=r),i<r&&(i=r))}else for(;++o<u;)if(null!=(r=n(t[o],o,t))&&r>=r)for(e=i=r;++o<u;)null!=(r=n(t[o],o,t))&&(e>r&&(e=r),i<r&&(i=r));return[e,i]}var Qf=Array.prototype,th=Qf.slice,nh=Qf.map;function rh(t){return function(){return t}}function eh(t){return t}function ih(t,n,r){t=+t,n=+n,r=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+r;for(var e=-1,i=0|Math.max(0,Math.ceil((n-t)/r)),u=new Array(i);++e<i;)u[e]=t+e*r;return u}var uh=Math.sqrt(50),oh=Math.sqrt(10),ah=Math.sqrt(2);function sh(t,n,r){var e=(n-t)/Math.max(0,r),i=Math.floor(Math.log(e)/Math.LN10),u=e/Math.pow(10,i);return i>=0?(u>=uh?10:u>=oh?5:u>=ah?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(u>=uh?10:u>=oh?5:u>=ah?2:1)}function ch(t,n,r){var e=Math.abs(n-t)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),u=e/i;return u>=uh?i*=10:u>=oh?i*=5:u>=ah&&(i*=2),n<t?-i:i}function fh(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function hh(t,n,r){if(null==r&&(r=Zf),e=t.length){if((n=+n)<=0||e<2)return+r(t[0],0,t);if(n>=1)return+r(t[e-1],e-1,t);var e,i=(e-1)*n,u=Math.floor(i),o=+r(t[u],u,t);return o+(+r(t[u+1],u+1,t)-o)*(i-u)}}function lh(t,n){var r,e,i=t.length,u=-1;if(null==n){for(;++u<i;)if(null!=(r=t[u])&&r>=r)for(e=r;++u<i;)null!=(r=t[u])&&e>r&&(e=r)}else for(;++u<i;)if(null!=(r=n(t[u],u,t))&&r>=r)for(e=r;++u<i;)null!=(r=n(t[u],u,t))&&e>r&&(e=r);return e}function dh(t){if(!(i=t.length))return[];for(var n=-1,r=lh(t,vh),e=new Array(r);++n<r;)for(var i,u=-1,o=e[n]=new Array(i);++u<i;)o[u]=t[u][n];return e}function vh(t){return t.length}var ph=Array.prototype.slice;function bh(t){return t}function wh(t){return"translate("+(t+.5)+",0)"}function mh(t){return"translate(0,"+(t+.5)+")"}function yh(t){return function(n){return+t(n)}}function gh(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(r){return+t(r)+n}}function Mh(){return!this.__axis}function Nh(t,n){var r=[],e=null,i=null,u=6,o=6,a=3,s=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",f=1===t||3===t?wh:mh;function h(h){var l=null==e?n.ticks?n.ticks.apply(n,r):n.domain():e,d=null==i?n.tickFormat?n.tickFormat.apply(n,r):bh:i,v=Math.max(u,0)+a,p=n.range(),b=+p[0]+.5,w=+p[p.length-1]+.5,m=(n.bandwidth?gh:yh)(n.copy()),y=h.selection?h.selection():h,g=y.selectAll(".domain").data([null]),M=y.selectAll(".tick").data(l,n).order(),N=M.exit(),L=M.enter().append("g").attr("class","tick"),k=M.select("line"),E=M.select("text");g=g.merge(g.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),M=M.merge(L),k=k.merge(L.append("line").attr("stroke","#000").attr(c+"2",s*u)),E=E.merge(L.append("text").attr("fill","#000").attr(c,s*v).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==y&&(g=g.transition(h),M=M.transition(h),k=k.transition(h),E=E.transition(h),N=N.transition(h).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=m(t))?f(t):this.getAttribute("transform")})),L.attr("opacity",1e-6).attr("transform",(function(t){var n=this.parentNode.__axis;return f(n&&isFinite(n=n(t))?n:m(t))}))),N.remove(),g.attr("d",4===t||2==t?"M"+s*o+","+b+"H0.5V"+w+"H"+s*o:"M"+b+","+s*o+"V0.5H"+w+"V"+s*o),M.attr("opacity",1).attr("transform",(function(t){return f(m(t))})),k.attr(c+"2",s*u),E.attr(c,s*v).text(d),y.filter(Mh).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),y.each((function(){this.__axis=m}))}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return r=ph.call(arguments),h},h.tickArguments=function(t){return arguments.length?(r=null==t?[]:ph.call(t),h):r.slice()},h.tickValues=function(t){return arguments.length?(e=null==t?null:ph.call(t),h):e&&e.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(u=o=+t,h):u},h.tickSizeInner=function(t){return arguments.length?(u=+t,h):u},h.tickSizeOuter=function(t){return arguments.length?(o=+t,h):o},h.tickPadding=function(t){return arguments.length?(a=+t,h):a},h}function Lh(){rt.preventDefault(),rt.stopImmediatePropagation()}function kh(t){var n=t.document.documentElement,r=pt(t).on("dragstart.drag",Lh,!0);"onselectstart"in n?r.on("selectstart.drag",Lh,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Eh(t,n){var r=t.document.documentElement,e=pt(t).on("dragstart.drag",null);n&&(e.on("click.drag",Lh,!0),setTimeout((function(){e.on("click.drag",null)}),0)),"onselectstart"in r?e.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var Ah=Xe("start","end","cancel","interrupt"),Th=[];function xh(t,n,r,e,i,u){var o=t.__transition;if(o){if(r in o)return}else t.__transition={};!function(t,n,r){var e,i=t.__transition;function u(s){var c,f,h,l;if(1!==r.state)return a();for(c in i)if((l=i[c]).name===r.name){if(3===l.state)return mi(u);4===l.state?(l.state=6,l.timer.stop(),l.on.call("interrupt",t,t.__data__,l.index,l.group),delete i[c]):+c<n&&(l.state=6,l.timer.stop(),l.on.call("cancel",t,t.__data__,l.index,l.group),delete i[c])}if(mi((function(){3===r.state&&(r.state=4,r.timer.restart(o,r.delay,r.time),o(s))})),r.state=2,r.on.call("start",t,t.__data__,r.index,r.group),2===r.state){for(r.state=3,e=new Array(h=r.tween.length),c=0,f=-1;c<h;++c)(l=r.tween[c].value.call(t,t.__data__,r.index,r.group))&&(e[++f]=l);e.length=f+1}}function o(n){for(var i=n<r.duration?r.ease.call(null,n/r.duration):(r.timer.restart(a),r.state=5,1),u=-1,o=e.length;++u<o;)e[u].call(t,i);5===r.state&&(r.on.call("end",t,t.__data__,r.index,r.group),a())}function a(){for(var e in r.state=6,r.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=r,r.timer=vi((function(t){r.state=1,r.timer.restart(u,r.delay,r.time),r.delay<=t&&u(t-r.delay)}),0,r.time)}(t,r,{name:n,index:e,group:i,on:Ah,tween:Th,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:0})}function Sh(t,n){var r=Ih(t,n);if(r.state>0)throw new Error("too late; already scheduled");return r}function Oh(t,n){var r=Ih(t,n);if(r.state>3)throw new Error("too late; already running");return r}function Ih(t,n){var r=t.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function Rh(t,n){var r,e,i,u=t.__transition,o=!0;if(u){for(i in n=null==n?null:n+"",u)(r=u[i]).name===n?(e=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(e?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete u[i]):o=!1;o&&delete t.__transition}}function Fh(t,n){var r,e;return function(){var i=Oh(this,t),u=i.tween;if(u!==r)for(var o=0,a=(e=r=u).length;o<a;++o)if(e[o].name===n){(e=e.slice()).splice(o,1);break}i.tween=e}}function Ch(t,n,r){var e,i;if("function"!=typeof r)throw new Error;return function(){var u=Oh(this,t),o=u.tween;if(o!==e){i=(e=o).slice();for(var a={name:n,value:r},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=a;break}s===c&&i.push(a)}u.tween=i}}function Dh(t,n,r){var e=t._id;return t.each((function(){var t=Oh(this,e);(t.value||(t.value={}))[n]=r.apply(this,arguments)})),function(t){return Ih(t,e).value[n]}}function Hh(t,n,r){t.prototype=n.prototype=r,r.constructor=t}function jh(t,n){var r=Object.create(t.prototype);for(var e in n)r[e]=n[e];return r}function Uh(){}var _h="\\s*([+-]?\\d+)\\s*",Ph="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bh=/^#([0-9a-f]{3,8})$/,$h=new RegExp("^rgb\\("+[_h,_h,_h]+"\\)$"),Yh=new RegExp("^rgb\\("+[Wh,Wh,Wh]+"\\)$"),qh=new RegExp("^rgba\\("+[_h,_h,_h,Ph]+"\\)$"),zh=new RegExp("^rgba\\("+[Wh,Wh,Wh,Ph]+"\\)$"),Vh=new RegExp("^hsl\\("+[Ph,Wh,Wh]+"\\)$"),Gh=new RegExp("^hsla\\("+[Ph,Wh,Wh,Ph]+"\\)$"),Zh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Xh(){return this.rgb().formatHex()}function Kh(){return this.rgb().formatRgb()}function Jh(t){var n,r;return t=(t+"").trim().toLowerCase(),(n=Bh.exec(t))?(r=n[1].length,n=parseInt(n[1],16),6===r?Qh(n):3===r?new rl(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===r?tl(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===r?tl(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=$h.exec(t))?new rl(n[1],n[2],n[3],1):(n=Yh.exec(t))?new rl(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=qh.exec(t))?tl(n[1],n[2],n[3],n[4]):(n=zh.exec(t))?tl(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Vh.exec(t))?ol(n[1],n[2]/100,n[3]/100,1):(n=Gh.exec(t))?ol(n[1],n[2]/100,n[3]/100,n[4]):Zh.hasOwnProperty(t)?Qh(Zh[t]):"transparent"===t?new rl(NaN,NaN,NaN,0):null}function Qh(t){return new rl(t>>16&255,t>>8&255,255&t,1)}function tl(t,n,r,e){return e<=0&&(t=n=r=NaN),new rl(t,n,r,e)}function nl(t){return t instanceof Uh||(t=Jh(t)),t?new rl((t=t.rgb()).r,t.g,t.b,t.opacity):new rl}function rl(t,n,r,e){this.r=+t,this.g=+n,this.b=+r,this.opacity=+e}function el(){return"#"+ul(this.r)+ul(this.g)+ul(this.b)}function il(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ul(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function ol(t,n,r,e){return e<=0?t=n=r=NaN:r<=0||r>=1?t=n=NaN:n<=0&&(t=NaN),new sl(t,n,r,e)}function al(t){if(t instanceof sl)return new sl(t.h,t.s,t.l,t.opacity);if(t instanceof Uh||(t=Jh(t)),!t)return new sl;if(t instanceof sl)return t;var n=(t=t.rgb()).r/255,r=t.g/255,e=t.b/255,i=Math.min(n,r,e),u=Math.max(n,r,e),o=NaN,a=u-i,s=(u+i)/2;return a?(o=n===u?(r-e)/a+6*(r<e):r===u?(e-n)/a+2:(n-r)/a+4,a/=s<.5?u+i:2-u-i,o*=60):a=s>0&&s<1?0:o,new sl(o,a,s,t.opacity)}function sl(t,n,r,e){this.h=+t,this.s=+n,this.l=+r,this.opacity=+e}function cl(t,n,r){return 255*(t<60?n+(r-n)*t/60:t<180?r:t<240?n+(r-n)*(240-t)/60:n)}Hh(Uh,Jh,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Xh,formatHex:Xh,formatHsl:function(){return al(this).formatHsl()},formatRgb:Kh,toString:Kh}),Hh(rl,(function(t,n,r,e){return 1===arguments.length?nl(t):new rl(t,n,r,null==e?1:e)}),jh(Uh,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new rl(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new rl(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:el,formatHex:el,formatRgb:il,toString:il})),Hh(sl,(function(t,n,r,e){return 1===arguments.length?al(t):new sl(t,n,r,null==e?1:e)}),jh(Uh,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new sl(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new sl(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,e=r+(r<.5?r:1-r)*n,i=2*r-e;return new rl(cl(t>=240?t-240:t+120,i,e),cl(t,i,e),cl(t<120?t+240:t-120,i,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var fl=Math.PI/180,hl=180/Math.PI;function ll(t){if(t instanceof dl)return new dl(t.l,t.a,t.b,t.opacity);if(t instanceof yl)return gl(t);t instanceof rl||(t=nl(t));var n,r,e=wl(t.r),i=wl(t.g),u=wl(t.b),o=vl((.2225045*e+.7168786*i+.0606169*u)/1);return e===i&&i===u?n=r=o:(n=vl((.4360747*e+.3850649*i+.1430804*u)/.96422),r=vl((.0139322*e+.0971045*i+.7141733*u)/.82521)),new dl(116*o-16,500*(n-o),200*(o-r),t.opacity)}function dl(t,n,r,e){this.l=+t,this.a=+n,this.b=+r,this.opacity=+e}function vl(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/(6/29*3*(6/29))+4/29}function pl(t){return t>6/29?t*t*t:6/29*3*(6/29)*(t-4/29)}function bl(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function wl(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ml(t){if(t instanceof yl)return new yl(t.h,t.c,t.l,t.opacity);if(t instanceof dl||(t=ll(t)),0===t.a&&0===t.b)return new yl(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*hl;return new yl(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function yl(t,n,r,e){this.h=+t,this.c=+n,this.l=+r,this.opacity=+e}function gl(t){if(isNaN(t.h))return new dl(t.l,0,0,t.opacity);var n=t.h*fl;return new dl(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}function Ml(t){if(t instanceof Nl)return new Nl(t.h,t.s,t.l,t.opacity);t instanceof rl||(t=nl(t));var n=t.g/255,r=t.b/255,e=(-.6557636667999999*r+t.r/255*-1.7884503806-3.5172982438*n)/-5.9615122912,i=r-e,u=(1.97294*(n-e)- -.29227*i)/-.90649,o=Math.sqrt(u*u+i*i)/(1.97294*e*(1-e)),a=o?Math.atan2(u,i)*hl-120:NaN;return new Nl(a<0?a+360:a,o,e,t.opacity)}function Nl(t,n,r,e){this.h=+t,this.s=+n,this.l=+r,this.opacity=+e}function Ll(t,n){var r;return("number"==typeof n?xu:n instanceof Jh?ku:(r=Jh(n))?(n=r,ku):Ru)(t,n)}function kl(t){return function(){this.removeAttribute(t)}}function El(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Al(t,n,r){var e,i,u=r+"";return function(){var o=this.getAttribute(t);return o===u?null:o===e?i:i=n(e=o,r)}}function Tl(t,n,r){var e,i,u=r+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===u?null:o===e?i:i=n(e=o,r)}}function xl(t,n,r){var e,i,u;return function(){var o,a,s=r(this);if(null!=s)return(o=this.getAttribute(t))===(a=s+"")?null:o===e&&a===i?u:(i=a,u=n(e=o,s));this.removeAttribute(t)}}function Sl(t,n,r){var e,i,u;return function(){var o,a,s=r(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===(a=s+"")?null:o===e&&a===i?u:(i=a,u=n(e=o,s));this.removeAttributeNS(t.space,t.local)}}function Ol(t,n){return function(r){this.setAttribute(t,n.call(this,r))}}function Il(t,n){return function(r){this.setAttributeNS(t.space,t.local,n.call(this,r))}}function Rl(t,n){var r,e;function i(){var i=n.apply(this,arguments);return i!==e&&(r=(e=i)&&Il(t,i)),r}return i._value=n,i}function Fl(t,n){var r,e;function i(){var i=n.apply(this,arguments);return i!==e&&(r=(e=i)&&Ol(t,i)),r}return i._value=n,i}function Cl(t,n){return function(){Sh(this,t).delay=+n.apply(this,arguments)}}function Dl(t,n){return n=+n,function(){Sh(this,t).delay=n}}function Hl(t,n){return function(){Oh(this,t).duration=+n.apply(this,arguments)}}function jl(t,n){return n=+n,function(){Oh(this,t).duration=n}}function Ul(t,n){if("function"!=typeof n)throw new Error;return function(){Oh(this,t).ease=n}}function _l(t,n,r){var e,i,u=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Sh:Oh;return function(){var o=u(this,t),a=o.on;a!==e&&(i=(e=a).copy()).on(n,r),o.on=i}}Hh(dl,(function(t,n,r,e){return 1===arguments.length?ll(t):new dl(t,n,r,null==e?1:e)}),jh(Uh,{brighter:function(t){return new dl(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new dl(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return new rl(bl(3.1338561*(n=.96422*pl(n))-1.6168667*(t=1*pl(t))-.4906146*(r=.82521*pl(r))),bl(-.9787684*n+1.9161415*t+.033454*r),bl(.0719453*n-.2289914*t+1.4052427*r),this.opacity)}})),Hh(yl,(function(t,n,r,e){return 1===arguments.length?ml(t):new yl(t,n,r,null==e?1:e)}),jh(Uh,{brighter:function(t){return new yl(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new yl(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return gl(this).rgb()}})),Hh(Nl,(function(t,n,r,e){return 1===arguments.length?Ml(t):new Nl(t,n,r,null==e?1:e)}),jh(Uh,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Nl(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Nl(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*fl,n=+this.l,r=isNaN(this.s)?0:this.s*n*(1-n),e=Math.cos(t),i=Math.sin(t);return new rl(255*(n+r*(-.14861*e+1.78277*i)),255*(n+r*(-.29227*e+-.90649*i)),255*(n+r*(1.97294*e)),this.opacity)}}));var Pl=vt.prototype.constructor;function Wl(t){return function(){this.style.removeProperty(t)}}function Bl(t,n,r){return function(e){this.style.setProperty(t,n.call(this,e),r)}}function $l(t,n,r){var e,i;function u(){var u=n.apply(this,arguments);return u!==i&&(e=(i=u)&&Bl(t,u,r)),e}return u._value=n,u}function Yl(t){return function(n){this.textContent=t.call(this,n)}}function ql(t){var n,r;function e(){var e=t.apply(this,arguments);return e!==r&&(n=(r=e)&&Yl(e)),n}return e._value=t,e}var zl=0;function Vl(t,n,r,e){this._groups=t,this._parents=n,this._name=r,this._id=e}function Gl(){return++zl}var Zl=vt.prototype;Vl.prototype=function(t){return vt().transition(t)}.prototype={constructor:Vl,select:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=l(t));for(var e=this._groups,i=e.length,u=new Array(i),o=0;o<i;++o)for(var a,s,c=e[o],f=c.length,h=u[o]=new Array(f),d=0;d<f;++d)(a=c[d])&&(s=t.call(a,a.__data__,d,c))&&("__data__"in a&&(s.__data__=a.__data__),h[d]=s,xh(h[d],n,r,d,h,Ih(a,r)));return new Vl(u,this._parents,n,r)},selectAll:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=v(t));for(var e=this._groups,i=e.length,u=[],o=[],a=0;a<i;++a)for(var s,c=e[a],f=c.length,h=0;h<f;++h)if(s=c[h]){for(var l,d=t.call(s,s.__data__,h,c),p=Ih(s,r),b=0,w=d.length;b<w;++b)(l=d[b])&&xh(l,n,r,b,d,p);u.push(d),o.push(s)}return new Vl(u,o,n,r)},filter:function(t){"function"!=typeof t&&(t=p(t));for(var n=this._groups,r=n.length,e=new Array(r),i=0;i<r;++i)for(var u,o=n[i],a=o.length,s=e[i]=[],c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&s.push(u);return new Vl(e,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,r=t._groups,e=n.length,i=Math.min(e,r.length),u=new Array(e),o=0;o<i;++o)for(var a,s=n[o],c=r[o],f=s.length,h=u[o]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;o<e;++o)u[o]=n[o];return new Vl(u,this._parents,this._name,this._id)},selection:function(){return new Pl(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,r=Gl(),e=this._groups,i=e.length,u=0;u<i;++u)for(var o,a=e[u],s=a.length,c=0;c<s;++c)if(o=a[c]){var f=Ih(o,n);xh(o,t,r,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Vl(e,this._parents,t,r)},call:Zl.call,nodes:Zl.nodes,node:Zl.node,size:Zl.size,empty:Zl.empty,each:Zl.each,on:function(t,n){var r=this._id;return arguments.length<2?Ih(this.node(),r).on.on(t):this.each(_l(r,t,n))},attr:function(t,n){var r=a(t),e="transform"===r?Yu:Ll;return this.attrTween(t,"function"==typeof n?(r.local?Sl:xl)(r,e,Dh(this,"attr."+t,n)):null==n?(r.local?El:kl)(r):(r.local?Tl:Al)(r,e,n))},attrTween:function(t,n){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;var e=a(t);return this.tween(r,(e.local?Rl:Fl)(e,n))},style:function(t,n,r){var e="transform"==(t+="")?$u:Ll;return null==n?this.styleTween(t,function(t,n){var r,e,i;return function(){var u=I(this,t),o=(this.style.removeProperty(t),I(this,t));return u===o?null:u===r&&o===e?i:i=n(r=u,e=o)}}(t,e)).on("end.style."+t,Wl(t)):"function"==typeof n?this.styleTween(t,function(t,n,r){var e,i,u;return function(){var o=I(this,t),a=r(this),s=a+"";return null==a&&(this.style.removeProperty(t),s=a=I(this,t)),o===s?null:o===e&&s===i?u:(i=s,u=n(e=o,a))}}(t,e,Dh(this,"style."+t,n))).each(function(t,n){var r,e,i,u,o="style."+n,a="end."+o;return function(){var s=Oh(this,t),c=s.on,f=null==s.value[o]?u||(u=Wl(n)):void 0;c===r&&i===f||(e=(r=c).copy()).on(a,i=f),s.on=e}}(this._id,t)):this.styleTween(t,function(t,n,r){var e,i,u=r+"";return function(){var o=I(this,t);return o===u?null:o===e?i:i=n(e=o,r)}}(t,e,n),r).on("end.style."+t,null)},styleTween:function(t,n,r){var e="style."+(t+="");if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;return this.tween(e,$l(t,n,null==r?"":r))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Dh(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,ql(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var r=this._id;if(t+="",arguments.length<2){for(var e,i=Ih(this.node(),r).tween,u=0,o=i.length;u<o;++u)if((e=i[u]).name===t)return e.value;return null}return this.each((null==n?Fh:Ch)(r,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Cl:Dl)(n,t)):Ih(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Hl:jl)(n,t)):Ih(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Ul(n,t)):Ih(this.node(),n).ease},end:function(){var t,n,r=this,e=r._id,i=r.size();return new Promise((function(u,o){var a={value:o},s={value:function(){0==--i&&u()}};r.each((function(){var r=Oh(this,e),i=r.on;i!==t&&((n=(t=i).copy())._.cancel.push(a),n._.interrupt.push(a),n._.end.push(s)),r.on=n}))}))}};var Xl={time:null,delay:0,duration:250,ease:aa};function Kl(t,n){for(var r;!(r=t.__transition)||!(r=r[n]);)if(!(t=t.parentNode))return Xl.time=hi(),Xl;return r}function Jl(t){return function(){return t}}function Ql(t,n,r){this.target=t,this.type=n,this.selection=r}function td(){rt.stopImmediatePropagation()}function nd(){rt.preventDefault(),rt.stopImmediatePropagation()}vt.prototype.interrupt=function(t){return this.each((function(){Rh(this,t)}))},vt.prototype.transition=function(t){var n,r;t instanceof Vl?(n=t._id,t=t._name):(n=Gl(),(r=Xl).time=hi(),t=null==t?null:t+"");for(var e=this._groups,i=e.length,u=0;u<i;++u)for(var o,a=e[u],s=a.length,c=0;c<s;++c)(o=a[c])&&xh(o,t,n,c,a,r||Kl(o,n));return new Vl(e,this._parents,t,n)};var rd={name:"drag"},ed={name:"space"},id={name:"handle"},ud={name:"center"},od={name:"x",handles:["e","w"].map(vd),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ad={name:"y",handles:["n","s"].map(vd),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},sd={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(vd),input:function(t){return t},output:function(t){return t}},cd={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},fd={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},hd={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ld={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},dd={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function vd(t){return{type:t}}function pd(){return!rt.button}function bd(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function wd(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function md(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function yd(t){var n,r=bd,e=pd,i=Xe(o,"start","brush","end"),u=6;function o(n){var r=n.property("__brush",h).selectAll(".overlay").data([vd("overlay")]);r.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",cd.overlay).merge(r).each((function(){var t=wd(this).extent;pt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),n.selectAll(".selection").data([vd("selection")]).enter().append("rect").attr("class","selection").attr("cursor",cd.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var e=n.selectAll(".handle").data(t.handles,(function(t){return t.type}));e.exit().remove(),e.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return cd[t.type]})),n.each(a).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",f)}function a(){var t=pt(this),n=wd(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?n[1][0]-u/2:n[0][0]-u/2})).attr("y",(function(t){return"s"===t.type[0]?n[1][1]-u/2:n[0][1]-u/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+u:u})).attr("height",(function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+u:u}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function s(t,n){return t.__brush.emitter||new c(t,n)}function c(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function f(){if(rt.touches){if(rt.changedTouches.length<rt.touches.length)return nd()}else if(n)return;if(e.apply(this,arguments)){var r,i,u,o,c,f,h,l,d,v,p,b,w,m=this,y=rt.target.__data__.type,g="selection"===(rt.metaKey?y="overlay":y)?rd:rt.altKey?ud:id,M=t===ad?null:ld[y],N=t===od?null:dd[y],L=wd(m),k=L.extent,E=L.selection,A=k[0][0],T=k[0][1],x=k[1][0],S=k[1][1],O=M&&N&&rt.shiftKey,I=mt(m),R=I,F=s(m,arguments).beforestart();"overlay"===y?L.selection=E=[[r=t===ad?A:I[0],u=t===od?T:I[1]],[c=t===ad?x:r,h=t===od?S:u]]:(r=E[0][0],u=E[0][1],c=E[1][0],h=E[1][1]),i=r,o=u,f=c,l=h;var C=pt(m).attr("pointer-events","none"),D=C.selectAll(".overlay").attr("cursor",cd[y]);if(rt.touches)C.on("touchmove.brush",j,!0).on("touchend.brush touchcancel.brush",_,!0);else{var H=pt(rt.view).on("keydown.brush",P,!0).on("keyup.brush",W,!0).on("mousemove.brush",j,!0).on("mouseup.brush",_,!0);kh(rt.view)}td(),Rh(m),a.call(m),F.start()}function j(){var t=mt(m);!O||b||w||(Math.abs(t[0]-R[0])>Math.abs(t[1]-R[1])?w=!0:b=!0),R=t,p=!0,nd(),U()}function U(){var t;switch(d=R[0]-I[0],v=R[1]-I[1],g){case ed:case rd:M&&(d=Math.max(A-r,Math.min(x-c,d)),i=r+d,f=c+d),N&&(v=Math.max(T-u,Math.min(S-h,v)),o=u+v,l=h+v);break;case id:M<0?(d=Math.max(A-r,Math.min(x-r,d)),i=r+d,f=c):M>0&&(d=Math.max(A-c,Math.min(x-c,d)),i=r,f=c+d),N<0?(v=Math.max(T-u,Math.min(S-u,v)),o=u+v,l=h):N>0&&(v=Math.max(T-h,Math.min(S-h,v)),o=u,l=h+v);break;case ud:M&&(i=Math.max(A,Math.min(x,r-d*M)),f=Math.max(A,Math.min(x,c+d*M))),N&&(o=Math.max(T,Math.min(S,u-v*N)),l=Math.max(T,Math.min(S,h+v*N)))}f<i&&(M*=-1,t=r,r=c,c=t,t=i,i=f,f=t,y in fd&&D.attr("cursor",cd[y=fd[y]])),l<o&&(N*=-1,t=u,u=h,h=t,t=o,o=l,l=t,y in hd&&D.attr("cursor",cd[y=hd[y]])),L.selection&&(E=L.selection),b&&(i=E[0][0],f=E[1][0]),w&&(o=E[0][1],l=E[1][1]),E[0][0]===i&&E[0][1]===o&&E[1][0]===f&&E[1][1]===l||(L.selection=[[i,o],[f,l]],a.call(m),F.brush())}function _(){if(td(),rt.touches){if(rt.touches.length)return;n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),C.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Eh(rt.view,p),H.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);C.attr("pointer-events","all"),D.attr("cursor",cd.overlay),L.selection&&(E=L.selection),md(E)&&(L.selection=null,a.call(m)),F.end()}function P(){switch(rt.keyCode){case 16:O=M&&N;break;case 18:g===id&&(M&&(c=f-d*M,r=i+d*M),N&&(h=l-v*N,u=o+v*N),g=ud,U());break;case 32:g!==id&&g!==ud||(M<0?c=f-d:M>0&&(r=i-d),N<0?h=l-v:N>0&&(u=o-v),g=ed,D.attr("cursor",cd.selection),U());break;default:return}nd()}function W(){switch(rt.keyCode){case 16:O&&(b=w=O=!1,U());break;case 18:g===ud&&(M<0?c=f:M>0&&(r=i),N<0?h=l:N>0&&(u=o),g=id,U());break;case 32:g===ed&&(rt.altKey?(M&&(c=f-d*M,r=i+d*M),N&&(h=l-v*N,u=o+v*N),g=ud):(M<0?c=f:M>0&&(r=i),N<0?h=l:N>0&&(u=o),g=id),D.attr("cursor",cd[y]),U());break;default:return}nd()}}function h(){var n=this.__brush||{selection:null};return n.extent=r.apply(this,arguments),n.dim=t,n}return o.move=function(n,r){n.selection?n.on("start.brush",(function(){s(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){s(this,arguments).end()})).tween("brush",(function(){var n=this,e=n.__brush,i=s(n,arguments),u=e.selection,o=t.input("function"==typeof r?r.apply(this,arguments):r,e.extent),c=Fu(u,o);function f(t){e.selection=1===t&&md(o)?null:c(t),a.call(n),i.brush()}return u&&o?f:f(1)})):n.each((function(){var n=this,e=arguments,i=n.__brush,u=t.input("function"==typeof r?r.apply(n,e):r,i.extent),o=s(n,e).beforestart();Rh(n),i.selection=null==u||md(u)?null:u,a.call(n),o.start().brush().end()}))},c.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){st(new Ql(o,n,t.output(this.state.selection)),i.apply,i,[n,this.that,this.args])}},o.extent=function(t){return arguments.length?(r="function"==typeof t?t:Jl([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),o):r},o.filter=function(t){return arguments.length?(e="function"==typeof t?t:Jl(!!t),o):e},o.handleSize=function(t){return arguments.length?(u=+t,o):u},o.on=function(){var t=i.on.apply(i,arguments);return t===i?o:t},o}var gd=Math.cos,Md=Math.sin,Nd=Math.PI,Ld=Nd/2,kd=2*Nd,Ed=Math.max;function Ad(t){return function(n,r){return t(n.source.value+n.target.value,r.source.value+r.target.value)}}var Td=Array.prototype.slice;function xd(t){return function(){return t}}function Sd(t){return t.source}function Od(t){return t.target}function Id(t){return t.radius}function Rd(t){return t.startAngle}function Fd(t){return t.endAngle}function Cd(){}function Dd(t,n){var r=new Cd;if(t instanceof Cd)t.each((function(t,n){r.set(n,t)}));else if(Array.isArray(t)){var e,i=-1,u=t.length;if(null==n)for(;++i<u;)r.set(i,t[i]);else for(;++i<u;)r.set(n(e=t[i],i,t),e)}else if(t)for(var o in t)r.set(o,t[o]);return r}function Hd(){return{}}function jd(t,n,r){t[n]=r}function Ud(){return Dd()}function _d(t,n,r){t.set(n,r)}function Pd(){}Cd.prototype=Dd.prototype={constructor:Cd,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var Wd=Dd.prototype;function Bd(t,n){var r=new Pd;if(t instanceof Pd)t.each((function(t){r.add(t)}));else if(t){var e=-1,i=t.length;if(null==n)for(;++e<i;)r.add(t[e]);else for(;++e<i;)r.add(n(t[e],e,t))}return r}function $d(t,n,r){t.prototype=n.prototype=r,r.constructor=t}function Yd(t,n){var r=Object.create(t.prototype);for(var e in n)r[e]=n[e];return r}function qd(){}Pd.prototype=Bd.prototype={constructor:Pd,has:Wd.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Wd.remove,clear:Wd.clear,values:Wd.keys,size:Wd.size,empty:Wd.empty,each:Wd.each};var zd="\\s*([+-]?\\d+)\\s*",Vd="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gd="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zd=/^#([0-9a-f]{3})$/,Xd=/^#([0-9a-f]{6})$/,Kd=new RegExp("^rgb\\("+[zd,zd,zd]+"\\)$"),Jd=new RegExp("^rgb\\("+[Gd,Gd,Gd]+"\\)$"),Qd=new RegExp("^rgba\\("+[zd,zd,zd,Vd]+"\\)$"),tv=new RegExp("^rgba\\("+[Gd,Gd,Gd,Vd]+"\\)$"),nv=new RegExp("^hsl\\("+[Vd,Gd,Gd]+"\\)$"),rv=new RegExp("^hsla\\("+[Vd,Gd,Gd,Vd]+"\\)$"),ev={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function iv(t){var n;return t=(t+"").trim().toLowerCase(),(n=Zd.exec(t))?new cv((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=Xd.exec(t))?uv(parseInt(n[1],16)):(n=Kd.exec(t))?new cv(n[1],n[2],n[3],1):(n=Jd.exec(t))?new cv(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Qd.exec(t))?ov(n[1],n[2],n[3],n[4]):(n=tv.exec(t))?ov(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=nv.exec(t))?fv(n[1],n[2]/100,n[3]/100,1):(n=rv.exec(t))?fv(n[1],n[2]/100,n[3]/100,n[4]):ev.hasOwnProperty(t)?uv(ev[t]):"transparent"===t?new cv(NaN,NaN,NaN,0):null}function uv(t){return new cv(t>>16&255,t>>8&255,255&t,1)}function ov(t,n,r,e){return e<=0&&(t=n=r=NaN),new cv(t,n,r,e)}function av(t){return t instanceof qd||(t=iv(t)),t?new cv((t=t.rgb()).r,t.g,t.b,t.opacity):new cv}function sv(t,n,r,e){return 1===arguments.length?av(t):new cv(t,n,r,null==e?1:e)}function cv(t,n,r,e){this.r=+t,this.g=+n,this.b=+r,this.opacity=+e}function fv(t,n,r,e){return e<=0?t=n=r=NaN:r<=0||r>=1?t=n=NaN:n<=0&&(t=NaN),new dv(t,n,r,e)}function hv(t){if(t instanceof dv)return new dv(t.h,t.s,t.l,t.opacity);if(t instanceof qd||(t=iv(t)),!t)return new dv;if(t instanceof dv)return t;var n=(t=t.rgb()).r/255,r=t.g/255,e=t.b/255,i=Math.min(n,r,e),u=Math.max(n,r,e),o=NaN,a=u-i,s=(u+i)/2;return a?(o=n===u?(r-e)/a+6*(r<e):r===u?(e-n)/a+2:(n-r)/a+4,a/=s<.5?u+i:2-u-i,o*=60):a=s>0&&s<1?0:o,new dv(o,a,s,t.opacity)}function lv(t,n,r,e){return 1===arguments.length?hv(t):new dv(t,n,r,null==e?1:e)}function dv(t,n,r,e){this.h=+t,this.s=+n,this.l=+r,this.opacity=+e}function vv(t,n,r){return 255*(t<60?n+(r-n)*t/60:t<180?r:t<240?n+(r-n)*(240-t)/60:n)}$d(qd,iv,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),$d(cv,sv,Yd(qd,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new cv(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new cv(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),$d(dv,lv,Yd(qd,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new dv(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new dv(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,e=r+(r<.5?r:1-r)*n,i=2*r-e;return new cv(vv(t>=240?t-240:t+120,i,e),vv(t,i,e),vv(t<120?t+240:t-120,i,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var pv=Math.PI/180,bv=180/Math.PI;function wv(t){if(t instanceof yv)return new yv(t.l,t.a,t.b,t.opacity);if(t instanceof Av){var n=t.h*pv;return new yv(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof cv||(t=av(t));var r=Lv(t.r),e=Lv(t.g),i=Lv(t.b),u=gv((.4124564*r+.3575761*e+.1804375*i)/.95047),o=gv((.2126729*r+.7151522*e+.072175*i)/1);return new yv(116*o-16,500*(u-o),200*(o-gv((.0193339*r+.119192*e+.9503041*i)/1.08883)),t.opacity)}function mv(t,n,r,e){return 1===arguments.length?wv(t):new yv(t,n,r,null==e?1:e)}function yv(t,n,r,e){this.l=+t,this.a=+n,this.b=+r,this.opacity=+e}function gv(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/(6/29*3*(6/29))+4/29}function Mv(t){return t>6/29?t*t*t:6/29*3*(6/29)*(t-4/29)}function Nv(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Lv(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function kv(t){if(t instanceof Av)return new Av(t.h,t.c,t.l,t.opacity);t instanceof yv||(t=wv(t));var n=Math.atan2(t.b,t.a)*bv;return new Av(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ev(t,n,r,e){return 1===arguments.length?kv(t):new Av(t,n,r,null==e?1:e)}function Av(t,n,r,e){this.h=+t,this.c=+n,this.l=+r,this.opacity=+e}function Tv(t){if(t instanceof Sv)return new Sv(t.h,t.s,t.l,t.opacity);t instanceof cv||(t=av(t));var n=t.g/255,r=t.b/255,e=(-.6557636667999999*r+t.r/255*-1.7884503806-3.5172982438*n)/-5.9615122912,i=r-e,u=(1.97294*(n-e)- -.29227*i)/-.90649,o=Math.sqrt(u*u+i*i)/(1.97294*e*(1-e)),a=o?Math.atan2(u,i)*bv-120:NaN;return new Sv(a<0?a+360:a,o,e,t.opacity)}function xv(t,n,r,e){return 1===arguments.length?Tv(t):new Sv(t,n,r,null==e?1:e)}function Sv(t,n,r,e){this.h=+t,this.s=+n,this.l=+r,this.opacity=+e}$d(yv,mv,Yd(qd,{brighter:function(t){return new yv(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new yv(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return t=1*Mv(t),new cv(Nv(3.2404542*(n=.95047*Mv(n))-1.5371385*t-.4985314*(r=1.08883*Mv(r))),Nv(-.969266*n+1.8760108*t+.041556*r),Nv(.0556434*n-.2040259*t+1.0572252*r),this.opacity)}})),$d(Av,Ev,Yd(qd,{brighter:function(t){return new Av(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Av(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return wv(this).rgb()}})),$d(Sv,xv,Yd(qd,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Sv(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Sv(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*pv,n=+this.l,r=isNaN(this.s)?0:this.s*n*(1-n),e=Math.cos(t),i=Math.sin(t);return new cv(255*(n+r*(-.14861*e+1.78277*i)),255*(n+r*(-.29227*e+-.90649*i)),255*(n+r*(1.97294*e)),this.opacity)}}));var Ov={value:function(){}};function Iv(){for(var t,n=0,r=arguments.length,e={};n<r;++n){if(!(t=arguments[n]+"")||t in e)throw new Error("illegal type: "+t);e[t]=[]}return new Rv(e)}function Rv(t){this._=t}function Fv(t,n){return t.trim().split(/^|\s+/).map((function(t){var r="",e=t.indexOf(".");if(e>=0&&(r=t.slice(e+1),t=t.slice(0,e)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function Cv(t,n){for(var r,e=0,i=t.length;e<i;++e)if((r=t[e]).name===n)return r.value}function Dv(t,n,r){for(var e=0,i=t.length;e<i;++e)if(t[e].name===n){t[e]=Ov,t=t.slice(0,e).concat(t.slice(e+1));break}return null!=r&&t.push({name:n,value:r}),t}Rv.prototype=Iv.prototype={constructor:Rv,on:function(t,n){var r,e=this._,i=Fv(t+"",e),u=-1,o=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++u<o;)if(r=(t=i[u]).type)e[r]=Dv(e[r],t.name,n);else if(null==n)for(r in e)e[r]=Dv(e[r],t.name,null);return this}for(;++u<o;)if((r=(t=i[u]).type)&&(r=Cv(e[r],t.name)))return r},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new Rv(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var r,e,i=new Array(r),u=0;u<r;++u)i[u]=arguments[u+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=0,r=(e=this._[t]).length;u<r;++u)e[u].value.apply(n,i)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var e=this._[t],i=0,u=e.length;i<u;++i)e[i].value.apply(n,r)}};var Hv={value:function(){}};function jv(){for(var t,n=0,r=arguments.length,e={};n<r;++n){if(!(t=arguments[n]+"")||t in e||/[\s.]/.test(t))throw new Error("illegal type: "+t);e[t]=[]}return new Uv(e)}function Uv(t){this._=t}function _v(t,n){return t.trim().split(/^|\s+/).map((function(t){var r="",e=t.indexOf(".");if(e>=0&&(r=t.slice(e+1),t=t.slice(0,e)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function Pv(t,n){for(var r,e=0,i=t.length;e<i;++e)if((r=t[e]).name===n)return r.value}function Wv(t,n,r){for(var e=0,i=t.length;e<i;++e)if(t[e].name===n){t[e]=Hv,t=t.slice(0,e).concat(t.slice(e+1));break}return null!=r&&t.push({name:n,value:r}),t}Uv.prototype=jv.prototype={constructor:Uv,on:function(t,n){var r,e=this._,i=_v(t+"",e),u=-1,o=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++u<o;)if(r=(t=i[u]).type)e[r]=Wv(e[r],t.name,n);else if(null==n)for(r in e)e[r]=Wv(e[r],t.name,null);return this}for(;++u<o;)if((r=(t=i[u]).type)&&(r=Pv(e[r],t.name)))return r},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new Uv(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var r,e,i=new Array(r),u=0;u<r;++u)i[u]=arguments[u+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=0,r=(e=this._[t]).length;u<r;++u)e[u].value.apply(n,i)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var e=this._[t],i=0,u=e.length;i<u;++i)e[i].value.apply(n,r)}};var Bv="http://www.w3.org/1999/xhtml",$v={svg:"http://www.w3.org/2000/svg",xhtml:Bv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yv(t){var n=t+="",r=n.indexOf(":");return r>=0&&"xmlns"!==(n=t.slice(0,r))&&(t=t.slice(r+1)),$v.hasOwnProperty(n)?{space:$v[n],local:t}:t}function qv(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===Bv&&n.documentElement.namespaceURI===Bv?n.createElement(t):n.createElementNS(r,t)}}function zv(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Vv(t){var n=Yv(t);return(n.local?zv:qv)(n)}function Gv(){}function Zv(t){return null==t?Gv:function(){return this.querySelector(t)}}function Xv(){return[]}function Kv(t){return new Array(t.length)}function Jv(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Qv(t,n,r,e,i,u){for(var o,a=0,s=n.length,c=u.length;a<c;++a)(o=n[a])?(o.__data__=u[a],e[a]=o):r[a]=new Jv(t,u[a]);for(;a<s;++a)(o=n[a])&&(i[a]=o)}function tp(t,n,r,e,i,u,o){var a,s,c,f={},h=n.length,l=u.length,d=new Array(h);for(a=0;a<h;++a)(s=n[a])&&(d[a]=c="$"+o.call(s,s.__data__,a,n),c in f?i[a]=s:f[c]=s);for(a=0;a<l;++a)(s=f[c="$"+o.call(t,u[a],a,u)])?(e[a]=s,s.__data__=u[a],f[c]=null):r[a]=new Jv(t,u[a]);for(a=0;a<h;++a)(s=n[a])&&f[d[a]]===s&&(i[a]=s)}function np(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function rp(t){return function(){this.removeAttribute(t)}}function ep(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ip(t,n){return function(){this.setAttribute(t,n)}}function up(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function op(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}function ap(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function sp(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function cp(t){return function(){this.style.removeProperty(t)}}function fp(t,n,r){return function(){this.style.setProperty(t,n,r)}}function hp(t,n,r){return function(){var e=n.apply(this,arguments);null==e?this.style.removeProperty(t):this.style.setProperty(t,e,r)}}function lp(t,n){return t.style.getPropertyValue(n)||sp(t).getComputedStyle(t,null).getPropertyValue(n)}function dp(t){return function(){delete this[t]}}function vp(t,n){return function(){this[t]=n}}function pp(t,n){return function(){var r=n.apply(this,arguments);null==r?delete this[t]:this[t]=r}}function bp(t){return t.trim().split(/^|\s+/)}function wp(t){return t.classList||new mp(t)}function mp(t){this._node=t,this._names=bp(t.getAttribute("class")||"")}function yp(t,n){for(var r=wp(t),e=-1,i=n.length;++e<i;)r.add(n[e])}function gp(t,n){for(var r=wp(t),e=-1,i=n.length;++e<i;)r.remove(n[e])}function Mp(t){return function(){yp(this,t)}}function Np(t){return function(){gp(this,t)}}function Lp(t,n){return function(){(n.apply(this,arguments)?yp:gp)(this,t)}}function kp(){this.textContent=""}function Ep(t){return function(){this.textContent=t}}function Ap(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Tp(){this.innerHTML=""}function xp(t){return function(){this.innerHTML=t}}function Sp(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Op(){this.nextSibling&&this.parentNode.appendChild(this)}function Ip(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Rp(){return null}function Fp(){var t=this.parentNode;t&&t.removeChild(this)}function Cp(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Dp(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}Jv.prototype={constructor:Jv,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},mp.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Hp={},jp=null;function Up(t,n,r){return t=_p(t,n,r),function(n){var r=n.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||t.call(this,n)}}function _p(t,n,r){return function(e){var i=jp;jp=e;try{t.call(this,this.__data__,n,r)}finally{jp=i}}}function Pp(t){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}}))}function Wp(t){return function(){var n=this.__on;if(n){for(var r,e=0,i=-1,u=n.length;e<u;++e)r=n[e],t.type&&r.type!==t.type||r.name!==t.name?n[++i]=r:this.removeEventListener(r.type,r.listener,r.capture);++i?n.length=i:delete this.__on}}}function Bp(t,n,r){var e=Hp.hasOwnProperty(t.type)?Up:_p;return function(i,u,o){var a,s=this.__on,c=e(n,u,o);if(s)for(var f=0,h=s.length;f<h;++f)if((a=s[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=r),void(a.value=n);this.addEventListener(t.type,c,r),a={type:t.type,name:t.name,value:n,listener:c,capture:r},s?s.push(a):this.__on=[a]}}function $p(t,n,r,e){var i=jp;t.sourceEvent=jp,jp=t;try{return n.apply(r,e)}finally{jp=i}}function Yp(t,n,r){var e=sp(t),i=e.CustomEvent;"function"==typeof i?i=new i(n,r):(i=e.document.createEvent("Event"),r?(i.initEvent(n,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function qp(t,n){return function(){return Yp(this,t,n)}}function zp(t,n){return function(){return Yp(this,t,n.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Hp={mouseenter:"mouseover",mouseleave:"mouseout"}));var Vp=[null];function Gp(t,n){this._groups=t,this._parents=n}function Zp(t){return"string"==typeof t?new Gp([[document.querySelector(t)]],[document.documentElement]):new Gp([[t]],Vp)}function Xp(){for(var t,n=jp;t=n.sourceEvent;)n=t;return n}function Kp(t,n){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var e=r.createSVGPoint();return e.x=n.clientX,e.y=n.clientY,[(e=e.matrixTransform(t.getScreenCTM().inverse())).x,e.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function Jp(t){var n=Xp();return n.changedTouches&&(n=n.changedTouches[0]),Kp(t,n)}function Qp(t,n,r){arguments.length<3&&(r=n,n=Xp().changedTouches);for(var e,i=0,u=n?n.length:0;i<u;++i)if((e=n[i]).identifier===r)return Kp(t,e);return null}function tb(){jp.stopImmediatePropagation()}function nb(){jp.preventDefault(),jp.stopImmediatePropagation()}function rb(t){var n=t.document.documentElement,r=Zp(t).on("dragstart.drag",nb,!0);"onselectstart"in n?r.on("selectstart.drag",nb,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function eb(t,n){var r=t.document.documentElement,e=Zp(t).on("dragstart.drag",null);n&&(e.on("click.drag",nb,!0),setTimeout((function(){e.on("click.drag",null)}),0)),"onselectstart"in r?e.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function ib(t){return function(){return t}}function ub(t,n,r,e,i,u,o,a,s,c){this.target=t,this.type=n,this.subject=r,this.identifier=e,this.active=i,this.x=u,this.y=o,this.dx=a,this.dy=s,this._=c}function ob(){return!jp.button}function ab(){return this.parentNode}function sb(t){return null==t?{x:jp.x,y:jp.y}:t}function cb(){return"ontouchstart"in this}Gp.prototype=function(){return new Gp([[document.documentElement]],Vp)}.prototype={constructor:Gp,select:function(t){"function"!=typeof t&&(t=Zv(t));for(var n=this._groups,r=n.length,e=new Array(r),i=0;i<r;++i)for(var u,o,a=n[i],s=a.length,c=e[i]=new Array(s),f=0;f<s;++f)(u=a[f])&&(o=t.call(u,u.__data__,f,a))&&("__data__"in u&&(o.__data__=u.__data__),c[f]=o);return new Gp(e,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?Xv:function(){return this.querySelectorAll(t)}}(t));for(var n=this._groups,r=n.length,e=[],i=[],u=0;u<r;++u)for(var o,a=n[u],s=a.length,c=0;c<s;++c)(o=a[c])&&(e.push(t.call(o,o.__data__,c,a)),i.push(o));return new Gp(e,i)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var n=this._groups,r=n.length,e=new Array(r),i=0;i<r;++i)for(var u,o=n[i],a=o.length,s=e[i]=[],c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&s.push(u);return new Gp(e,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var r=n?tp:Qv,e=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var u=i.length,o=new Array(u),a=new Array(u),s=new Array(u),c=0;c<u;++c){var f=e[c],h=i[c],l=h.length,d=t.call(f,f&&f.__data__,c,e),v=d.length,p=a[c]=new Array(v),b=o[c]=new Array(v);r(f,h,p,b,s[c]=new Array(l),d,n);for(var w,m,y=0,g=0;y<v;++y)if(w=p[y]){for(y>=g&&(g=y+1);!(m=b[g])&&++g<v;);w._next=m||null}}return(o=new Gp(o,e))._enter=a,o._exit=s,o},enter:function(){return new Gp(this._enter||this._groups.map(Kv),this._parents)},exit:function(){return new Gp(this._exit||this._groups.map(Kv),this._parents)},join:function(t,n,r){var e=this.enter(),i=this,u=this.exit();return e="function"==typeof t?t(e):e.append(t+""),null!=n&&(i=n(i)),null==r?u.remove():r(u),e&&i?e.merge(i).order():i},merge:function(t){for(var n=this._groups,r=t._groups,e=n.length,i=Math.min(e,r.length),u=new Array(e),o=0;o<i;++o)for(var a,s=n[o],c=r[o],f=s.length,h=u[o]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;o<e;++o)u[o]=n[o];return new Gp(u,this._parents)},order:function(){for(var t=this._groups,n=-1,r=t.length;++n<r;)for(var e,i=t[n],u=i.length-1,o=i[u];--u>=0;)(e=i[u])&&(o&&4^e.compareDocumentPosition(o)&&o.parentNode.insertBefore(e,o),o=e);return this},sort:function(t){function n(n,r){return n&&r?t(n.__data__,r.__data__):!n-!r}t||(t=np);for(var r=this._groups,e=r.length,i=new Array(e),u=0;u<e;++u){for(var o,a=r[u],s=a.length,c=i[u]=new Array(s),f=0;f<s;++f)(o=a[f])&&(c[f]=o);c.sort(n)}return new Gp(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var e=t[n],i=0,u=e.length;i<u;++i){var o=e[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,r=0,e=n.length;r<e;++r)for(var i,u=n[r],o=0,a=u.length;o<a;++o)(i=u[o])&&t.call(i,i.__data__,o,u);return this},attr:function(t,n){var r=Yv(t);if(arguments.length<2){var e=this.node();return r.local?e.getAttributeNS(r.space,r.local):e.getAttribute(r)}return this.each((null==n?r.local?ep:rp:"function"==typeof n?r.local?ap:op:r.local?up:ip)(r,n))},style:function(t,n,r){return arguments.length>1?this.each((null==n?cp:"function"==typeof n?hp:fp)(t,n,null==r?"":r)):lp(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?dp:"function"==typeof n?pp:vp)(t,n)):this.node()[t]},classed:function(t,n){var r=bp(t+"");if(arguments.length<2){for(var e=wp(this.node()),i=-1,u=r.length;++i<u;)if(!e.contains(r[i]))return!1;return!0}return this.each(("function"==typeof n?Lp:n?Mp:Np)(r,n))},text:function(t){return arguments.length?this.each(null==t?kp:("function"==typeof t?Ap:Ep)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Tp:("function"==typeof t?Sp:xp)(t)):this.node().innerHTML},raise:function(){return this.each(Op)},lower:function(){return this.each(Ip)},append:function(t){var n="function"==typeof t?t:Vv(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var r="function"==typeof t?t:Vv(t),e=null==n?Rp:"function"==typeof n?n:Zv(n);return this.select((function(){return this.insertBefore(r.apply(this,arguments),e.apply(this,arguments)||null)}))},remove:function(){return this.each(Fp)},clone:function(t){return this.select(t?Dp:Cp)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,r){var e,i,u=Pp(t+""),o=u.length;if(!(arguments.length<2)){for(a=n?Bp:Wp,null==r&&(r=!1),e=0;e<o;++e)this.each(a(u[e],n,r));return this}var a=this.node().__on;if(a)for(var s,c=0,f=a.length;c<f;++c)for(e=0,s=a[c];e<o;++e)if((i=u[e]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?zp:qp)(t,n))}},ub.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var fb={},hb={};function lb(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+"]"})).join(",")+"}")}function db(t){var n=new RegExp('["'+t+"\n\r]"),r=t.charCodeAt(0);function e(t,n){var e,i=[],u=t.length,o=0,a=0,s=u<=0,c=!1;function f(){if(s)return hb;if(c)return c=!1,fb;var n,e,i=o;if(34===t.charCodeAt(i)){for(;o++<u&&34!==t.charCodeAt(o)||34===t.charCodeAt(++o););return(n=o)>=u?s=!0:10===(e=t.charCodeAt(o++))?c=!0:13===e&&(c=!0,10===t.charCodeAt(o)&&++o),t.slice(i+1,n-1).replace(/""/g,'"')}for(;o<u;){if(10===(e=t.charCodeAt(n=o++)))c=!0;else if(13===e)c=!0,10===t.charCodeAt(o)&&++o;else if(e!==r)continue;return t.slice(i,n)}return s=!0,t.slice(i,u)}for(10===t.charCodeAt(u-1)&&--u,13===t.charCodeAt(u-1)&&--u;(e=f())!==hb;){for(var h=[];e!==fb&&e!==hb;)h.push(e),e=f();n&&null==(h=n(h,a++))||i.push(h)}return i}function i(n){return n.map(u).join(t)}function u(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var r,i,u=e(t,(function(t,e){if(r)return r(t,e-1);i=t,r=n?function(t,n){var r=lb(t);return function(e,i){return n(r(e),i,t)}}(t,n):lb(t)}));return u.columns=i||[],u},parseRows:e,format:function(n,r){return null==r&&(r=function(t){var n=Object.create(null),r=[];return t.forEach((function(t){for(var e in t)e in n||r.push(n[e]=e)})),r}(n)),[r.map(u).join(t)].concat(n.map((function(n){return r.map((function(t){return u(n[t])})).join(t)}))).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}}var vb=db(","),pb=vb.parse,bb=vb.parseRows,wb=vb.format,mb=vb.formatRows,yb=db("\t"),gb=yb.parse,Mb=yb.parseRows,Nb=yb.format,Lb=yb.formatRows;function kb(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Eb(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ab=function t(n){function r(t){return Math.pow(t,n)}return n=+n,r.exponent=t,r}(3),Tb=function t(n){function r(t){return 1-Math.pow(1-t,n)}return n=+n,r.exponent=t,r}(3),xb=function t(n){function r(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,r.exponent=t,r}(3),Sb=Math.PI,Ob=Sb/2;function Ib(t){return(1-Math.cos(Sb*t))/2}function Rb(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Fb(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Cb=7.5625;function Db(t){return(t=+t)<4/11?Cb*t*t:t<8/11?Cb*(t-=6/11)*t+.75:t<10/11?Cb*(t-=9/11)*t+.9375:Cb*(t-=21/22)*t+63/64}var Hb=function t(n){function r(t){return t*t*((n+1)*t-n)}return n=+n,r.overshoot=t,r}(1.70158),jb=function t(n){function r(t){return--t*t*((n+1)*t+n)+1}return n=+n,r.overshoot=t,r}(1.70158),Ub=function t(n){function r(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,r.overshoot=t,r}(1.70158),_b=2*Math.PI,Pb=function t(n,r){var e=Math.asin(1/(n=Math.max(1,n)))*(r/=_b);function i(t){return n*Math.pow(2,10*--t)*Math.sin((e-t)/r)}return i.amplitude=function(n){return t(n,r*_b)},i.period=function(r){return t(n,r)},i}(1,.3),Wb=function t(n,r){var e=Math.asin(1/(n=Math.max(1,n)))*(r/=_b);function i(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+e)/r)}return i.amplitude=function(n){return t(n,r*_b)},i.period=function(r){return t(n,r)},i}(1,.3),Bb=function t(n,r){var e=Math.asin(1/(n=Math.max(1,n)))*(r/=_b);function i(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((e-t)/r):2-n*Math.pow(2,-10*t)*Math.sin((e+t)/r))/2}return i.amplitude=function(n){return t(n,r*_b)},i.period=function(r){return t(n,r)},i}(1,.3);function $b(t){return function(){return t}}function Yb(){return 1e-6*(Math.random()-.5)}function qb(t,n,r,e){if(isNaN(n)||isNaN(r))return t;var i,u,o,a,s,c,f,h,l,d=t._root,v={data:e},p=t._x0,b=t._y0,w=t._x1,m=t._y1;if(!d)return t._root=v,t;for(;d.length;)if((c=n>=(u=(p+w)/2))?p=u:w=u,(f=r>=(o=(b+m)/2))?b=o:m=o,i=d,!(d=d[h=f<<1|c]))return i[h]=v,t;if(a=+t._x.call(null,d.data),s=+t._y.call(null,d.data),n===a&&r===s)return v.next=d,i?i[h]=v:t._root=v,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=n>=(u=(p+w)/2))?p=u:w=u,(f=r>=(o=(b+m)/2))?b=o:m=o}while((h=f<<1|c)==(l=(s>=o)<<1|a>=u));return i[l]=d,i[h]=v,t}function zb(t,n,r,e,i){this.node=t,this.x0=n,this.y0=r,this.x1=e,this.y1=i}function Vb(t){return t[0]}function Gb(t){return t[1]}function Zb(t,n,r){var e=new Xb(null==n?Vb:n,null==r?Gb:r,NaN,NaN,NaN,NaN);return null==t?e:e.addAll(t)}function Xb(t,n,r,e,i,u){this._x=t,this._y=n,this._x0=r,this._y0=e,this._x1=i,this._y1=u,this._root=void 0}function Kb(t){for(var n={data:t.data},r=n;t=t.next;)r=r.next={data:t.data};return n}var Jb=Zb.prototype=Xb.prototype;function Qb(t){return t.x+t.vx}function tw(t){return t.y+t.vy}function nw(t){return t.index}function rw(t,n){var r=t.get(n);if(!r)throw new Error("missing: "+n);return r}function ew(t){return t.x}function iw(t){return t.y}Jb.copy=function(){var t,n,r=new Xb(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root;if(!e)return r;if(!e.length)return r._root=Kb(e),r;for(t=[{source:e,target:r._root=new Array(4)}];e=t.pop();)for(var i=0;i<4;++i)(n=e.source[i])&&(n.length?t.push({source:n,target:e.target[i]=new Array(4)}):e.target[i]=Kb(n));return r},Jb.add=function(t){var n=+this._x.call(null,t),r=+this._y.call(null,t);return qb(this.cover(n,r),n,r,t)},Jb.addAll=function(t){var n,r,e,i,u=t.length,o=new Array(u),a=new Array(u),s=1/0,c=1/0,f=-1/0,h=-1/0;for(r=0;r<u;++r)isNaN(e=+this._x.call(null,n=t[r]))||isNaN(i=+this._y.call(null,n))||(o[r]=e,a[r]=i,e<s&&(s=e),e>f&&(f=e),i<c&&(c=i),i>h&&(h=i));if(s>f||c>h)return this;for(this.cover(s,c).cover(f,h),r=0;r<u;++r)qb(this,o[r],a[r],t[r]);return this},Jb.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,e=this._y0,i=this._x1,u=this._y1;if(isNaN(r))i=(r=Math.floor(t))+1,u=(e=Math.floor(n))+1;else{for(var o,a,s=i-r,c=this._root;r>t||t>=i||e>n||n>=u;)switch(a=(n<e)<<1|t<r,(o=new Array(4))[a]=c,c=o,s*=2,a){case 0:i=r+s,u=e+s;break;case 1:r=i-s,u=e+s;break;case 2:i=r+s,e=u-s;break;case 3:r=i-s,e=u-s}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=e,this._x1=i,this._y1=u,this},Jb.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},Jb.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Jb.find=function(t,n,r){var e,i,u,o,a,s,c,f=this._x0,h=this._y0,l=this._x1,d=this._y1,v=[],p=this._root;for(p&&v.push(new zb(p,f,h,l,d)),null==r?r=1/0:(f=t-r,h=n-r,l=t+r,d=n+r,r*=r);s=v.pop();)if(!(!(p=s.node)||(i=s.x0)>l||(u=s.y0)>d||(o=s.x1)<f||(a=s.y1)<h))if(p.length){var b=(i+o)/2,w=(u+a)/2;v.push(new zb(p[3],b,w,o,a),new zb(p[2],i,w,b,a),new zb(p[1],b,u,o,w),new zb(p[0],i,u,b,w)),(c=(n>=w)<<1|t>=b)&&(s=v[v.length-1],v[v.length-1]=v[v.length-1-c],v[v.length-1-c]=s)}else{var m=t-+this._x.call(null,p.data),y=n-+this._y.call(null,p.data),g=m*m+y*y;if(g<r){var M=Math.sqrt(r=g);f=t-M,h=n-M,l=t+M,d=n+M,e=p.data}}return e},Jb.remove=function(t){if(isNaN(u=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var n,r,e,i,u,o,a,s,c,f,h,l,d=this._root,v=this._x0,p=this._y0,b=this._x1,w=this._y1;if(!d)return this;if(d.length)for(;;){if((c=u>=(a=(v+b)/2))?v=a:b=a,(f=o>=(s=(p+w)/2))?p=s:w=s,n=d,!(d=d[h=f<<1|c]))return this;if(!d.length)break;(n[h+1&3]||n[h+2&3]||n[h+3&3])&&(r=n,l=h)}for(;d.data!==t;)if(e=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,e?(i?e.next=i:delete e.next,this):n?(i?n[h]=i:delete n[h],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(r?r[l]=d:this._root=d),this):(this._root=i,this)},Jb.removeAll=function(t){for(var n=0,r=t.length;n<r;++n)this.remove(t[n]);return this},Jb.root=function(){return this._root},Jb.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},Jb.visit=function(t){var n,r,e,i,u,o,a=[],s=this._root;for(s&&a.push(new zb(s,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(s=n.node,e=n.x0,i=n.y0,u=n.x1,o=n.y1)&&s.length){var c=(e+u)/2,f=(i+o)/2;(r=s[3])&&a.push(new zb(r,c,f,u,o)),(r=s[2])&&a.push(new zb(r,e,f,c,o)),(r=s[1])&&a.push(new zb(r,c,i,u,f)),(r=s[0])&&a.push(new zb(r,e,i,c,f))}return this},Jb.visitAfter=function(t){var n,r=[],e=[];for(this._root&&r.push(new zb(this._root,this._x0,this._y0,this._x1,this._y1));n=r.pop();){var i=n.node;if(i.length){var u,o=n.x0,a=n.y0,s=n.x1,c=n.y1,f=(o+s)/2,h=(a+c)/2;(u=i[0])&&r.push(new zb(u,o,a,f,h)),(u=i[1])&&r.push(new zb(u,f,a,s,h)),(u=i[2])&&r.push(new zb(u,o,h,f,c)),(u=i[3])&&r.push(new zb(u,f,h,s,c))}e.push(n)}for(;n=e.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Jb.x=function(t){return arguments.length?(this._x=t,this):this._x},Jb.y=function(t){return arguments.length?(this._y=t,this):this._y};var uw,ow=Math.PI*(3-Math.sqrt(5));function aw(t,n){if((r=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var r,e=t.slice(0,r);return[e.length>1?e[0]+e.slice(2):e,+t.slice(r+1)]}function sw(t){return(t=aw(Math.abs(t)))?t[1]:NaN}function cw(t,n){var r=aw(t,n);if(!r)return t+"";var e=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+e:e.length>i+1?e.slice(0,i+1)+"."+e.slice(i+1):e+new Array(i-e.length+2).join("0")}var fw={"":function(t,n){t:for(var r,e=(t=t.toPrecision(n)).length,i=1,u=-1;i<e;++i)switch(t[i]){case".":u=r=i;break;case"0":0===u&&(u=i),r=i;break;case"e":break t;default:u>0&&(u=0)}return u>0?t.slice(0,u)+t.slice(r+1):t},"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return cw(100*t,n)},r:cw,s:function(t,n){var r=aw(t,n);if(!r)return t+"";var e=r[0],i=r[1],u=i-(uw=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=e.length;return u===o?e:u>o?e+new Array(u-o+1).join("0"):u>0?e.slice(0,u)+"."+e.slice(u):"0."+new Array(1-u).join("0")+aw(t,Math.max(0,n+u-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},hw=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function lw(t){return new dw(t)}function dw(t){if(!(n=hw.exec(t)))throw new Error("invalid format: "+t);var n,r=n[1]||" ",e=n[2]||">",i=n[3]||"-",u=n[4]||"",o=!!n[5],a=n[6]&&+n[6],s=!!n[7],c=n[8]&&+n[8].slice(1),f=n[9]||"";"n"===f?(s=!0,f="g"):fw[f]||(f=""),(o||"0"===r&&"="===e)&&(o=!0,r="0",e="="),this.fill=r,this.align=e,this.sign=i,this.symbol=u,this.zero=o,this.width=a,this.comma=s,this.precision=c,this.type=f}function vw(t){return t}lw.prototype=dw.prototype,dw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var pw,bw,ww,mw=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function yw(t){var n,r,e=t.grouping&&t.thousands?(n=t.grouping,r=t.thousands,function(t,e){for(var i=t.length,u=[],o=0,a=n[0],s=0;i>0&&a>0&&(s+a+1>e&&(a=Math.max(1,e-s)),u.push(t.substring(i-=a,i+a)),!((s+=a+1)>e));)a=n[o=(o+1)%n.length];return u.reverse().join(r)}):vw,i=t.currency,u=t.decimal,o=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(t.numerals):vw,a=t.percent||"%";function s(t){var n=(t=lw(t)).fill,r=t.align,s=t.sign,c=t.symbol,f=t.zero,h=t.width,l=t.comma,d=t.precision,v=t.type,p="$"===c?i[0]:"#"===c&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===c?i[1]:/[%p]/.test(v)?a:"",w=fw[v],m=!v||/[defgprs%]/.test(v);function y(t){var i,a,c,y=p,g=b;if("c"===v)g=w(t)+g,t="";else{var M=(t=+t)<0;if(t=w(Math.abs(t),d),M&&0==+t&&(M=!1),y=(M?"("===s?s:"-":"-"===s||"("===s?"":s)+y,g=("s"===v?mw[8+uw/3]:"")+g+(M&&"("===s?")":""),m)for(i=-1,a=t.length;++i<a;)if(48>(c=t.charCodeAt(i))||c>57){g=(46===c?u+t.slice(i+1):t.slice(i))+g,t=t.slice(0,i);break}}l&&!f&&(t=e(t,1/0));var N=y.length+t.length+g.length,L=N<h?new Array(h-N+1).join(n):"";switch(l&&f&&(t=e(L+t,L.length?h-g.length:1/0),L=""),r){case"<":t=y+t+g+L;break;case"=":t=y+L+t+g;break;case"^":t=L.slice(0,N=L.length>>1)+y+t+g+L.slice(N);break;default:t=L+y+t+g}return o(t)}return d=null==d?v?6:12:/[gprs]/.test(v)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),y.toString=function(){return t+""},y}return{format:s,formatPrefix:function(t,n){var r=s(((t=lw(t)).type="f",t)),e=3*Math.max(-8,Math.min(8,Math.floor(sw(n)/3))),i=Math.pow(10,-e),u=mw[8+e/3];return function(t){return r(i*t)+u}}}}function gw(t){return pw=yw(t),bw=pw.format,ww=pw.formatPrefix,pw}function Mw(){return new Nw}function Nw(){this.reset()}gw({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Nw.prototype={constructor:Nw,reset:function(){this.s=this.t=0},add:function(t){kw(Lw,t,this.t),kw(this,Lw.s,this.s),this.s?this.t+=Lw.t:this.s=Lw.t},valueOf:function(){return this.s}};var Lw=new Nw;function kw(t,n,r){var e=t.s=n+r,i=e-n;t.t=n-(e-i)+(r-i)}var Ew=Math.PI,Aw=Ew/2,Tw=Ew/4,xw=2*Ew,Sw=180/Ew,Ow=Ew/180,Iw=Math.abs,Rw=Math.atan,Fw=Math.atan2,Cw=Math.cos,Dw=Math.ceil,Hw=Math.exp,jw=Math.log,Uw=Math.pow,_w=Math.sin,Pw=Math.sign||function(t){return t>0?1:t<0?-1:0},Ww=Math.sqrt,Bw=Math.tan;function $w(t){return t>1?0:t<-1?Ew:Math.acos(t)}function Yw(t){return t>1?Aw:t<-1?-Aw:Math.asin(t)}function qw(t){return(t=_w(t/2))*t}function zw(){}function Vw(t,n){t&&Zw.hasOwnProperty(t.type)&&Zw[t.type](t,n)}var Gw={Feature:function(t,n){Vw(t.geometry,n)},FeatureCollection:function(t,n){for(var r=t.features,e=-1,i=r.length;++e<i;)Vw(r[e].geometry,n)}},Zw={Sphere:function(t,n){n.sphere()},Point:function(t,n){n.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,n){for(var r=t.coordinates,e=-1,i=r.length;++e<i;)n.point((t=r[e])[0],t[1],t[2])},LineString:function(t,n){Xw(t.coordinates,n,0)},MultiLineString:function(t,n){for(var r=t.coordinates,e=-1,i=r.length;++e<i;)Xw(r[e],n,0)},Polygon:function(t,n){Kw(t.coordinates,n)},MultiPolygon:function(t,n){for(var r=t.coordinates,e=-1,i=r.length;++e<i;)Kw(r[e],n)},GeometryCollection:function(t,n){for(var r=t.geometries,e=-1,i=r.length;++e<i;)Vw(r[e],n)}};function Xw(t,n,r){var e,i=-1,u=t.length-r;for(n.lineStart();++i<u;)n.point((e=t[i])[0],e[1],e[2]);n.lineEnd()}function Kw(t,n){var r=-1,e=t.length;for(n.polygonStart();++r<e;)Xw(t[r],n,1);n.polygonEnd()}function Jw(t,n){t&&Gw.hasOwnProperty(t.type)?Gw[t.type](t,n):Vw(t,n)}var Qw,tm,nm,rm,em,im=Mw(),um=Mw(),om={point:zw,lineStart:zw,lineEnd:zw,polygonStart:function(){im.reset(),om.lineStart=am,om.lineEnd=sm},polygonEnd:function(){var t=+im;um.add(t<0?xw+t:t),this.lineStart=this.lineEnd=this.point=zw},sphere:function(){um.add(xw)}};function am(){om.point=cm}function sm(){fm(Qw,tm)}function cm(t,n){om.point=fm,Qw=t,tm=n,nm=t*=Ow,rm=Cw(n=(n*=Ow)/2+Tw),em=_w(n)}function fm(t,n){var r=(t*=Ow)-nm,e=r>=0?1:-1,i=e*r,u=Cw(n=(n*=Ow)/2+Tw),o=_w(n),a=em*o,s=rm*u+a*Cw(i),c=a*e*_w(i);im.add(Fw(c,s)),nm=t,rm=u,em=o}function hm(t){return[Fw(t[1],t[0]),Yw(t[2])]}function lm(t){var n=t[0],r=t[1],e=Cw(r);return[e*Cw(n),e*_w(n),_w(r)]}function dm(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function vm(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function pm(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function bm(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function wm(t){var n=Ww(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var mm,ym,gm,Mm,Nm,Lm,km,Em,Am,Tm,xm,Sm,Om,Im,Rm,Fm,Cm,Dm,Hm,jm,Um,_m,Pm,Wm,Bm,$m,Ym=Mw(),qm={point:zm,lineStart:Gm,lineEnd:Zm,polygonStart:function(){qm.point=Xm,qm.lineStart=Km,qm.lineEnd=Jm,Ym.reset(),om.polygonStart()},polygonEnd:function(){om.polygonEnd(),qm.point=zm,qm.lineStart=Gm,qm.lineEnd=Zm,im<0?(mm=-(gm=180),ym=-(Mm=90)):Ym>1e-6?Mm=90:Ym<-1e-6&&(ym=-90),Tm[0]=mm,Tm[1]=gm}};function zm(t,n){Am.push(Tm=[mm=t,gm=t]),n<ym&&(ym=n),n>Mm&&(Mm=n)}function Vm(t,n){var r=lm([t*Ow,n*Ow]);if(Em){var e=vm(Em,r),i=vm([e[1],-e[0],0],e);wm(i),i=hm(i);var u,o=t-Nm,a=o>0?1:-1,s=i[0]*Sw*a,c=Iw(o)>180;c^(a*Nm<s&&s<a*t)?(u=i[1]*Sw)>Mm&&(Mm=u):c^(a*Nm<(s=(s+360)%360-180)&&s<a*t)?(u=-i[1]*Sw)<ym&&(ym=u):(n<ym&&(ym=n),n>Mm&&(Mm=n)),c?t<Nm?Qm(mm,t)>Qm(mm,gm)&&(gm=t):Qm(t,gm)>Qm(mm,gm)&&(mm=t):gm>=mm?(t<mm&&(mm=t),t>gm&&(gm=t)):t>Nm?Qm(mm,t)>Qm(mm,gm)&&(gm=t):Qm(t,gm)>Qm(mm,gm)&&(mm=t)}else Am.push(Tm=[mm=t,gm=t]);n<ym&&(ym=n),n>Mm&&(Mm=n),Em=r,Nm=t}function Gm(){qm.point=Vm}function Zm(){Tm[0]=mm,Tm[1]=gm,qm.point=zm,Em=null}function Xm(t,n){if(Em){var r=t-Nm;Ym.add(Iw(r)>180?r+(r>0?360:-360):r)}else Lm=t,km=n;om.point(t,n),Vm(t,n)}function Km(){om.lineStart()}function Jm(){Xm(Lm,km),om.lineEnd(),Iw(Ym)>1e-6&&(mm=-(gm=180)),Tm[0]=mm,Tm[1]=gm,Em=null}function Qm(t,n){return(n-=t)<0?n+360:n}function ty(t,n){return t[0]-n[0]}function ny(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var ry={sphere:zw,point:ey,lineStart:uy,lineEnd:sy,polygonStart:function(){ry.lineStart=cy,ry.lineEnd=fy},polygonEnd:function(){ry.lineStart=uy,ry.lineEnd=sy}};function ey(t,n){t*=Ow;var r=Cw(n*=Ow);iy(r*Cw(t),r*_w(t),_w(n))}function iy(t,n,r){++xm,Om+=(t-Om)/xm,Im+=(n-Im)/xm,Rm+=(r-Rm)/xm}function uy(){ry.point=oy}function oy(t,n){t*=Ow;var r=Cw(n*=Ow);Wm=r*Cw(t),Bm=r*_w(t),$m=_w(n),ry.point=ay,iy(Wm,Bm,$m)}function ay(t,n){t*=Ow;var r=Cw(n*=Ow),e=r*Cw(t),i=r*_w(t),u=_w(n),o=Fw(Ww((o=Bm*u-$m*i)*o+(o=$m*e-Wm*u)*o+(o=Wm*i-Bm*e)*o),Wm*e+Bm*i+$m*u);Sm+=o,Fm+=o*(Wm+(Wm=e)),Cm+=o*(Bm+(Bm=i)),Dm+=o*($m+($m=u)),iy(Wm,Bm,$m)}function sy(){ry.point=ey}function cy(){ry.point=hy}function fy(){ly(_m,Pm),ry.point=ey}function hy(t,n){_m=t,Pm=n,t*=Ow,n*=Ow,ry.point=ly;var r=Cw(n);Wm=r*Cw(t),Bm=r*_w(t),$m=_w(n),iy(Wm,Bm,$m)}function ly(t,n){t*=Ow;var r=Cw(n*=Ow),e=r*Cw(t),i=r*_w(t),u=_w(n),o=Bm*u-$m*i,a=$m*e-Wm*u,s=Wm*i-Bm*e,c=Ww(o*o+a*a+s*s),f=Yw(c),h=c&&-f/c;Hm+=h*o,jm+=h*a,Um+=h*s,Sm+=f,Fm+=f*(Wm+(Wm=e)),Cm+=f*(Bm+(Bm=i)),Dm+=f*($m+($m=u)),iy(Wm,Bm,$m)}function dy(t){return function(){return t}}function vy(t,n){function r(r,e){return r=t(r,e),n(r[0],r[1])}return t.invert&&n.invert&&(r.invert=function(r,e){return(r=n.invert(r,e))&&t.invert(r[0],r[1])}),r}function py(t,n){return[t>Ew?t-xw:t<-Ew?t+xw:t,n]}function by(t,n,r){return(t%=xw)?n||r?vy(my(t),yy(n,r)):my(t):n||r?yy(n,r):py}function wy(t){return function(n,r){return[(n+=t)>Ew?n-xw:n<-Ew?n+xw:n,r]}}function my(t){var n=wy(t);return n.invert=wy(-t),n}function yy(t,n){var r=Cw(t),e=_w(t),i=Cw(n),u=_w(n);function o(t,n){var o=Cw(n),a=Cw(t)*o,s=_w(t)*o,c=_w(n),f=c*r+a*e;return[Fw(s*i-f*u,a*r-c*e),Yw(f*i+s*u)]}return o.invert=function(t,n){var o=Cw(n),a=Cw(t)*o,s=_w(t)*o,c=_w(n),f=c*i-s*u;return[Fw(s*i+c*u,a*r+f*e),Yw(f*r-a*e)]},o}function gy(t){function n(n){return(n=t(n[0]*Ow,n[1]*Ow))[0]*=Sw,n[1]*=Sw,n}return t=by(t[0]*Ow,t[1]*Ow,t.length>2?t[2]*Ow:0),n.invert=function(n){return(n=t.invert(n[0]*Ow,n[1]*Ow))[0]*=Sw,n[1]*=Sw,n},n}function My(t,n,r,e,i,u){if(r){var o=Cw(n),a=_w(n),s=e*r;null==i?(i=n+e*xw,u=n-s/2):(i=Ny(o,i),u=Ny(o,u),(e>0?i<u:i>u)&&(i+=e*xw));for(var c,f=i;e>0?f>u:f<u;f-=s)c=hm([o,-a*Cw(f),-a*_w(f)]),t.point(c[0],c[1])}}function Ny(t,n){(n=lm(n))[0]-=t,wm(n);var r=$w(-n[1]);return((-n[2]<0?-r:r)+xw-1e-6)%xw}function Ly(){var t,n=[];return{point:function(n,r){t.push([n,r])},lineStart:function(){n.push(t=[])},lineEnd:zw,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function ky(t,n){return Iw(t[0]-n[0])<1e-6&&Iw(t[1]-n[1])<1e-6}function Ey(t,n,r,e){this.x=t,this.z=n,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function Ay(t,n,r,e,i){var u,o,a=[],s=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,r,e=t[0],o=t[n];if(ky(e,o)){for(i.lineStart(),u=0;u<n;++u)i.point((e=t[u])[0],e[1]);i.lineEnd()}else a.push(r=new Ey(e,t,null,!0)),s.push(r.o=new Ey(e,null,r,!1)),a.push(r=new Ey(o,t,null,!1)),s.push(r.o=new Ey(o,null,r,!0))}})),a.length){for(s.sort(n),Ty(a),Ty(s),u=0,o=s.length;u<o;++u)s[u].e=r=!r;for(var c,f,h=a[0];;){for(var l=h,d=!0;l.v;)if((l=l.n)===h)return;c=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(d)for(u=0,o=c.length;u<o;++u)i.point((f=c[u])[0],f[1]);else e(l.x,l.n.x,1,i);l=l.n}else{if(d)for(u=(c=l.p.z).length-1;u>=0;--u)i.point((f=c[u])[0],f[1]);else e(l.x,l.p.x,-1,i);l=l.p}c=(l=l.o).z,d=!d}while(!l.v);i.lineEnd()}}}function Ty(t){if(n=t.length){for(var n,r,e=0,i=t[0];++e<n;)i.n=r=t[e],r.p=i,i=r;i.n=r=t[0],r.p=i}}py.invert=py;var xy=Mw();function Sy(t,n){var r=n[0],e=n[1],i=[_w(r),-Cw(r),0],u=0,o=0;xy.reset();for(var a=0,s=t.length;a<s;++a)if(f=(c=t[a]).length)for(var c,f,h=c[f-1],l=h[0],d=h[1]/2+Tw,v=_w(d),p=Cw(d),b=0;b<f;++b,l=m,v=g,p=M,h=w){var w=c[b],m=w[0],y=w[1]/2+Tw,g=_w(y),M=Cw(y),N=m-l,L=N>=0?1:-1,k=L*N,E=k>Ew,A=v*g;if(xy.add(Fw(A*L*_w(k),p*M+A*Cw(k))),u+=E?N+L*xw:N,E^l>=r^m>=r){var T=vm(lm(h),lm(w));wm(T);var x=vm(i,T);wm(x);var S=(E^N>=0?-1:1)*Yw(x[2]);(e>S||e===S&&(T[0]||T[1]))&&(o+=E^N>=0?1:-1)}}return(u<-1e-6||u<1e-6&&xy<-1e-6)^1&o}function Oy(t,n,r,e){return function(i){var u,o,a,s=n(i),c=Ly(),f=n(c),h=!1,l={point:d,lineStart:p,lineEnd:b,polygonStart:function(){l.point=w,l.lineStart=m,l.lineEnd=y,o=[],u=[]},polygonEnd:function(){l.point=d,l.lineStart=p,l.lineEnd=b,o=Ma(o);var t=Sy(u,e);o.length?(h||(i.polygonStart(),h=!0),Ay(o,Ry,t,r,i)):t&&(h||(i.polygonStart(),h=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),o=u=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,r){t(n,r)&&i.point(n,r)}function v(t,n){s.point(t,n)}function p(){l.point=v,s.lineStart()}function b(){l.point=d,s.lineEnd()}function w(t,n){a.push([t,n]),f.point(t,n)}function m(){f.lineStart(),a=[]}function y(){w(a[0][0],a[0][1]),f.lineEnd();var t,n,r,e,s=f.clean(),l=c.result(),d=l.length;if(a.pop(),u.push(a),a=null,d)if(1&s){if((n=(r=l[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),t=0;t<n;++t)i.point((e=r[t])[0],e[1]);i.lineEnd()}}else d>1&&2&s&&l.push(l.pop().concat(l.shift())),o.push(l.filter(Iy))}return l}}function Iy(t){return t.length>1}function Ry(t,n){return((t=t.x)[0]<0?t[1]-Aw-1e-6:Aw-t[1])-((n=n.x)[0]<0?n[1]-Aw-1e-6:Aw-n[1])}var Fy=Oy((function(){return!0}),(function(t){var n,r=NaN,e=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(u,o){var a=u>0?Ew:-Ew,s=Iw(u-r);Iw(s-Ew)<1e-6?(t.point(r,e=(e+o)/2>0?Aw:-Aw),t.point(i,e),t.lineEnd(),t.lineStart(),t.point(a,e),t.point(u,e),n=0):i!==a&&s>=Ew&&(Iw(r-i)<1e-6&&(r-=1e-6*i),Iw(u-a)<1e-6&&(u-=1e-6*a),e=function(t,n,r,e){var i,u,o=_w(t-r);return Iw(o)>1e-6?Rw((_w(n)*(u=Cw(e))*_w(r)-_w(e)*(i=Cw(n))*_w(t))/(i*u*o)):(n+e)/2}(r,e,u,o),t.point(i,e),t.lineEnd(),t.lineStart(),t.point(a,e),n=0),t.point(r=u,e=o),i=a},lineEnd:function(){t.lineEnd(),r=e=NaN},clean:function(){return 2-n}}}),(function(t,n,r,e){var i;if(null==t)e.point(-Ew,i=r*Aw),e.point(0,i),e.point(Ew,i),e.point(Ew,0),e.point(Ew,-i),e.point(0,-i),e.point(-Ew,-i),e.point(-Ew,0),e.point(-Ew,i);else if(Iw(t[0]-n[0])>1e-6){var u=t[0]<n[0]?Ew:-Ew;e.point(-u,i=r*u/2),e.point(0,i),e.point(u,i)}else e.point(n[0],n[1])}),[-Ew,-Aw]);function Cy(t){var n=Cw(t),r=6*Ow,e=n>0,i=Iw(n)>1e-6;function u(t,r){return Cw(t)*Cw(r)>n}function o(t,r,e){var i=[1,0,0],u=vm(lm(t),lm(r)),o=dm(u,u),a=u[0],s=o-a*a;if(!s)return!e&&t;var c=n*o/s,f=-n*a/s,h=vm(i,u),l=bm(i,c);pm(l,bm(u,f));var d=h,v=dm(l,d),p=dm(d,d),b=v*v-p*(dm(l,l)-1);if(!(b<0)){var w=Ww(b),m=bm(d,(-v-w)/p);if(pm(m,l),m=hm(m),!e)return m;var y,g=t[0],M=r[0],N=t[1],L=r[1];M<g&&(y=g,g=M,M=y);var k=M-g,E=Iw(k-Ew)<1e-6;if(!E&&L<N&&(y=N,N=L,L=y),E||k<1e-6?E?N+L>0^m[1]<(Iw(m[0]-g)<1e-6?N:L):N<=m[1]&&m[1]<=L:k>Ew^(g<=m[0]&&m[0]<=M)){var A=bm(d,(-v+w)/p);return pm(A,l),[m,hm(A)]}}}function a(n,r){var i=e?t:Ew-t,u=0;return n<-i?u|=1:n>i&&(u|=2),r<-i?u|=4:r>i&&(u|=8),u}return Oy(u,(function(t){var n,r,s,c,f;return{lineStart:function(){c=s=!1,f=1},point:function(h,l){var d,v=[h,l],p=u(h,l),b=e?p?0:a(h,l):p?a(h+(h<0?Ew:-Ew),l):0;if(!n&&(c=s=p)&&t.lineStart(),p!==s&&(!(d=o(n,v))||ky(n,d)||ky(v,d))&&(v[0]+=1e-6,v[1]+=1e-6,p=u(v[0],v[1])),p!==s)f=0,p?(t.lineStart(),d=o(v,n),t.point(d[0],d[1])):(d=o(n,v),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(i&&n&&e^p){var w;b&r||!(w=o(v,n,!0))||(f=0,e?(t.lineStart(),t.point(w[0][0],w[0][1]),t.point(w[1][0],w[1][1]),t.lineEnd()):(t.point(w[1][0],w[1][1]),t.lineEnd(),t.lineStart(),t.point(w[0][0],w[0][1])))}!p||n&&ky(n,v)||t.point(v[0],v[1]),n=v,s=p,r=b},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return f|(c&&s)<<1}}}),(function(n,e,i,u){My(u,t,r,i,n,e)}),e?[0,-t]:[-Ew,t-Ew])}function Dy(t,n,r,e){function i(i,u){return t<=i&&i<=r&&n<=u&&u<=e}function u(i,u,a,c){var f=0,h=0;if(null==i||(f=o(i,a))!==(h=o(u,a))||s(i,u)<0^a>0)do{c.point(0===f||3===f?t:r,f>1?e:n)}while((f=(f+a+4)%4)!==h);else c.point(u[0],u[1])}function o(e,i){return Iw(e[0]-t)<1e-6?i>0?0:3:Iw(e[0]-r)<1e-6?i>0?2:1:Iw(e[1]-n)<1e-6?i>0?1:0:i>0?3:2}function a(t,n){return s(t.x,n.x)}function s(t,n){var r=o(t,1),e=o(n,1);return r!==e?r-e:0===r?n[1]-t[1]:1===r?t[0]-n[0]:2===r?t[1]-n[1]:n[0]-t[0]}return function(o){var s,c,f,h,l,d,v,p,b,w,m,y=o,g=Ly(),M={point:N,lineStart:function(){M.point=L,c&&c.push(f=[]),w=!0,b=!1,v=p=NaN},lineEnd:function(){s&&(L(h,l),d&&b&&g.rejoin(),s.push(g.result())),M.point=N,b&&y.lineEnd()},polygonStart:function(){y=g,s=[],c=[],m=!0},polygonEnd:function(){var n=function(){for(var n=0,r=0,i=c.length;r<i;++r)for(var u,o,a=c[r],s=1,f=a.length,h=a[0],l=h[0],d=h[1];s<f;++s)u=l,o=d,l=(h=a[s])[0],d=h[1],o<=e?d>e&&(l-u)*(e-o)>(d-o)*(t-u)&&++n:d<=e&&(l-u)*(e-o)<(d-o)*(t-u)&&--n;return n}(),r=m&&n,i=(s=Ma(s)).length;(r||i)&&(o.polygonStart(),r&&(o.lineStart(),u(null,null,1,o),o.lineEnd()),i&&Ay(s,a,n,u,o),o.polygonEnd()),y=o,s=c=f=null}};function N(t,n){i(t,n)&&y.point(t,n)}function L(u,o){var a=i(u,o);if(c&&f.push([u,o]),w)h=u,l=o,d=a,w=!1,a&&(y.lineStart(),y.point(u,o));else if(a&&b)y.point(u,o);else{var s=[v=Math.max(-1e9,Math.min(1e9,v)),p=Math.max(-1e9,Math.min(1e9,p))],g=[u=Math.max(-1e9,Math.min(1e9,u)),o=Math.max(-1e9,Math.min(1e9,o))];!function(t,n,r,e,i,u){var o,a=t[0],s=t[1],c=0,f=1,h=n[0]-a,l=n[1]-s;if(o=r-a,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>c&&(c=o)}if(o=i-a,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<f&&(f=o)}if(o=e-s,l||!(o>0)){if(o/=l,l<0){if(o<c)return;o<f&&(f=o)}else if(l>0){if(o>f)return;o>c&&(c=o)}if(o=u-s,l||!(o<0)){if(o/=l,l<0){if(o>f)return;o>c&&(c=o)}else if(l>0){if(o<c)return;o<f&&(f=o)}return c>0&&(t[0]=a+c*h,t[1]=s+c*l),f<1&&(n[0]=a+f*h,n[1]=s+f*l),!0}}}}}(s,g,t,n,r,e)?a&&(y.lineStart(),y.point(u,o),m=!1):(b||(y.lineStart(),y.point(s[0],s[1])),y.point(g[0],g[1]),a||y.lineEnd(),m=!1)}v=u,p=o,b=a}return M}}var Hy,jy,Uy,_y=Mw(),Py={sphere:zw,point:zw,lineStart:function(){Py.point=By,Py.lineEnd=Wy},lineEnd:zw,polygonStart:zw,polygonEnd:zw};function Wy(){Py.point=Py.lineEnd=zw}function By(t,n){Hy=t*=Ow,jy=_w(n*=Ow),Uy=Cw(n),Py.point=$y}function $y(t,n){t*=Ow;var r=_w(n*=Ow),e=Cw(n),i=Iw(t-Hy),u=Cw(i),o=e*_w(i),a=Uy*r-jy*e*u,s=jy*r+Uy*e*u;_y.add(Fw(Ww(o*o+a*a),s)),Hy=t,jy=r,Uy=e}function Yy(t){return _y.reset(),Jw(t,Py),+_y}var qy=[null,null],zy={type:"LineString",coordinates:qy};function Vy(t,n){return qy[0]=t,qy[1]=n,Yy(zy)}var Gy={Feature:function(t,n){return Xy(t.geometry,n)},FeatureCollection:function(t,n){for(var r=t.features,e=-1,i=r.length;++e<i;)if(Xy(r[e].geometry,n))return!0;return!1}},Zy={Sphere:function(){return!0},Point:function(t,n){return Ky(t.coordinates,n)},MultiPoint:function(t,n){for(var r=t.coordinates,e=-1,i=r.length;++e<i;)if(Ky(r[e],n))return!0;return!1},LineString:function(t,n){return Jy(t.coordinates,n)},MultiLineString:function(t,n){for(var r=t.coordinates,e=-1,i=r.length;++e<i;)if(Jy(r[e],n))return!0;return!1},Polygon:function(t,n){return Qy(t.coordinates,n)},MultiPolygon:function(t,n){for(var r=t.coordinates,e=-1,i=r.length;++e<i;)if(Qy(r[e],n))return!0;return!1},GeometryCollection:function(t,n){for(var r=t.geometries,e=-1,i=r.length;++e<i;)if(Xy(r[e],n))return!0;return!1}};function Xy(t,n){return!(!t||!Zy.hasOwnProperty(t.type))&&Zy[t.type](t,n)}function Ky(t,n){return 0===Vy(t,n)}function Jy(t,n){var r=Vy(t[0],t[1]);return Vy(t[0],n)+Vy(n,t[1])<=r+1e-6}function Qy(t,n){return!!Sy(t.map(tg),ng(n))}function tg(t){return(t=t.map(ng)).pop(),t}function ng(t){return[t[0]*Ow,t[1]*Ow]}function rg(t,n,r){var e=pa(t,n-1e-6,r).concat(n);return function(t){return e.map((function(n){return[t,n]}))}}function eg(t,n,r){var e=pa(t,n-1e-6,r).concat(n);return function(t){return e.map((function(n){return[n,t]}))}}function ig(){var t,n,r,e,i,u,o,a,s,c,f,h,l=10,d=l,v=90,p=360,b=2.5;function w(){return{type:"MultiLineString",coordinates:m()}}function m(){return pa(Dw(e/v)*v,r,v).map(f).concat(pa(Dw(a/p)*p,o,p).map(h)).concat(pa(Dw(n/l)*l,t,l).filter((function(t){return Iw(t%v)>1e-6})).map(s)).concat(pa(Dw(u/d)*d,i,d).filter((function(t){return Iw(t%p)>1e-6})).map(c))}return w.lines=function(){return m().map((function(t){return{type:"LineString",coordinates:t}}))},w.outline=function(){return{type:"Polygon",coordinates:[f(e).concat(h(o).slice(1),f(r).reverse().slice(1),h(a).reverse().slice(1))]}},w.extent=function(t){return arguments.length?w.extentMajor(t).extentMinor(t):w.extentMinor()},w.extentMajor=function(t){return arguments.length?(a=+t[0][1],o=+t[1][1],(e=+t[0][0])>(r=+t[1][0])&&(t=e,e=r,r=t),a>o&&(t=a,a=o,o=t),w.precision(b)):[[e,a],[r,o]]},w.extentMinor=function(r){return arguments.length?(u=+r[0][1],i=+r[1][1],(n=+r[0][0])>(t=+r[1][0])&&(r=n,n=t,t=r),u>i&&(r=u,u=i,i=r),w.precision(b)):[[n,u],[t,i]]},w.step=function(t){return arguments.length?w.stepMajor(t).stepMinor(t):w.stepMinor()},w.stepMajor=function(t){return arguments.length?(v=+t[0],p=+t[1],w):[v,p]},w.stepMinor=function(t){return arguments.length?(l=+t[0],d=+t[1],w):[l,d]},w.precision=function(l){return arguments.length?(b=+l,s=rg(u,i,90),c=eg(n,t,b),f=rg(a,o,90),h=eg(e,r,b),w):b},w.extentMajor([[-180,1e-6-90],[180,90-1e-6]]).extentMinor([[-180,-80-1e-6],[180,80+1e-6]])}function ug(t){return t}var og,ag,sg,cg,fg=Mw(),hg=Mw(),lg={point:zw,lineStart:zw,lineEnd:zw,polygonStart:function(){lg.lineStart=dg,lg.lineEnd=bg},polygonEnd:function(){lg.lineStart=lg.lineEnd=lg.point=zw,fg.add(Iw(hg)),hg.reset()},result:function(){var t=fg/2;return fg.reset(),t}};function dg(){lg.point=vg}function vg(t,n){lg.point=pg,og=sg=t,ag=cg=n}function pg(t,n){hg.add(cg*t-sg*n),sg=t,cg=n}function bg(){pg(og,ag)}var wg,mg,yg,gg,Mg=1/0,Ng=Mg,Lg=-Mg,kg=Lg,Eg={point:function(t,n){t<Mg&&(Mg=t),t>Lg&&(Lg=t),n<Ng&&(Ng=n),n>kg&&(kg=n)},lineStart:zw,lineEnd:zw,polygonStart:zw,polygonEnd:zw,result:function(){var t=[[Mg,Ng],[Lg,kg]];return Lg=kg=-(Ng=Mg=1/0),t}},Ag=0,Tg=0,xg=0,Sg=0,Og=0,Ig=0,Rg=0,Fg=0,Cg=0,Dg={point:Hg,lineStart:jg,lineEnd:Pg,polygonStart:function(){Dg.lineStart=Wg,Dg.lineEnd=Bg},polygonEnd:function(){Dg.point=Hg,Dg.lineStart=jg,Dg.lineEnd=Pg},result:function(){var t=Cg?[Rg/Cg,Fg/Cg]:Ig?[Sg/Ig,Og/Ig]:xg?[Ag/xg,Tg/xg]:[NaN,NaN];return Ag=Tg=xg=Sg=Og=Ig=Rg=Fg=Cg=0,t}};function Hg(t,n){Ag+=t,Tg+=n,++xg}function jg(){Dg.point=Ug}function Ug(t,n){Dg.point=_g,Hg(yg=t,gg=n)}function _g(t,n){var r=t-yg,e=n-gg,i=Ww(r*r+e*e);Sg+=i*(yg+t)/2,Og+=i*(gg+n)/2,Ig+=i,Hg(yg=t,gg=n)}function Pg(){Dg.point=Hg}function Wg(){Dg.point=$g}function Bg(){Yg(wg,mg)}function $g(t,n){Dg.point=Yg,Hg(wg=yg=t,mg=gg=n)}function Yg(t,n){var r=t-yg,e=n-gg,i=Ww(r*r+e*e);Sg+=i*(yg+t)/2,Og+=i*(gg+n)/2,Ig+=i,Rg+=(i=gg*t-yg*n)*(yg+t),Fg+=i*(gg+n),Cg+=3*i,Hg(yg=t,gg=n)}function qg(t){this._context=t}qg.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,xw)}},result:zw};var zg,Vg,Gg,Zg,Xg,Kg=Mw(),Jg={point:zw,lineStart:function(){Jg.point=Qg},lineEnd:function(){zg&&tM(Vg,Gg),Jg.point=zw},polygonStart:function(){zg=!0},polygonEnd:function(){zg=null},result:function(){var t=+Kg;return Kg.reset(),t}};function Qg(t,n){Jg.point=tM,Vg=Zg=t,Gg=Xg=n}function tM(t,n){Kg.add(Ww((Zg-=t)*Zg+(Xg-=n)*Xg)),Zg=t,Xg=n}function nM(){this._string=[]}function rM(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function eM(t){return function(n){var r=new iM;for(var e in t)r[e]=t[e];return r.stream=n,r}}function iM(){}function uM(t,n,r){var e=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=e&&t.clipExtent(null),Jw(r,t.stream(Eg)),n(Eg.result()),null!=e&&t.clipExtent(e),t}function oM(t,n,r){return uM(t,(function(r){var e=n[1][0]-n[0][0],i=n[1][1]-n[0][1],u=Math.min(e/(r[1][0]-r[0][0]),i/(r[1][1]-r[0][1])),o=+n[0][0]+(e-u*(r[1][0]+r[0][0]))/2,a=+n[0][1]+(i-u*(r[1][1]+r[0][1]))/2;t.scale(150*u).translate([o,a])}),r)}function aM(t,n,r){return oM(t,[[0,0],n],r)}function sM(t,n,r){return uM(t,(function(r){var e=+n,i=e/(r[1][0]-r[0][0]),u=(e-i*(r[1][0]+r[0][0]))/2,o=-i*r[0][1];t.scale(150*i).translate([u,o])}),r)}function cM(t,n,r){return uM(t,(function(r){var e=+n,i=e/(r[1][1]-r[0][1]),u=-i*r[0][0],o=(e-i*(r[1][1]+r[0][1]))/2;t.scale(150*i).translate([u,o])}),r)}nM.prototype={_radius:4.5,_circle:rM(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=rM(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},iM.prototype={constructor:iM,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var fM=Cw(30*Ow);function hM(t,n){return+n?function(t,n){function r(e,i,u,o,a,s,c,f,h,l,d,v,p,b){var w=c-e,m=f-i,y=w*w+m*m;if(y>4*n&&p--){var g=o+l,M=a+d,N=s+v,L=Ww(g*g+M*M+N*N),k=Yw(N/=L),E=Iw(Iw(N)-1)<1e-6||Iw(u-h)<1e-6?(u+h)/2:Fw(M,g),A=t(E,k),T=A[0],x=A[1],S=T-e,O=x-i,I=m*S-w*O;(I*I/y>n||Iw((w*S+m*O)/y-.5)>.3||o*l+a*d+s*v<fM)&&(r(e,i,u,o,a,s,T,x,E,g/=L,M/=L,N,p,b),b.point(T,x),r(T,x,E,g,M,N,c,f,h,l,d,v,p,b))}}return function(n){var e,i,u,o,a,s,c,f,h,l,d,v,p={point:b,lineStart:w,lineEnd:y,polygonStart:function(){n.polygonStart(),p.lineStart=g},polygonEnd:function(){n.polygonEnd(),p.lineStart=w}};function b(r,e){r=t(r,e),n.point(r[0],r[1])}function w(){f=NaN,p.point=m,n.lineStart()}function m(e,i){var u=lm([e,i]),o=t(e,i);r(f,h,c,l,d,v,f=o[0],h=o[1],c=e,l=u[0],d=u[1],v=u[2],16,n),n.point(f,h)}function y(){p.point=b,n.lineEnd()}function g(){w(),p.point=M,p.lineEnd=N}function M(t,n){m(e=t,n),i=f,u=h,o=l,a=d,s=v,p.point=m}function N(){r(f,h,c,l,d,v,i,u,e,o,a,s,16,n),p.lineEnd=y,y()}return p}}(t,n):function(t){return eM({point:function(n,r){n=t(n,r),this.stream.point(n[0],n[1])}})}(t)}var lM=eM({point:function(t,n){this.stream.point(t*Ow,n*Ow)}});function dM(t){return vM((function(){return t}))()}function vM(t){var n,r,e,i,u,o,a,s,c,f,h=150,l=480,d=250,v=0,p=0,b=0,w=0,m=0,y=null,g=Fy,M=null,N=ug,L=.5,k=hM(T,L);function E(t){return[(t=u(t[0]*Ow,t[1]*Ow))[0]*h+r,e-t[1]*h]}function A(t){return(t=u.invert((t[0]-r)/h,(e-t[1])/h))&&[t[0]*Sw,t[1]*Sw]}function T(t,i){return[(t=n(t,i))[0]*h+r,e-t[1]*h]}function x(){u=vy(i=by(b,w,m),n);var t=n(v,p);return r=l-t[0]*h,e=d+t[1]*h,S()}function S(){return c=f=null,E}return E.stream=function(t){return c&&f===t?c:c=lM(function(t){return eM({point:function(n,r){var e=t(n,r);return this.stream.point(e[0],e[1])}})}(i)(g(k(N(f=t)))))},E.preclip=function(t){return arguments.length?(g=t,y=void 0,S()):g},E.postclip=function(t){return arguments.length?(N=t,M=o=a=s=null,S()):N},E.clipAngle=function(t){return arguments.length?(g=+t?Cy(y=t*Ow):(y=null,Fy),S()):y*Sw},E.clipExtent=function(t){return arguments.length?(N=null==t?(M=o=a=s=null,ug):Dy(M=+t[0][0],o=+t[0][1],a=+t[1][0],s=+t[1][1]),S()):null==M?null:[[M,o],[a,s]]},E.scale=function(t){return arguments.length?(h=+t,x()):h},E.translate=function(t){return arguments.length?(l=+t[0],d=+t[1],x()):[l,d]},E.center=function(t){return arguments.length?(v=t[0]%360*Ow,p=t[1]%360*Ow,x()):[v*Sw,p*Sw]},E.rotate=function(t){return arguments.length?(b=t[0]%360*Ow,w=t[1]%360*Ow,m=t.length>2?t[2]%360*Ow:0,x()):[b*Sw,w*Sw,m*Sw]},E.precision=function(t){return arguments.length?(k=hM(T,L=t*t),S()):Ww(L)},E.fitExtent=function(t,n){return oM(E,t,n)},E.fitSize=function(t,n){return aM(E,t,n)},E.fitWidth=function(t,n){return sM(E,t,n)},E.fitHeight=function(t,n){return cM(E,t,n)},function(){return n=t.apply(this,arguments),E.invert=n.invert&&A,x()}}function pM(t){var n=0,r=Ew/3,e=vM(t),i=e(n,r);return i.parallels=function(t){return arguments.length?e(n=t[0]*Ow,r=t[1]*Ow):[n*Sw,r*Sw]},i}function bM(t,n){var r=_w(t),e=(r+_w(n))/2;if(Iw(e)<1e-6)return function(t){var n=Cw(t);function r(t,r){return[t*n,_w(r)/n]}return r.invert=function(t,r){return[t/n,Yw(r*n)]},r}(t);var i=1+r*(2*e-r),u=Ww(i)/e;function o(t,n){var r=Ww(i-2*e*_w(n))/e;return[r*_w(t*=e),u-r*Cw(t)]}return o.invert=function(t,n){var r=u-n;return[Fw(t,Iw(r))/e*Pw(r),Yw((i-(t*t+r*r)*e*e)/(2*e))]},o}function wM(){return pM(bM).scale(155.424).center([0,33.6442])}function mM(){return wM().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function yM(t){return function(n,r){var e=Cw(n),i=Cw(r),u=t(e*i);return[u*i*_w(n),u*_w(r)]}}function gM(t){return function(n,r){var e=Ww(n*n+r*r),i=t(e),u=_w(i),o=Cw(i);return[Fw(n*u,e*o),Yw(e&&r*u/e)]}}var MM=yM((function(t){return Ww(2/(1+t))}));MM.invert=gM((function(t){return 2*Yw(t/2)}));var NM=yM((function(t){return(t=$w(t))&&t/_w(t)}));function LM(t,n){return[t,jw(Bw((Aw+n)/2))]}function kM(t){var n,r,e,i=dM(t),u=i.center,o=i.scale,a=i.translate,s=i.clipExtent,c=null;function f(){var u=Ew*o(),a=i(gy(i.rotate()).invert([0,0]));return s(null==c?[[a[0]-u,a[1]-u],[a[0]+u,a[1]+u]]:t===LM?[[Math.max(a[0]-u,c),n],[Math.min(a[0]+u,r),e]]:[[c,Math.max(a[1]-u,n)],[r,Math.min(a[1]+u,e)]])}return i.scale=function(t){return arguments.length?(o(t),f()):o()},i.translate=function(t){return arguments.length?(a(t),f()):a()},i.center=function(t){return arguments.length?(u(t),f()):u()},i.clipExtent=function(t){return arguments.length?(null==t?c=n=r=e=null:(c=+t[0][0],n=+t[0][1],r=+t[1][0],e=+t[1][1]),f()):null==c?null:[[c,n],[r,e]]},f()}function EM(t){return Bw((Aw+t)/2)}function AM(t,n){var r=Cw(t),e=t===n?_w(t):jw(r/Cw(n))/jw(EM(n)/EM(t)),i=r*Uw(EM(t),e)/e;if(!e)return LM;function u(t,n){i>0?n<1e-6-Aw&&(n=1e-6-Aw):n>Aw-1e-6&&(n=Aw-1e-6);var r=i/Uw(EM(n),e);return[r*_w(e*t),i-r*Cw(e*t)]}return u.invert=function(t,n){var r=i-n,u=Pw(e)*Ww(t*t+r*r);return[Fw(t,Iw(r))/e*Pw(r),2*Rw(Uw(i/u,1/e))-Aw]},u}function TM(t,n){return[t,n]}function xM(t,n){var r=Cw(t),e=t===n?_w(t):(r-Cw(n))/(n-t),i=r/e+t;if(Iw(e)<1e-6)return TM;function u(t,n){var r=i-n,u=e*t;return[r*_w(u),i-r*Cw(u)]}return u.invert=function(t,n){var r=i-n;return[Fw(t,Iw(r))/e*Pw(r),i-Pw(e)*Ww(t*t+r*r)]},u}function SM(t,n){var r=Cw(n),e=Cw(t)*r;return[r*_w(t)/e,_w(n)/e]}function OM(t,n,r,e){return 1===t&&1===n&&0===r&&0===e?ug:eM({point:function(i,u){this.stream.point(i*t+r,u*n+e)}})}function IM(t,n){var r=n*n,e=r*r;return[t*(.8707-.131979*r+e*(e*(.003971*r-.001529*e)-.013791)),n*(1.007226+r*(.015085+e*(.028874*r-.044475-.005916*e)))]}function RM(t,n){return[Cw(n)*_w(t),_w(n)]}function FM(t,n){var r=Cw(n),e=1+Cw(t)*r;return[r*_w(t)/e,_w(n)/e]}function CM(t,n){return[jw(Bw((Aw+n)/2)),-t]}function DM(t,n){return t.parent===n.parent?1:2}function HM(t,n){return t+n.x}function jM(t,n){return Math.max(t,n.y)}function UM(t){var n=0,r=t.children,e=r&&r.length;if(e)for(;--e>=0;)n+=r[e].value;else n=1;t.value=n}function _M(t,n){var r,e,i,u,o,a=new $M(t),s=+t.value&&(a.value=t.value),c=[a];for(null==n&&(n=PM);r=c.pop();)if(s&&(r.value=+r.data.value),(i=n(r.data))&&(o=i.length))for(r.children=new Array(o),u=o-1;u>=0;--u)c.push(e=r.children[u]=new $M(i[u])),e.parent=r,e.depth=r.depth+1;return a.eachBefore(BM)}function PM(t){return t.children}function WM(t){t.data=t.data.data}function BM(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function $M(t){this.data=t,this.depth=this.height=0,this.parent=null}NM.invert=gM((function(t){return t})),LM.invert=function(t,n){return[t,2*Rw(Hw(n))-Aw]},TM.invert=TM,SM.invert=gM(Rw),IM.invert=function(t,n){var r,e=n,i=25;do{var u=e*e,o=u*u;e-=r=(e*(1.007226+u*(.015085+o*(.028874*u-.044475-.005916*o)))-n)/(1.007226+u*(.045255+o*(.259866*u-.311325-.005916*11*o)))}while(Iw(r)>1e-6&&--i>0);return[t/(.8707+(u=e*e)*(u*(u*u*u*(.003971-.001529*u)-.013791)-.131979)),e]},RM.invert=gM(Yw),FM.invert=gM((function(t){return 2*Rw(t)})),CM.invert=function(t,n){return[-n,2*Rw(Hw(t))-Aw]},$M.prototype=_M.prototype={constructor:$M,count:function(){return this.eachAfter(UM)},each:function(t){var n,r,e,i,u=this,o=[u];do{for(n=o.reverse(),o=[];u=n.pop();)if(t(u),r=u.children)for(e=0,i=r.length;e<i;++e)o.push(r[e])}while(o.length);return this},eachAfter:function(t){for(var n,r,e,i=this,u=[i],o=[];i=u.pop();)if(o.push(i),n=i.children)for(r=0,e=n.length;r<e;++r)u.push(n[r]);for(;i=o.pop();)t(i);return this},eachBefore:function(t){for(var n,r,e=this,i=[e];e=i.pop();)if(t(e),n=e.children)for(r=n.length-1;r>=0;--r)i.push(n[r]);return this},sum:function(t){return this.eachAfter((function(n){for(var r=+t(n.data)||0,e=n.children,i=e&&e.length;--i>=0;)r+=e[i].value;n.value=r}))},sort:function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))},path:function(t){for(var n=this,r=function(t,n){if(t===n)return t;var r=t.ancestors(),e=n.ancestors(),i=null;for(t=r.pop(),n=e.pop();t===n;)i=t,t=r.pop(),n=e.pop();return i}(n,t),e=[n];n!==r;)e.push(n=n.parent);for(var i=e.length;t!==r;)e.splice(i,0,t),t=t.parent;return e},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each((function(n){t.push(n)})),t},leaves:function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t},links:function(){var t=this,n=[];return t.each((function(r){r!==t&&n.push({source:r.parent,target:r})})),n},copy:function(){return _M(this).eachBefore(WM)}};var YM=Array.prototype.slice;function qM(t){for(var n,r,e=0,i=(t=function(t){for(var n,r,e=t.length;e;)r=Math.random()*e--|0,n=t[e],t[e]=t[r],t[r]=n;return t}(YM.call(t))).length,u=[];e<i;)n=t[e],r&&GM(r,n)?++e:(r=XM(u=zM(u,n)),e=0);return r}function zM(t,n){var r,e;if(ZM(n,t))return[n];for(r=0;r<t.length;++r)if(VM(n,t[r])&&ZM(KM(t[r],n),t))return[t[r],n];for(r=0;r<t.length-1;++r)for(e=r+1;e<t.length;++e)if(VM(KM(t[r],t[e]),n)&&VM(KM(t[r],n),t[e])&&VM(KM(t[e],n),t[r])&&ZM(JM(t[r],t[e],n),t))return[t[r],t[e],n];throw new Error}function VM(t,n){var r=t.r-n.r,e=n.x-t.x,i=n.y-t.y;return r<0||r*r<e*e+i*i}function GM(t,n){var r=t.r-n.r+1e-6,e=n.x-t.x,i=n.y-t.y;return r>0&&r*r>e*e+i*i}function ZM(t,n){for(var r=0;r<n.length;++r)if(!GM(t,n[r]))return!1;return!0}function XM(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return KM(t[0],t[1]);case 3:return JM(t[0],t[1],t[2])}}function KM(t,n){var r=t.x,e=t.y,i=t.r,u=n.x,o=n.y,a=n.r,s=u-r,c=o-e,f=a-i,h=Math.sqrt(s*s+c*c);return{x:(r+u+s/h*f)/2,y:(e+o+c/h*f)/2,r:(h+i+a)/2}}function JM(t,n,r){var e=t.x,i=t.y,u=t.r,o=n.x,a=n.y,s=n.r,c=r.x,f=r.y,h=r.r,l=e-o,d=e-c,v=i-a,p=i-f,b=s-u,w=h-u,m=e*e+i*i-u*u,y=m-o*o-a*a+s*s,g=m-c*c-f*f+h*h,M=d*v-l*p,N=(v*g-p*y)/(2*M)-e,L=(p*b-v*w)/M,k=(d*y-l*g)/(2*M)-i,E=(l*w-d*b)/M,A=L*L+E*E-1,T=2*(u+N*L+k*E),x=N*N+k*k-u*u,S=-(A?(T+Math.sqrt(T*T-4*A*x))/(2*A):x/T);return{x:e+N+L*S,y:i+k+E*S,r:S}}function QM(t,n,r){var e=t.x,i=t.y,u=n.r+r.r,o=t.r+r.r,a=n.x-e,s=n.y-i,c=a*a+s*s;if(c){var f=.5+((o*=o)-(u*=u))/(2*c),h=Math.sqrt(Math.max(0,2*u*(o+c)-(o-=c)*o-u*u))/(2*c);r.x=e+f*a+h*s,r.y=i+f*s-h*a}else r.x=e+o,r.y=i}function tN(t,n){var r=n.x-t.x,e=n.y-t.y,i=t.r+n.r;return i*i-1e-6>r*r+e*e}function nN(t){var n=t._,r=t.next._,e=n.r+r.r,i=(n.x*r.r+r.x*n.r)/e,u=(n.y*r.r+r.y*n.r)/e;return i*i+u*u}function rN(t){this._=t,this.next=null,this.previous=null}function eN(t){if(!(i=t.length))return 0;var n,r,e,i,u,o,a,s,c,f,h;if((n=t[0]).x=0,n.y=0,!(i>1))return n.r;if(n.x=-(r=t[1]).r,r.x=n.r,r.y=0,!(i>2))return n.r+r.r;QM(r,n,e=t[2]),n=new rN(n),r=new rN(r),e=new rN(e),n.next=e.previous=r,r.next=n.previous=e,e.next=r.previous=n;t:for(a=3;a<i;++a){QM(n._,r._,e=t[a]),e=new rN(e),s=r.next,c=n.previous,f=r._.r,h=n._.r;do{if(f<=h){if(tN(s._,e._)){n.next=r=s,r.previous=n,--a;continue t}f+=s._.r,s=s.next}else{if(tN(c._,e._)){(n=c).next=r,r.previous=n,--a;continue t}h+=c._.r,c=c.previous}}while(s!==c.next);for(e.previous=n,e.next=r,n.next=r.previous=r=e,u=nN(n);(e=e.next)!==r;)(o=nN(e))<u&&(n=e,u=o);r=n.next}for(n=[r._],e=r;(e=e.next)!==r;)n.push(e._);for(e=qM(n),a=0;a<i;++a)(n=t[a]).x-=e.x,n.y-=e.y;return e.r}function iN(t){return null==t?null:uN(t)}function uN(t){if("function"!=typeof t)throw new Error;return t}function oN(){return 0}function aN(t){return function(){return t}}function sN(t){return Math.sqrt(t.value)}function cN(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function fN(t,n){return function(r){if(e=r.children){var e,i,u,o=e.length,a=t(r)*n||0;if(a)for(i=0;i<o;++i)e[i].r+=a;if(u=eN(e),a)for(i=0;i<o;++i)e[i].r-=a;r.r=u+a}}}function hN(t){return function(n){var r=n.parent;n.r*=t,r&&(n.x=r.x+t*n.x,n.y=r.y+t*n.y)}}function lN(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function dN(t,n,r,e,i){for(var u,o=t.children,a=-1,s=o.length,c=t.value&&(e-n)/t.value;++a<s;)(u=o[a]).y0=r,u.y1=i,u.x0=n,u.x1=n+=u.value*c}var vN={depth:-1},pN={};function bN(t){return t.id}function wN(t){return t.parentId}function mN(t,n){return t.parent===n.parent?1:2}function yN(t){var n=t.children;return n?n[0]:t.t}function gN(t){var n=t.children;return n?n[n.length-1]:t.t}function MN(t,n,r){var e=r/(n.i-t.i);n.c-=e,n.s+=r,t.c+=e,n.z+=r,n.m+=r}function NN(t,n,r){return t.a.parent===n.parent?t.a:r}function LN(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function kN(t,n,r,e,i){for(var u,o=t.children,a=-1,s=o.length,c=t.value&&(i-r)/t.value;++a<s;)(u=o[a]).x0=n,u.x1=e,u.y0=r,u.y1=r+=u.value*c}LN.prototype=Object.create($M.prototype);var EN=(1+Math.sqrt(5))/2;function AN(t,n,r,e,i,u){for(var o,a,s,c,f,h,l,d,v,p,b,w=[],m=n.children,y=0,g=0,M=m.length,N=n.value;y<M;){s=i-r,c=u-e;do{f=m[g++].value}while(!f&&g<M);for(h=l=f,b=f*f*(p=Math.max(c/s,s/c)/(N*t)),v=Math.max(l/b,b/h);g<M;++g){if(f+=a=m[g].value,a<h&&(h=a),a>l&&(l=a),b=f*f*p,(d=Math.max(l/b,b/h))>v){f-=a;break}v=d}w.push(o={value:f,dice:s<c,children:m.slice(y,g)}),o.dice?dN(o,r,e,i,N?e+=c*f/N:u):kN(o,r,e,N?r+=s*f/N:i,u),N-=f,y=g}return w}var TN=function t(n){function r(t,r,e,i,u){AN(n,t,r,e,i,u)}return r.ratio=function(n){return t((n=+n)>1?n:1)},r}(EN),xN=function t(n){function r(t,r,e,i,u){if((o=t._squarify)&&o.ratio===n)for(var o,a,s,c,f,h=-1,l=o.length,d=t.value;++h<l;){for(s=(a=o[h]).children,c=a.value=0,f=s.length;c<f;++c)a.value+=s[c].value;a.dice?dN(a,r,e,i,e+=(u-e)*a.value/d):kN(a,r,e,r+=(i-r)*a.value/d,u),d-=a.value}else t._squarify=o=AN(n,t,r,e,i,u),o.ratio=n}return r.ratio=function(n){return t((n=+n)>1?n:1)},r}(EN);function SN(t,n,r){t.prototype=n.prototype=r,r.constructor=t}function ON(t,n){var r=Object.create(t.prototype);for(var e in n)r[e]=n[e];return r}function IN(){}var RN="\\s*([+-]?\\d+)\\s*",FN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",CN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",DN=/^#([0-9a-f]{3,8})$/,HN=new RegExp("^rgb\\("+[RN,RN,RN]+"\\)$"),jN=new RegExp("^rgb\\("+[CN,CN,CN]+"\\)$"),UN=new RegExp("^rgba\\("+[RN,RN,RN,FN]+"\\)$"),_N=new RegExp("^rgba\\("+[CN,CN,CN,FN]+"\\)$"),PN=new RegExp("^hsl\\("+[FN,CN,CN]+"\\)$"),WN=new RegExp("^hsla\\("+[FN,CN,CN,FN]+"\\)$"),BN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $N(){return this.rgb().formatHex()}function YN(){return this.rgb().formatRgb()}function qN(t){var n,r;return t=(t+"").trim().toLowerCase(),(n=DN.exec(t))?(r=n[1].length,n=parseInt(n[1],16),6===r?zN(n):3===r?new XN(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===r?VN(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===r?VN(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=HN.exec(t))?new XN(n[1],n[2],n[3],1):(n=jN.exec(t))?new XN(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=UN.exec(t))?VN(n[1],n[2],n[3],n[4]):(n=_N.exec(t))?VN(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=PN.exec(t))?tL(n[1],n[2]/100,n[3]/100,1):(n=WN.exec(t))?tL(n[1],n[2]/100,n[3]/100,n[4]):BN.hasOwnProperty(t)?zN(BN[t]):"transparent"===t?new XN(NaN,NaN,NaN,0):null}function zN(t){return new XN(t>>16&255,t>>8&255,255&t,1)}function VN(t,n,r,e){return e<=0&&(t=n=r=NaN),new XN(t,n,r,e)}function GN(t){return t instanceof IN||(t=qN(t)),t?new XN((t=t.rgb()).r,t.g,t.b,t.opacity):new XN}function ZN(t,n,r,e){return 1===arguments.length?GN(t):new XN(t,n,r,null==e?1:e)}function XN(t,n,r,e){this.r=+t,this.g=+n,this.b=+r,this.opacity=+e}function KN(){return"#"+QN(this.r)+QN(this.g)+QN(this.b)}function JN(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function QN(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function tL(t,n,r,e){return e<=0?t=n=r=NaN:r<=0||r>=1?t=n=NaN:n<=0&&(t=NaN),new eL(t,n,r,e)}function nL(t){if(t instanceof eL)return new eL(t.h,t.s,t.l,t.opacity);if(t instanceof IN||(t=qN(t)),!t)return new eL;if(t instanceof eL)return t;var n=(t=t.rgb()).r/255,r=t.g/255,e=t.b/255,i=Math.min(n,r,e),u=Math.max(n,r,e),o=NaN,a=u-i,s=(u+i)/2;return a?(o=n===u?(r-e)/a+6*(r<e):r===u?(e-n)/a+2:(n-r)/a+4,a/=s<.5?u+i:2-u-i,o*=60):a=s>0&&s<1?0:o,new eL(o,a,s,t.opacity)}function rL(t,n,r,e){return 1===arguments.length?nL(t):new eL(t,n,r,null==e?1:e)}function eL(t,n,r,e){this.h=+t,this.s=+n,this.l=+r,this.opacity=+e}function iL(t,n,r){return 255*(t<60?n+(r-n)*t/60:t<180?r:t<240?n+(r-n)*(240-t)/60:n)}SN(IN,qN,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:$N,formatHex:$N,formatHsl:function(){return nL(this).formatHsl()},formatRgb:YN,toString:YN}),SN(XN,ZN,ON(IN,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new XN(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new XN(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KN,formatHex:KN,formatRgb:JN,toString:JN})),SN(eL,rL,ON(IN,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new eL(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new eL(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,e=r+(r<.5?r:1-r)*n,i=2*r-e;return new XN(iL(t>=240?t-240:t+120,i,e),iL(t,i,e),iL(t<120?t+240:t-120,i,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var uL=Math.PI/180,oL=180/Math.PI;function aL(t){if(t instanceof cL)return new cL(t.l,t.a,t.b,t.opacity);if(t instanceof bL)return wL(t);t instanceof XN||(t=GN(t));var n,r,e=dL(t.r),i=dL(t.g),u=dL(t.b),o=fL((.2225045*e+.7168786*i+.0606169*u)/1);return e===i&&i===u?n=r=o:(n=fL((.4360747*e+.3850649*i+.1430804*u)/.96422),r=fL((.0139322*e+.0971045*i+.7141733*u)/.82521)),new cL(116*o-16,500*(n-o),200*(o-r),t.opacity)}function sL(t,n,r,e){return 1===arguments.length?aL(t):new cL(t,n,r,null==e?1:e)}function cL(t,n,r,e){this.l=+t,this.a=+n,this.b=+r,this.opacity=+e}function fL(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/(6/29*3*(6/29))+4/29}function hL(t){return t>6/29?t*t*t:6/29*3*(6/29)*(t-4/29)}function lL(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function dL(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function vL(t){if(t instanceof bL)return new bL(t.h,t.c,t.l,t.opacity);if(t instanceof cL||(t=aL(t)),0===t.a&&0===t.b)return new bL(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*oL;return new bL(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function pL(t,n,r,e){return 1===arguments.length?vL(t):new bL(t,n,r,null==e?1:e)}function bL(t,n,r,e){this.h=+t,this.c=+n,this.l=+r,this.opacity=+e}function wL(t){if(isNaN(t.h))return new cL(t.l,0,0,t.opacity);var n=t.h*uL;return new cL(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}function mL(t){if(t instanceof gL)return new gL(t.h,t.s,t.l,t.opacity);t instanceof XN||(t=GN(t));var n=t.g/255,r=t.b/255,e=(-.6557636667999999*r+t.r/255*-1.7884503806-3.5172982438*n)/-5.9615122912,i=r-e,u=(1.97294*(n-e)- -.29227*i)/-.90649,o=Math.sqrt(u*u+i*i)/(1.97294*e*(1-e)),a=o?Math.atan2(u,i)*oL-120:NaN;return new gL(a<0?a+360:a,o,e,t.opacity)}function yL(t,n,r,e){return 1===arguments.length?mL(t):new gL(t,n,r,null==e?1:e)}function gL(t,n,r,e){this.h=+t,this.s=+n,this.l=+r,this.opacity=+e}function ML(t,n,r,e,i){var u=t*t,o=u*t;return((1-3*t+3*u-o)*n+(4-6*u+3*o)*r+(1+3*t+3*u-3*o)*e+o*i)/6}function NL(t){var n=t.length-1;return function(r){var e=r<=0?r=0:r>=1?(r=1,n-1):Math.floor(r*n),i=t[e],u=t[e+1];return ML((r-e/n)*n,e>0?t[e-1]:2*i-u,i,u,e<n-1?t[e+2]:2*u-i)}}function LL(t){var n=t.length;return function(r){var e=Math.floor(((r%=1)<0?++r:r)*n);return ML((r-e/n)*n,t[(e+n-1)%n],t[e%n],t[(e+1)%n],t[(e+2)%n])}}function kL(t){return function(){return t}}function EL(t,n){return function(r){return t+r*n}}function AL(t,n){var r=n-t;return r?EL(t,r>180||r<-180?r-360*Math.round(r/360):r):kL(isNaN(t)?n:t)}function TL(t,n){var r=n-t;return r?EL(t,r):kL(isNaN(t)?n:t)}SN(cL,sL,ON(IN,{brighter:function(t){return new cL(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new cL(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return new XN(lL(3.1338561*(n=.96422*hL(n))-1.6168667*(t=1*hL(t))-.4906146*(r=.82521*hL(r))),lL(-.9787684*n+1.9161415*t+.033454*r),lL(.0719453*n-.2289914*t+1.4052427*r),this.opacity)}})),SN(bL,pL,ON(IN,{brighter:function(t){return new bL(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new bL(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return wL(this).rgb()}})),SN(gL,yL,ON(IN,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new gL(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new gL(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*uL,n=+this.l,r=isNaN(this.s)?0:this.s*n*(1-n),e=Math.cos(t),i=Math.sin(t);return new XN(255*(n+r*(-.14861*e+1.78277*i)),255*(n+r*(-.29227*e+-.90649*i)),255*(n+r*(1.97294*e)),this.opacity)}}));var xL=function t(n){var r=function(t){return 1==(t=+t)?TL:function(n,r){return r-n?function(t,n,r){return t=Math.pow(t,r),n=Math.pow(n,r)-t,r=1/r,function(e){return Math.pow(t+e*n,r)}}(n,r,t):kL(isNaN(n)?r:n)}}(n);function e(t,n){var e=r((t=ZN(t)).r,(n=ZN(n)).r),i=r(t.g,n.g),u=r(t.b,n.b),o=TL(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=u(n),t.opacity=o(n),t+""}}return e.gamma=t,e}(1);function SL(t){return function(n){var r,e,i=n.length,u=new Array(i),o=new Array(i),a=new Array(i);for(r=0;r<i;++r)e=ZN(n[r]),u[r]=e.r||0,o[r]=e.g||0,a[r]=e.b||0;return u=t(u),o=t(o),a=t(a),e.opacity=1,function(t){return e.r=u(t),e.g=o(t),e.b=a(t),e+""}}}var OL=SL(NL),IL=SL(LL);function RL(t,n){var r,e=n?n.length:0,i=t?Math.min(e,t.length):0,u=new Array(i),o=new Array(e);for(r=0;r<i;++r)u[r]=_L(t[r],n[r]);for(;r<e;++r)o[r]=n[r];return function(t){for(r=0;r<i;++r)o[r]=u[r](t);return o}}function FL(t,n){var r=new Date;return n-=t=+t,function(e){return r.setTime(t+n*e),r}}function CL(t,n){return n-=t=+t,function(r){return t+n*r}}function DL(t,n){var r,e={},i={};for(r in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)r in t?e[r]=_L(t[r],n[r]):i[r]=n[r];return function(t){for(r in e)i[r]=e[r](t);return i}}var HL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jL=new RegExp(HL.source,"g");function UL(t,n){var r,e,i,u=HL.lastIndex=jL.lastIndex=0,o=-1,a=[],s=[];for(t+="",n+="";(r=HL.exec(t))&&(e=jL.exec(n));)(i=e.index)>u&&(i=n.slice(u,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(e=e[0])?a[o]?a[o]+=e:a[++o]=e:(a[++o]=null,s.push({i:o,x:CL(r,e)})),u=jL.lastIndex;return u<n.length&&(i=n.slice(u),a[o]?a[o]+=i:a[++o]=i),a.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var r,e=0;e<n;++e)a[(r=s[e]).i]=r.x(t);return a.join("")})}function _L(t,n){var r,e=typeof n;return null==n||"boolean"===e?kL(n):("number"===e?CL:"string"===e?(r=qN(n))?(n=r,xL):UL:n instanceof qN?xL:n instanceof Date?FL:Array.isArray(n)?RL:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?DL:CL)(t,n)}var PL,WL,BL,$L,YL=180/Math.PI,qL={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zL(t,n,r,e,i,u){var o,a,s;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(s=t*r+n*e)&&(r-=t*s,e-=n*s),(a=Math.sqrt(r*r+e*e))&&(r/=a,e/=a,s/=a),t*e<n*r&&(t=-t,n=-n,s=-s,o=-o),{translateX:i,translateY:u,rotate:Math.atan2(n,t)*YL,skewX:Math.atan(s)*YL,scaleX:o,scaleY:a}}function VL(t,n,r,e){function i(t){return t.length?t.pop()+" ":""}return function(u,o){var a=[],s=[];return u=t(u),o=t(o),function(t,e,i,u,o,a){if(t!==i||e!==u){var s=o.push("translate(",null,n,null,r);a.push({i:s-4,x:CL(t,i)},{i:s-2,x:CL(e,u)})}else(i||u)&&o.push("translate("+i+n+u+r)}(u.translateX,u.translateY,o.translateX,o.translateY,a,s),function(t,n,r,u){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),u.push({i:r.push(i(r)+"rotate(",null,e)-2,x:CL(t,n)})):n&&r.push(i(r)+"rotate("+n+e)}(u.rotate,o.rotate,a,s),function(t,n,r,u){t!==n?u.push({i:r.push(i(r)+"skewX(",null,e)-2,x:CL(t,n)}):n&&r.push(i(r)+"skewX("+n+e)}(u.skewX,o.skewX,a,s),function(t,n,r,e,u,o){if(t!==r||n!==e){var a=u.push(i(u)+"scale(",null,",",null,")");o.push({i:a-4,x:CL(t,r)},{i:a-2,x:CL(n,e)})}else 1===r&&1===e||u.push(i(u)+"scale("+r+","+e+")")}(u.scaleX,u.scaleY,o.scaleX,o.scaleY,a,s),u=o=null,function(t){for(var n,r=-1,e=s.length;++r<e;)a[(n=s[r]).i]=n.x(t);return a.join("")}}}var GL=VL((function(t){return"none"===t?qL:(PL||(PL=document.createElement("DIV"),WL=document.documentElement,BL=document.defaultView),PL.style.transform=t,t=BL.getComputedStyle(WL.appendChild(PL),null).getPropertyValue("transform"),WL.removeChild(PL),zL(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),ZL=VL((function(t){return null==t?qL:($L||($L=document.createElementNS("http://www.w3.org/2000/svg","g")),$L.setAttribute("transform",t),(t=$L.transform.baseVal.consolidate())?zL((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):qL)}),", ",")",")"),XL=Math.SQRT2;function KL(t){return((t=Math.exp(t))+1/t)/2}function JL(t){return function(n,r){var e=t((n=rL(n)).h,(r=rL(r)).h),i=TL(n.s,r.s),u=TL(n.l,r.l),o=TL(n.opacity,r.opacity);return function(t){return n.h=e(t),n.s=i(t),n.l=u(t),n.opacity=o(t),n+""}}}var QL=JL(AL),tk=JL(TL);function nk(t){return function(n,r){var e=t((n=pL(n)).h,(r=pL(r)).h),i=TL(n.c,r.c),u=TL(n.l,r.l),o=TL(n.opacity,r.opacity);return function(t){return n.h=e(t),n.c=i(t),n.l=u(t),n.opacity=o(t),n+""}}}var rk=nk(AL),ek=nk(TL);function ik(t){return function n(r){function e(n,e){var i=t((n=yL(n)).h,(e=yL(e)).h),u=TL(n.s,e.s),o=TL(n.l,e.l),a=TL(n.opacity,e.opacity);return function(t){return n.h=i(t),n.s=u(t),n.l=o(Math.pow(t,r)),n.opacity=a(t),n+""}}return r=+r,e.gamma=n,e}(1)}var uk=ik(AL),ok=ik(TL),ak=Math.PI,sk=2*ak,ck=sk-1e-6;function fk(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function hk(){return new fk}function lk(t,n,r){return(n[0]-t[0])*(r[1]-t[1])-(n[1]-t[1])*(r[0]-t[0])}function dk(t,n){return t[0]-n[0]||t[1]-n[1]}function vk(t){for(var n=t.length,r=[0,1],e=2,i=2;i<n;++i){for(;e>1&&lk(t[r[e-2]],t[r[e-1]],t[i])<=0;)--e;r[e++]=i}return r.slice(0,e)}function pk(t,n,r,e){if(isNaN(n)||isNaN(r))return t;var i,u,o,a,s,c,f,h,l,d=t._root,v={data:e},p=t._x0,b=t._y0,w=t._x1,m=t._y1;if(!d)return t._root=v,t;for(;d.length;)if((c=n>=(u=(p+w)/2))?p=u:w=u,(f=r>=(o=(b+m)/2))?b=o:m=o,i=d,!(d=d[h=f<<1|c]))return i[h]=v,t;if(a=+t._x.call(null,d.data),s=+t._y.call(null,d.data),n===a&&r===s)return v.next=d,i?i[h]=v:t._root=v,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=n>=(u=(p+w)/2))?p=u:w=u,(f=r>=(o=(b+m)/2))?b=o:m=o}while((h=f<<1|c)==(l=(s>=o)<<1|a>=u));return i[l]=d,i[h]=v,t}function bk(t,n,r,e,i){this.node=t,this.x0=n,this.y0=r,this.x1=e,this.y1=i}function wk(t){return t[0]}function mk(t){return t[1]}function yk(t,n,r){var e=new gk(null==n?wk:n,null==r?mk:r,NaN,NaN,NaN,NaN);return null==t?e:e.addAll(t)}function gk(t,n,r,e,i,u){this._x=t,this._y=n,this._x0=r,this._y0=e,this._x1=i,this._y1=u,this._root=void 0}function Mk(t){for(var n={data:t.data},r=n;t=t.next;)r=r.next={data:t.data};return n}fk.prototype=hk.prototype={constructor:fk,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,r,e){this._+="Q"+ +t+","+ +n+","+(this._x1=+r)+","+(this._y1=+e)},bezierCurveTo:function(t,n,r,e,i,u){this._+="C"+ +t+","+ +n+","+ +r+","+ +e+","+(this._x1=+i)+","+(this._y1=+u)},arcTo:function(t,n,r,e,i){var u=this._x1,o=this._y1,a=(r=+r)-(t=+t),s=(e=+e)-(n=+n),c=u-t,f=o-n,h=c*c+f*f;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>1e-6)if(Math.abs(f*a-s*c)>1e-6&&i){var l=r-u,d=e-o,v=a*a+s*s,p=l*l+d*d,b=Math.sqrt(v),w=Math.sqrt(h),m=i*Math.tan((ak-Math.acos((v+h-p)/(2*b*w)))/2),y=m/w,g=m/b;Math.abs(y-1)>1e-6&&(this._+="L"+(t+y*c)+","+(n+y*f)),this._+="A"+i+","+i+",0,0,"+ +(f*l>c*d)+","+(this._x1=t+g*a)+","+(this._y1=n+g*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n)},arc:function(t,n,r,e,i,u){t=+t,n=+n;var o=(r=+r)*Math.cos(e),a=r*Math.sin(e),s=t+o,c=n+a,f=1^u,h=u?e-i:i-e;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+s+","+c),r&&(h<0&&(h=h%sk+sk),h>ck?this._+="A"+r+","+r+",0,1,"+f+","+(t-o)+","+(n-a)+"A"+r+","+r+",0,1,"+f+","+(this._x1=s)+","+(this._y1=c):h>1e-6&&(this._+="A"+r+","+r+",0,"+ +(h>=ak)+","+f+","+(this._x1=t+r*Math.cos(i))+","+(this._y1=n+r*Math.sin(i))))},rect:function(t,n,r,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +r+"v"+ +e+"h"+-r+"Z"},toString:function(){return this._}};var Nk=yk.prototype=gk.prototype;Nk.copy=function(){var t,n,r=new gk(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root;if(!e)return r;if(!e.length)return r._root=Mk(e),r;for(t=[{source:e,target:r._root=new Array(4)}];e=t.pop();)for(var i=0;i<4;++i)(n=e.source[i])&&(n.length?t.push({source:n,target:e.target[i]=new Array(4)}):e.target[i]=Mk(n));return r},Nk.add=function(t){var n=+this._x.call(null,t),r=+this._y.call(null,t);return pk(this.cover(n,r),n,r,t)},Nk.addAll=function(t){var n,r,e,i,u=t.length,o=new Array(u),a=new Array(u),s=1/0,c=1/0,f=-1/0,h=-1/0;for(r=0;r<u;++r)isNaN(e=+this._x.call(null,n=t[r]))||isNaN(i=+this._y.call(null,n))||(o[r]=e,a[r]=i,e<s&&(s=e),e>f&&(f=e),i<c&&(c=i),i>h&&(h=i));for(f<s&&(s=this._x0,f=this._x1),h<c&&(c=this._y0,h=this._y1),this.cover(s,c).cover(f,h),r=0;r<u;++r)pk(this,o[r],a[r],t[r]);return this},Nk.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,e=this._y0,i=this._x1,u=this._y1;if(isNaN(r))i=(r=Math.floor(t))+1,u=(e=Math.floor(n))+1;else{if(!(r>t||t>i||e>n||n>u))return this;var o,a,s=i-r,c=this._root;switch(a=(n<(e+u)/2)<<1|t<(r+i)/2){case 0:do{(o=new Array(4))[a]=c,c=o}while(u=e+(s*=2),t>(i=r+s)||n>u);break;case 1:do{(o=new Array(4))[a]=c,c=o}while(u=e+(s*=2),(r=i-s)>t||n>u);break;case 2:do{(o=new Array(4))[a]=c,c=o}while(e=u-(s*=2),t>(i=r+s)||e>n);break;case 3:do{(o=new Array(4))[a]=c,c=o}while(e=u-(s*=2),(r=i-s)>t||e>n)}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=e,this._x1=i,this._y1=u,this},Nk.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},Nk.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Nk.find=function(t,n,r){var e,i,u,o,a,s,c,f=this._x0,h=this._y0,l=this._x1,d=this._y1,v=[],p=this._root;for(p&&v.push(new bk(p,f,h,l,d)),null==r?r=1/0:(f=t-r,h=n-r,l=t+r,d=n+r,r*=r);s=v.pop();)if(!(!(p=s.node)||(i=s.x0)>l||(u=s.y0)>d||(o=s.x1)<f||(a=s.y1)<h))if(p.length){var b=(i+o)/2,w=(u+a)/2;v.push(new bk(p[3],b,w,o,a),new bk(p[2],i,w,b,a),new bk(p[1],b,u,o,w),new bk(p[0],i,u,b,w)),(c=(n>=w)<<1|t>=b)&&(s=v[v.length-1],v[v.length-1]=v[v.length-1-c],v[v.length-1-c]=s)}else{var m=t-+this._x.call(null,p.data),y=n-+this._y.call(null,p.data),g=m*m+y*y;if(g<r){var M=Math.sqrt(r=g);f=t-M,h=n-M,l=t+M,d=n+M,e=p.data}}return e},Nk.remove=function(t){if(isNaN(u=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var n,r,e,i,u,o,a,s,c,f,h,l,d=this._root,v=this._x0,p=this._y0,b=this._x1,w=this._y1;if(!d)return this;if(d.length)for(;;){if((c=u>=(a=(v+b)/2))?v=a:b=a,(f=o>=(s=(p+w)/2))?p=s:w=s,n=d,!(d=d[h=f<<1|c]))return this;if(!d.length)break;(n[h+1&3]||n[h+2&3]||n[h+3&3])&&(r=n,l=h)}for(;d.data!==t;)if(e=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,e?(i?e.next=i:delete e.next,this):n?(i?n[h]=i:delete n[h],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(r?r[l]=d:this._root=d),this):(this._root=i,this)},Nk.removeAll=function(t){for(var n=0,r=t.length;n<r;++n)this.remove(t[n]);return this},Nk.root=function(){return this._root},Nk.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},Nk.visit=function(t){var n,r,e,i,u,o,a=[],s=this._root;for(s&&a.push(new bk(s,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(s=n.node,e=n.x0,i=n.y0,u=n.x1,o=n.y1)&&s.length){var c=(e+u)/2,f=(i+o)/2;(r=s[3])&&a.push(new bk(r,c,f,u,o)),(r=s[2])&&a.push(new bk(r,e,f,c,o)),(r=s[1])&&a.push(new bk(r,c,i,u,f)),(r=s[0])&&a.push(new bk(r,e,i,c,f))}return this},Nk.visitAfter=function(t){var n,r=[],e=[];for(this._root&&r.push(new bk(this._root,this._x0,this._y0,this._x1,this._y1));n=r.pop();){var i=n.node;if(i.length){var u,o=n.x0,a=n.y0,s=n.x1,c=n.y1,f=(o+s)/2,h=(a+c)/2;(u=i[0])&&r.push(new bk(u,o,a,f,h)),(u=i[1])&&r.push(new bk(u,f,a,s,h)),(u=i[2])&&r.push(new bk(u,o,h,f,c)),(u=i[3])&&r.push(new bk(u,f,h,s,c))}e.push(n)}for(;n=e.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Nk.x=function(t){return arguments.length?(this._x=t,this):this._x},Nk.y=function(t){return arguments.length?(this._y=t,this):this._y};var Lk=[].slice,kk={};function Ek(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function Ak(t){if(!t._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var n=t._ended+t._active,r=t._tasks[n],e=r.length-1,i=r[e];r[e]=Tk(t,n),--t._waiting,++t._active,r=i.apply(null,r),t._tasks[n]&&(t._tasks[n]=r||kk)}}(t)}catch(n){if(t._tasks[t._ended+t._active-1])xk(t,n);else if(!t._data)throw n}}function Tk(t,n){return function(r,e){t._tasks[n]&&(--t._active,++t._ended,t._tasks[n]=null,null==t._error&&(null!=r?xk(t,r):(t._data[n]=e,t._waiting?Ak(t):Sk(t))))}}function xk(t,n){var r,e=t._tasks.length;for(t._error=n,t._data=void 0,t._waiting=NaN;--e>=0;)if((r=t._tasks[e])&&(t._tasks[e]=null,r.abort))try{r.abort()}catch(n){}t._active=NaN,Sk(t)}function Sk(t){if(!t._active&&t._call){var n=t._data;t._data=void 0,t._call(t._error,n)}}function Ok(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new Ek(t)}function Ik(){return Math.random()}Ek.prototype=Ok.prototype={constructor:Ek,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var n=Lk.call(arguments,1);return n.push(t),++this._waiting,this._tasks.push(n),Ak(this),this},abort:function(){return null==this._error&&xk(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(n,r){t.apply(null,[n].concat(r))},Sk(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,Sk(this),this}};var Rk=function t(n){function r(t,r){return t=null==t?0:+t,r=null==r?1:+r,1===arguments.length?(r=t,t=0):r-=t,function(){return n()*r+t}}return r.source=t,r}(Ik),Fk=function t(n){function r(t,r){var e,i;return t=null==t?0:+t,r=null==r?1:+r,function(){var u;if(null!=e)u=e,e=null;else do{e=2*n()-1,u=2*n()-1,i=e*e+u*u}while(!i||i>1);return t+r*u*Math.sqrt(-2*Math.log(i)/i)}}return r.source=t,r}(Ik),Ck=function t(n){function r(){var t=Fk.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return r.source=t,r}(Ik),Dk=function t(n){function r(t){return function(){for(var r=0,e=0;e<t;++e)r+=n();return r}}return r.source=t,r}(Ik),Hk=function t(n){function r(t){var r=Dk.source(n)(t);return function(){return r()/t}}return r.source=t,r}(Ik),jk=function t(n){function r(t){return function(){return-Math.log(1-n())/t}}return r.source=t,r}(Ik);function Uk(t,n){var r,e,i,u,o=Xe("beforesend","progress","load","error"),a=Aa(),s=new XMLHttpRequest,c=null,f=null,h=0;function l(t){var n,e=s.status;if(!e&&function(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}(s)||e>=200&&e<300||304===e){if(i)try{n=i.call(r,s)}catch(u){return void o.call("error",r,u)}else n=s;o.call("load",r,n)}else o.call("error",r,t)}if("undefined"==typeof XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=s.ontimeout=l:s.onreadystatechange=function(t){s.readyState>3&&l(t)},s.onprogress=function(t){o.call("progress",r,t)},r={header:function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?a.get(t):(null==n?a.remove(t):a.set(t,n+""),r)},mimeType:function(t){return arguments.length?(e=null==t?null:t+"",r):e},responseType:function(t){return arguments.length?(u=t,r):u},timeout:function(t){return arguments.length?(h=+t,r):h},user:function(t){return arguments.length<1?c:(c=null==t?null:t+"",r)},password:function(t){return arguments.length<1?f:(f=null==t?null:t+"",r)},response:function(t){return i=t,r},get:function(t,n){return r.send("GET",t,n)},post:function(t,n){return r.send("POST",t,n)},send:function(n,i,l){return s.open(n,t,!0,c,f),null==e||a.has("accept")||a.set("accept",e+",*/*"),s.setRequestHeader&&a.each((function(t,n){s.setRequestHeader(n,t)})),null!=e&&s.overrideMimeType&&s.overrideMimeType(e),null!=u&&(s.responseType=u),h>0&&(s.timeout=h),null==l&&"function"==typeof i&&(l=i,i=null),null!=l&&1===l.length&&(l=function(t){return function(n,r){t(null==n?r:null)}}(l)),null!=l&&r.on("error",l).on("load",(function(t){l(null,t)})),o.call("beforesend",r,s),s.send(null==i?null:i),r},abort:function(){return s.abort(),r},on:function(){var t=o.on.apply(o,arguments);return t===o?r:t}},null!=n){if("function"!=typeof n)throw new Error("invalid callback: "+n);return r.get(n)}return r}function _k(t,n){return function(r,e){var i=Uk(r).mimeType(t).response(n);if(null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return i.get(e)}return i}}var Pk=_k("text/html",(function(t){return document.createRange().createContextualFragment(t.responseText)})),Wk=_k("application/json",(function(t){return JSON.parse(t.responseText)})),Bk=_k("text/plain",(function(t){return t.responseText})),$k=_k("application/xml",(function(t){var n=t.responseXML;if(!n)throw new Error("parse error");return n})),Yk={},qk={};function zk(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function Vk(t){var n=Object.create(null),r=[];return t.forEach((function(t){for(var e in t)e in n||r.push(n[e]=e)})),r}function Gk(t,n){var r=t+"",e=r.length;return e<n?new Array(n-e+1).join(0)+r:r}function Zk(t){var n=new RegExp('["'+t+"\n\r]"),r=t.charCodeAt(0);function e(t,n){var e,i=[],u=t.length,o=0,a=0,s=u<=0,c=!1;function f(){if(s)return qk;if(c)return c=!1,Yk;var n,e,i=o;if(34===t.charCodeAt(i)){for(;o++<u&&34!==t.charCodeAt(o)||34===t.charCodeAt(++o););return(n=o)>=u?s=!0:10===(e=t.charCodeAt(o++))?c=!0:13===e&&(c=!0,10===t.charCodeAt(o)&&++o),t.slice(i+1,n-1).replace(/""/g,'"')}for(;o<u;){if(10===(e=t.charCodeAt(n=o++)))c=!0;else if(13===e)c=!0,10===t.charCodeAt(o)&&++o;else if(e!==r)continue;return t.slice(i,n)}return s=!0,t.slice(i,u)}for(10===t.charCodeAt(u-1)&&--u,13===t.charCodeAt(u-1)&&--u;(e=f())!==qk;){for(var h=[];e!==Yk&&e!==qk;)h.push(e),e=f();n&&null==(h=n(h,a++))||i.push(h)}return i}function i(n,r){return n.map((function(n){return r.map((function(t){return o(n[t])})).join(t)}))}function u(n){return n.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?function(t){var n=t.getUTCHours(),r=t.getUTCMinutes(),e=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+Gk(-t,6):t>9999?"+"+Gk(t,6):Gk(t,4)}(t.getUTCFullYear())+"-"+Gk(t.getUTCMonth()+1,2)+"-"+Gk(t.getUTCDate(),2)+(i?"T"+Gk(n,2)+":"+Gk(r,2)+":"+Gk(e,2)+"."+Gk(i,3)+"Z":e?"T"+Gk(n,2)+":"+Gk(r,2)+":"+Gk(e,2)+"Z":r||n?"T"+Gk(n,2)+":"+Gk(r,2)+"Z":"")}(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var r,i,u=e(t,(function(t,e){if(r)return r(t,e-1);i=t,r=n?function(t,n){var r=zk(t);return function(e,i){return n(r(e),i,t)}}(t,n):zk(t)}));return u.columns=i||[],u},parseRows:e,format:function(n,r){return null==r&&(r=Vk(n)),[r.map(o).join(t)].concat(i(n,r)).join("\n")},formatBody:function(t,n){return null==n&&(n=Vk(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(u).join("\n")},formatRow:u,formatValue:o}}var Xk=Zk(",").parse,Kk=Zk("\t").parse;function Jk(t,n){return function(r,e,i){arguments.length<3&&(i=e,e=null);var u=Uk(r).mimeType(t);return u.row=function(t){return arguments.length?u.response(Qk(n,e=t)):e},u.row(e),i?u.get(i):u}}function Qk(t,n){return function(r){return t(r.responseText,n)}}new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var tE=Jk("text/csv",Xk),nE=Jk("text/tab-separated-values",Kk);function rE(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function eE(t){return 1===t.length&&(t=function(t){return function(n,r){return rE(t(n),r)}}(t)),{left:function(n,r,e,i){for(null==e&&(e=0),null==i&&(i=n.length);e<i;){var u=e+i>>>1;t(n[u],r)<0?e=u+1:i=u}return e},right:function(n,r,e,i){for(null==e&&(e=0),null==i&&(i=n.length);e<i;){var u=e+i>>>1;t(n[u],r)>0?i=u:e=u+1}return e}}}var iE=eE(rE).right;function uE(t){return null===t?NaN:+t}var oE=Math.sqrt(50),aE=Math.sqrt(10),sE=Math.sqrt(2);function cE(t,n,r){var e,i,u,o,a=-1;if(r=+r,(t=+t)==(n=+n)&&r>0)return[t];if((e=n<t)&&(i=t,t=n,n=i),0===(o=fE(t,n,r))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),n=Math.floor(n/o),u=new Array(i=Math.ceil(n-t+1));++a<i;)u[a]=(t+a)*o;else for(t=Math.floor(t*o),n=Math.ceil(n*o),u=new Array(i=Math.ceil(t-n+1));++a<i;)u[a]=(t-a)/o;return e&&u.reverse(),u}function fE(t,n,r){var e=(n-t)/Math.max(0,r),i=Math.floor(Math.log(e)/Math.LN10),u=e/Math.pow(10,i);return i>=0?(u>=oE?10:u>=aE?5:u>=sE?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(u>=oE?10:u>=aE?5:u>=sE?2:1)}function hE(t,n,r){var e=Math.abs(n-t)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),u=e/i;return u>=oE?i*=10:u>=aE?i*=5:u>=sE&&(i*=2),n<t?-i:i}function lE(t,n,r){if(null==r&&(r=uE),e=t.length){if((n=+n)<=0||e<2)return+r(t[0],0,t);if(n>=1)return+r(t[e-1],e-1,t);var e,i=(e-1)*n,u=Math.floor(i),o=+r(t[u],u,t);return o+(+r(t[u+1],u+1,t)-o)*(i-u)}}function dE(){}function vE(t,n){var r=new dE;if(t instanceof dE)t.each((function(t,n){r.set(n,t)}));else if(Array.isArray(t)){var e,i=-1,u=t.length;if(null==n)for(;++i<u;)r.set(i,t[i]);else for(;++i<u;)r.set(n(e=t[i],i,t),e)}else if(t)for(var o in t)r.set(o,t[o]);return r}dE.prototype=vE.prototype={constructor:dE,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var pE=Array.prototype,bE=pE.map,wE=pE.slice,mE={name:"implicit"};function yE(t){var n=vE(),r=[],e=mE;function i(i){var u=i+"",o=n.get(u);if(!o){if(e!==mE)return e;n.set(u,o=r.push(i))}return t[(o-1)%t.length]}return t=null==t?[]:wE.call(t),i.domain=function(t){if(!arguments.length)return r.slice();r=[],n=vE();for(var e,u,o=-1,a=t.length;++o<a;)n.has(u=(e=t[o])+"")||n.set(u,r.push(e));return i},i.range=function(n){return arguments.length?(t=wE.call(n),i):t.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return yE().domain(r).range(t).unknown(e)},i}function gE(){var t,n,r=yE().unknown(void 0),e=r.domain,i=r.range,u=[0,1],o=!1,a=0,s=0,c=.5;function f(){var r=e().length,f=u[1]<u[0],h=u[f-0],l=u[1-f];t=(l-h)/Math.max(1,r-a+2*s),o&&(t=Math.floor(t)),h+=(l-h-t*(r-a))*c,n=t*(1-a),o&&(h=Math.round(h),n=Math.round(n));var d=function(t,n,r){t=+t,n=+n,r=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+r;for(var e=-1,i=0|Math.max(0,Math.ceil((n-t)/r)),u=new Array(i);++e<i;)u[e]=t+e*r;return u}(r).map((function(n){return h+t*n}));return i(f?d.reverse():d)}return delete r.unknown,r.domain=function(t){return arguments.length?(e(t),f()):e()},r.range=function(t){return arguments.length?(u=[+t[0],+t[1]],f()):u.slice()},r.rangeRound=function(t){return u=[+t[0],+t[1]],o=!0,f()},r.bandwidth=function(){return n},r.step=function(){return t},r.round=function(t){return arguments.length?(o=!!t,f()):o},r.padding=function(t){return arguments.length?(a=s=Math.max(0,Math.min(1,t)),f()):a},r.paddingInner=function(t){return arguments.length?(a=Math.max(0,Math.min(1,t)),f()):a},r.paddingOuter=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),f()):s},r.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),f()):c},r.copy=function(){return gE().domain(e()).range(u).round(o).paddingInner(a).paddingOuter(s).align(c)},f()}function ME(t,n,r){t.prototype=n.prototype=r,r.constructor=t}function NE(t,n){var r=Object.create(t.prototype);for(var e in n)r[e]=n[e];return r}function LE(){}var kE="\\s*([+-]?\\d+)\\s*",EE="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",AE="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TE=/^#([0-9a-f]{3,8})$/,xE=new RegExp("^rgb\\("+[kE,kE,kE]+"\\)$"),SE=new RegExp("^rgb\\("+[AE,AE,AE]+"\\)$"),OE=new RegExp("^rgba\\("+[kE,kE,kE,EE]+"\\)$"),IE=new RegExp("^rgba\\("+[AE,AE,AE,EE]+"\\)$"),RE=new RegExp("^hsl\\("+[EE,AE,AE]+"\\)$"),FE=new RegExp("^hsla\\("+[EE,AE,AE,EE]+"\\)$"),CE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function DE(){return this.rgb().formatHex()}function HE(){return this.rgb().formatRgb()}function jE(t){var n,r;return t=(t+"").trim().toLowerCase(),(n=TE.exec(t))?(r=n[1].length,n=parseInt(n[1],16),6===r?UE(n):3===r?new BE(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===r?_E(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===r?_E(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=xE.exec(t))?new BE(n[1],n[2],n[3],1):(n=SE.exec(t))?new BE(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=OE.exec(t))?_E(n[1],n[2],n[3],n[4]):(n=IE.exec(t))?_E(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=RE.exec(t))?zE(n[1],n[2]/100,n[3]/100,1):(n=FE.exec(t))?zE(n[1],n[2]/100,n[3]/100,n[4]):CE.hasOwnProperty(t)?UE(CE[t]):"transparent"===t?new BE(NaN,NaN,NaN,0):null}function UE(t){return new BE(t>>16&255,t>>8&255,255&t,1)}function _E(t,n,r,e){return e<=0&&(t=n=r=NaN),new BE(t,n,r,e)}function PE(t){return t instanceof LE||(t=jE(t)),t?new BE((t=t.rgb()).r,t.g,t.b,t.opacity):new BE}function WE(t,n,r,e){return 1===arguments.length?PE(t):new BE(t,n,r,null==e?1:e)}function BE(t,n,r,e){this.r=+t,this.g=+n,this.b=+r,this.opacity=+e}function $E(){return"#"+qE(this.r)+qE(this.g)+qE(this.b)}function YE(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function qE(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function zE(t,n,r,e){return e<=0?t=n=r=NaN:r<=0||r>=1?t=n=NaN:n<=0&&(t=NaN),new GE(t,n,r,e)}function VE(t){if(t instanceof GE)return new GE(t.h,t.s,t.l,t.opacity);if(t instanceof LE||(t=jE(t)),!t)return new GE;if(t instanceof GE)return t;var n=(t=t.rgb()).r/255,r=t.g/255,e=t.b/255,i=Math.min(n,r,e),u=Math.max(n,r,e),o=NaN,a=u-i,s=(u+i)/2;return a?(o=n===u?(r-e)/a+6*(r<e):r===u?(e-n)/a+2:(n-r)/a+4,a/=s<.5?u+i:2-u-i,o*=60):a=s>0&&s<1?0:o,new GE(o,a,s,t.opacity)}function GE(t,n,r,e){this.h=+t,this.s=+n,this.l=+r,this.opacity=+e}function ZE(t,n,r){return 255*(t<60?n+(r-n)*t/60:t<180?r:t<240?n+(r-n)*(240-t)/60:n)}ME(LE,jE,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:DE,formatHex:DE,formatHsl:function(){return VE(this).formatHsl()},formatRgb:HE,toString:HE}),ME(BE,WE,NE(LE,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new BE(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new BE(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$E,formatHex:$E,formatRgb:YE,toString:YE})),ME(GE,(function(t,n,r,e){return 1===arguments.length?VE(t):new GE(t,n,r,null==e?1:e)}),NE(LE,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new GE(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new GE(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,e=r+(r<.5?r:1-r)*n,i=2*r-e;return new BE(ZE(t>=240?t-240:t+120,i,e),ZE(t,i,e),ZE(t<120?t+240:t-120,i,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var XE=Math.PI/180,KE=180/Math.PI;function JE(t){if(t instanceof QE)return new QE(t.l,t.a,t.b,t.opacity);if(t instanceof uA)return oA(t);t instanceof BE||(t=PE(t));var n,r,e=eA(t.r),i=eA(t.g),u=eA(t.b),o=tA((.2225045*e+.7168786*i+.0606169*u)/1);return e===i&&i===u?n=r=o:(n=tA((.4360747*e+.3850649*i+.1430804*u)/.96422),r=tA((.0139322*e+.0971045*i+.7141733*u)/.82521)),new QE(116*o-16,500*(n-o),200*(o-r),t.opacity)}function QE(t,n,r,e){this.l=+t,this.a=+n,this.b=+r,this.opacity=+e}function tA(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/(6/29*3*(6/29))+4/29}function nA(t){return t>6/29?t*t*t:6/29*3*(6/29)*(t-4/29)}function rA(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function eA(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function iA(t){if(t instanceof uA)return new uA(t.h,t.c,t.l,t.opacity);if(t instanceof QE||(t=JE(t)),0===t.a&&0===t.b)return new uA(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*KE;return new uA(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function uA(t,n,r,e){this.h=+t,this.c=+n,this.l=+r,this.opacity=+e}function oA(t){if(isNaN(t.h))return new QE(t.l,0,0,t.opacity);var n=t.h*XE;return new QE(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}function aA(t){if(t instanceof cA)return new cA(t.h,t.s,t.l,t.opacity);t instanceof BE||(t=PE(t));var n=t.g/255,r=t.b/255,e=(-.6557636667999999*r+t.r/255*-1.7884503806-3.5172982438*n)/-5.9615122912,i=r-e,u=(1.97294*(n-e)- -.29227*i)/-.90649,o=Math.sqrt(u*u+i*i)/(1.97294*e*(1-e)),a=o?Math.atan2(u,i)*KE-120:NaN;return new cA(a<0?a+360:a,o,e,t.opacity)}function sA(t,n,r,e){return 1===arguments.length?aA(t):new cA(t,n,r,null==e?1:e)}function cA(t,n,r,e){this.h=+t,this.s=+n,this.l=+r,this.opacity=+e}function fA(t){return function(){return t}}function hA(t,n){return function(r){return t+r*n}}function lA(t,n){var r=n-t;return r?hA(t,r):fA(isNaN(t)?n:t)}ME(QE,(function(t,n,r,e){return 1===arguments.length?JE(t):new QE(t,n,r,null==e?1:e)}),NE(LE,{brighter:function(t){return new QE(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new QE(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return new BE(rA(3.1338561*(n=.96422*nA(n))-1.6168667*(t=1*nA(t))-.4906146*(r=.82521*nA(r))),rA(-.9787684*n+1.9161415*t+.033454*r),rA(.0719453*n-.2289914*t+1.4052427*r),this.opacity)}})),ME(uA,(function(t,n,r,e){return 1===arguments.length?iA(t):new uA(t,n,r,null==e?1:e)}),NE(LE,{brighter:function(t){return new uA(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new uA(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return oA(this).rgb()}})),ME(cA,sA,NE(LE,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new cA(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new cA(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*XE,n=+this.l,r=isNaN(this.s)?0:this.s*n*(1-n),e=Math.cos(t),i=Math.sin(t);return new BE(255*(n+r*(-.14861*e+1.78277*i)),255*(n+r*(-.29227*e+-.90649*i)),255*(n+r*(1.97294*e)),this.opacity)}}));var dA=function t(n){var r=function(t){return 1==(t=+t)?lA:function(n,r){return r-n?function(t,n,r){return t=Math.pow(t,r),n=Math.pow(n,r)-t,r=1/r,function(e){return Math.pow(t+e*n,r)}}(n,r,t):fA(isNaN(n)?r:n)}}(n);function e(t,n){var e=r((t=WE(t)).r,(n=WE(n)).r),i=r(t.g,n.g),u=r(t.b,n.b),o=lA(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=u(n),t.opacity=o(n),t+""}}return e.gamma=t,e}(1);function vA(t,n){n||(n=[]);var r,e=t?Math.min(n.length,t.length):0,i=n.slice();return function(u){for(r=0;r<e;++r)i[r]=t[r]*(1-u)+n[r]*u;return i}}function pA(t,n){var r,e=n?n.length:0,i=t?Math.min(e,t.length):0,u=new Array(i),o=new Array(e);for(r=0;r<i;++r)u[r]=NA(t[r],n[r]);for(;r<e;++r)o[r]=n[r];return function(t){for(r=0;r<i;++r)o[r]=u[r](t);return o}}function bA(t,n){var r=new Date;return t=+t,n=+n,function(e){return r.setTime(t*(1-e)+n*e),r}}function wA(t,n){return t=+t,n=+n,function(r){return t*(1-r)+n*r}}function mA(t,n){var r,e={},i={};for(r in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)r in t?e[r]=NA(t[r],n[r]):i[r]=n[r];return function(t){for(r in e)i[r]=e[r](t);return i}}var yA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gA=new RegExp(yA.source,"g");function MA(t,n){var r,e,i,u=yA.lastIndex=gA.lastIndex=0,o=-1,a=[],s=[];for(t+="",n+="";(r=yA.exec(t))&&(e=gA.exec(n));)(i=e.index)>u&&(i=n.slice(u,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(e=e[0])?a[o]?a[o]+=e:a[++o]=e:(a[++o]=null,s.push({i:o,x:wA(r,e)})),u=gA.lastIndex;return u<n.length&&(i=n.slice(u),a[o]?a[o]+=i:a[++o]=i),a.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var r,e=0;e<n;++e)a[(r=s[e]).i]=r.x(t);return a.join("")})}function NA(t,n){var r,e=typeof n;return null==n||"boolean"===e?fA(n):("number"===e?wA:"string"===e?(r=jE(n))?(n=r,dA):MA:n instanceof jE?dA:n instanceof Date?bA:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?vA:Array.isArray(n)?pA:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?mA:wA)(t,n)}function LA(t,n){return t=+t,n=+n,function(r){return Math.round(t*(1-r)+n*r)}}function kA(t){return function n(r){function e(n,e){var i=t((n=sA(n)).h,(e=sA(e)).h),u=lA(n.s,e.s),o=lA(n.l,e.l),a=lA(n.opacity,e.opacity);return function(t){return n.h=i(t),n.s=u(t),n.l=o(Math.pow(t,r)),n.opacity=a(t),n+""}}return r=+r,e.gamma=n,e}(1)}kA((function(t,n){var r=n-t;return r?hA(t,r>180||r<-180?r-360*Math.round(r/360):r):fA(isNaN(t)?n:t)}));var EA=kA(lA);function AA(t){return function(){return t}}function TA(t){return+t}var xA=[0,1];function SA(t,n){return(n-=t=+t)?function(r){return(r-t)/n}:AA(n)}function OA(t,n,r,e){var i=t[0],u=t[1],o=n[0],a=n[1];return u<i?(i=r(u,i),o=e(a,o)):(i=r(i,u),o=e(o,a)),function(t){return o(i(t))}}function IA(t,n,r,e){var i=Math.min(t.length,n.length)-1,u=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<i;)u[a]=r(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var r=iE(t,n,1,i)-1;return o[r](u[r](n))}}function RA(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function FA(t,n){var r,e,i,u=xA,o=xA,a=NA,s=!1;function c(){return r=Math.min(u.length,o.length)>2?IA:OA,e=i=null,f}function f(n){return(e||(e=r(u,o,s?function(t){return function(n,r){var e=t(n=+n,r=+r);return function(t){return t<=n?0:t>=r?1:e(t)}}}(t):t,a)))(+n)}return f.invert=function(t){return(i||(i=r(o,u,SA,s?function(t){return function(n,r){var e=t(n=+n,r=+r);return function(t){return t<=0?n:t>=1?r:e(t)}}}(n):n)))(+t)},f.domain=function(t){return arguments.length?(u=bE.call(t,TA),c()):u.slice()},f.range=function(t){return arguments.length?(o=wE.call(t),c()):o.slice()},f.rangeRound=function(t){return o=wE.call(t),a=LA,c()},f.clamp=function(t){return arguments.length?(s=!!t,c()):s},f.interpolate=function(t){return arguments.length?(a=t,c()):a},c()}function CA(t,n){if((r=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var r,e=t.slice(0,r);return[e.length>1?e[0]+e.slice(2):e,+t.slice(r+1)]}function DA(t){return(t=CA(Math.abs(t)))?t[1]:NaN}var HA,jA=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function UA(t){if(!(n=jA.exec(t)))throw new Error("invalid format: "+t);var n;return new _A({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function _A(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function PA(t,n){var r=CA(t,n);if(!r)return t+"";var e=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+e:e.length>i+1?e.slice(0,i+1)+"."+e.slice(i+1):e+new Array(i-e.length+2).join("0")}UA.prototype=_A.prototype,_A.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var WA={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return PA(100*t,n)},r:PA,s:function(t,n){var r=CA(t,n);if(!r)return t+"";var e=r[0],i=r[1],u=i-(HA=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=e.length;return u===o?e:u>o?e+new Array(u-o+1).join("0"):u>0?e.slice(0,u)+"."+e.slice(u):"0."+new Array(1-u).join("0")+CA(t,Math.max(0,n+u-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function BA(t){return t}var $A,YA,qA,zA=Array.prototype.map,VA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function GA(t){var n=t.domain;return t.ticks=function(t){var r=n();return cE(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,r){return function(t,n,r){var e,i=t[0],u=t[t.length-1],o=hE(i,u,null==n?10:n);switch((r=UA(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(i),Math.abs(u));return null!=r.precision||isNaN(e=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(DA(n)/3)))-DA(Math.abs(t)))}(o,a))||(r.precision=e),qA(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(e=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,DA(n)-DA(t))+1}(o,Math.max(Math.abs(i),Math.abs(u))))||(r.precision=e-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(e=function(t){return Math.max(0,-DA(Math.abs(t)))}(o))||(r.precision=e-2*("%"===r.type))}return YA(r)}(n(),t,r)},t.nice=function(r){null==r&&(r=10);var e,i=n(),u=0,o=i.length-1,a=i[u],s=i[o];return s<a&&(e=a,a=s,s=e,e=u,u=o,o=e),(e=fE(a,s,r))>0?e=fE(a=Math.floor(a/e)*e,s=Math.ceil(s/e)*e,r):e<0&&(e=fE(a=Math.ceil(a*e)/e,s=Math.floor(s*e)/e,r)),e>0?(i[u]=Math.floor(a/e)*e,i[o]=Math.ceil(s/e)*e,n(i)):e<0&&(i[u]=Math.ceil(a*e)/e,i[o]=Math.floor(s*e)/e,n(i)),t},t}function ZA(){var t=FA(SA,wA);return t.copy=function(){return RA(t,ZA())},GA(t)}function XA(t,n){var r,e=0,i=(t=t.slice()).length-1,u=t[e],o=t[i];return o<u&&(r=e,e=i,i=r,r=u,u=o,o=r),t[e]=n.floor(u),t[i]=n.ceil(o),t}function KA(t,n){return(n=Math.log(n/t))?function(r){return Math.log(r/t)/n}:AA(n)}function JA(t,n){return t<0?function(r){return-Math.pow(-n,r)*Math.pow(-t,1-r)}:function(r){return Math.pow(n,r)*Math.pow(t,1-r)}}function QA(t){return isFinite(t)?+("1e"+t):t<0?0:t}function tT(t){return 10===t?QA:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function nT(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function rT(t){return function(n){return-t(-n)}}function eT(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function iT(){var t=1,n=FA((function(n,r){return(r=eT(r,t)-(n=eT(n,t)))?function(e){return(eT(e,t)-n)/r}:AA(r)}),(function(n,r){return r=eT(r,t)-(n=eT(n,t)),function(e){return eT(n+r*e,1/t)}})),r=n.domain;return n.exponent=function(n){return arguments.length?(t=+n,r(r())):t},n.copy=function(){return RA(n,iT().exponent(t))},GA(n)}$A=function(t){var n,r,e=void 0===t.grouping||void 0===t.thousands?BA:(n=zA.call(t.grouping,Number),r=t.thousands+"",function(t,e){for(var i=t.length,u=[],o=0,a=n[0],s=0;i>0&&a>0&&(s+a+1>e&&(a=Math.max(1,e-s)),u.push(t.substring(i-=a,i+a)),!((s+=a+1)>e));)a=n[o=(o+1)%n.length];return u.reverse().join(r)}),i=void 0===t.currency?"":t.currency[0]+"",u=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?BA:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(zA.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",f=void 0===t.nan?"NaN":t.nan+"";function h(t){var n=(t=UA(t)).fill,r=t.align,h=t.sign,l=t.symbol,d=t.zero,v=t.width,p=t.comma,b=t.precision,w=t.trim,m=t.type;"n"===m?(p=!0,m="g"):WA[m]||(void 0===b&&(b=12),w=!0,m="g"),(d||"0"===n&&"="===r)&&(d=!0,n="0",r="=");var y="$"===l?i:"#"===l&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",g="$"===l?u:/[%p]/.test(m)?s:"",M=WA[m],N=/[defgprs%]/.test(m);function L(t){var i,u,s,l=y,L=g;if("c"===m)L=M(t)+L,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?f:M(Math.abs(t),b),w&&(t=function(t){t:for(var n,r=t.length,e=1,i=-1;e<r;++e)switch(t[e]){case".":i=n=e;break;case"0":0===i&&(i=e),n=e;break;default:if(!+t[e])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),k&&0==+t&&"+"!==h&&(k=!1),l=(k?"("===h?h:c:"-"===h||"("===h?"":h)+l,L=("s"===m?VA[8+HA/3]:"")+L+(k&&"("===h?")":""),N)for(i=-1,u=t.length;++i<u;)if(48>(s=t.charCodeAt(i))||s>57){L=(46===s?o+t.slice(i+1):t.slice(i))+L,t=t.slice(0,i);break}}p&&!d&&(t=e(t,1/0));var E=l.length+t.length+L.length,A=E<v?new Array(v-E+1).join(n):"";switch(p&&d&&(t=e(A+t,A.length?v-L.length:1/0),A=""),r){case"<":t=l+t+L+A;break;case"=":t=l+A+t+L;break;case"^":t=A.slice(0,E=A.length>>1)+l+t+L+A.slice(E);break;default:t=A+l+t+L}return a(t)}return b=void 0===b?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),L.toString=function(){return t+""},L}return{format:h,formatPrefix:function(t,n){var r=h(((t=UA(t)).type="f",t)),e=3*Math.max(-8,Math.min(8,Math.floor(DA(n)/3))),i=Math.pow(10,-e),u=VA[8+e/3];return function(t){return r(i*t)+u}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),YA=$A.format,qA=$A.formatPrefix;var uT=new Date,oT=new Date;function aT(t,n,r,e){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(r){return t(r=new Date(r-1)),n(r,1),t(r),r},i.round=function(t){var n=i(t),r=i.ceil(t);return t-n<r-t?n:r},i.offset=function(t,r){return n(t=new Date(+t),null==r?1:Math.floor(r)),t},i.range=function(r,e,u){var o,a=[];if(r=i.ceil(r),u=null==u?1:Math.floor(u),!(r<e&&u>0))return a;do{a.push(o=new Date(+r)),n(r,u),t(r)}while(o<r&&r<e);return a},i.filter=function(r){return aT((function(n){if(n>=n)for(;t(n),!r(n);)n.setTime(n-1)}),(function(t,e){if(t>=t)if(e<0)for(;++e<=0;)for(;n(t,-1),!r(t););else for(;--e>=0;)for(;n(t,1),!r(t););}))},r&&(i.count=function(n,e){return uT.setTime(+n),oT.setTime(+e),t(uT),t(oT),Math.floor(r(uT,oT))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(e?function(n){return e(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var sT=aT((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));sT.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?aT((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,r){n.setTime(+n+r*t)}),(function(n,r){return(r-n)/t})):sT:null};var cT=aT((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+1e3*n)}),(function(t,n){return(n-t)/1e3}),(function(t){return t.getUTCSeconds()})),fT=aT((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getMinutes()})),hT=aT((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getHours()})),lT=aT((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}));function dT(t){return aT((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var vT=dT(0),pT=dT(1),bT=(dT(2),dT(3),dT(4)),wT=(dT(5),dT(6),aT((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),mT=aT((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));mT.every=function(t){return isFinite(t=Math.floor(t))&&t>0?aT((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,r){n.setFullYear(n.getFullYear()+r*t)})):null};var yT=aT((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getUTCMinutes()})),gT=aT((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getUTCHours()})),MT=aT((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/864e5}),(function(t){return t.getUTCDate()-1}));function NT(t){return aT((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/6048e5}))}var LT=NT(0),kT=NT(1),ET=(NT(2),NT(3),NT(4)),AT=(NT(5),NT(6),aT((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}))),TT=aT((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function xT(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ST(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function OT(t,n,r){return{y:t,m:n,d:r,H:0,M:0,S:0,L:0}}TT.every=function(t){return isFinite(t=Math.floor(t))&&t>0?aT((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,r){n.setUTCFullYear(n.getUTCFullYear()+r*t)})):null};var IT,RT,FT,CT,DT={"-":"",_:" ",0:"0"},HT=/^\s*\d+/,jT=/^%/,UT=/[\\^$*+?|[\]().{}]/g;function _T(t,n,r){var e=t<0?"-":"",i=(e?-t:t)+"",u=i.length;return e+(u<r?new Array(r-u+1).join(n)+i:i)}function PT(t){return t.replace(UT,"\\$&")}function WT(t){return new RegExp("^(?:"+t.map(PT).join("|")+")","i")}function BT(t){for(var n={},r=-1,e=t.length;++r<e;)n[t[r].toLowerCase()]=r;return n}function $T(t,n,r){var e=HT.exec(n.slice(r,r+1));return e?(t.w=+e[0],r+e[0].length):-1}function YT(t,n,r){var e=HT.exec(n.slice(r,r+1));return e?(t.u=+e[0],r+e[0].length):-1}function qT(t,n,r){var e=HT.exec(n.slice(r,r+2));return e?(t.U=+e[0],r+e[0].length):-1}function zT(t,n,r){var e=HT.exec(n.slice(r,r+2));return e?(t.V=+e[0],r+e[0].length):-1}function VT(t,n,r){var e=HT.exec(n.slice(r,r+2));return e?(t.W=+e[0],r+e[0].length):-1}function GT(t,n,r){var e=HT.exec(n.slice(r,r+4));return e?(t.y=+e[0],r+e[0].length):-1}function ZT(t,n,r){var e=HT.exec(n.slice(r,r+2));return e?(t.y=+e[0]+(+e[0]>68?1900:2e3),r+e[0].length):-1}function XT(t,n,r){var e=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(r,r+6));return e?(t.Z=e[1]?0:-(e[2]+(e[3]||"00")),r+e[0].length):-1}function KT(t,n,r){var e=HT.exec(n.slice(r,r+1));return e?(t.q=3*e[0]-3,r+e[0].length):-1}function JT(t,n,r){var e=HT.exec(n.slice(r,r+2));return e?(t.m=e[0]-1,r+e[0].length):-1}function QT(t,n,r){var e=HT.exec(n.slice(r,r+2));return e?(t.d=+e[0],r+e[0].length):-1}function tx(t,n,r){var e=HT.exec(n.slice(r,r+3));return e?(t.m=0,t.d=+e[0],r+e[0].length):-1}function nx(t,n,r){var e=HT.exec(n.slice(r,r+2));return e?(t.H=+e[0],r+e[0].length):-1}function rx(t,n,r){var e=HT.exec(n.slice(r,r+2));return e?(t.M=+e[0],r+e[0].length):-1}function ex(t,n,r){var e=HT.exec(n.slice(r,r+2));return e?(t.S=+e[0],r+e[0].length):-1}function ix(t,n,r){var e=HT.exec(n.slice(r,r+3));return e?(t.L=+e[0],r+e[0].length):-1}function ux(t,n,r){var e=HT.exec(n.slice(r,r+6));return e?(t.L=Math.floor(e[0]/1e3),r+e[0].length):-1}function ox(t,n,r){var e=jT.exec(n.slice(r,r+1));return e?r+e[0].length:-1}function ax(t,n,r){var e=HT.exec(n.slice(r));return e?(t.Q=+e[0],r+e[0].length):-1}function sx(t,n,r){var e=HT.exec(n.slice(r));return e?(t.s=+e[0],r+e[0].length):-1}function cx(t,n){return _T(t.getDate(),n,2)}function fx(t,n){return _T(t.getHours(),n,2)}function hx(t,n){return _T(t.getHours()%12||12,n,2)}function lx(t,n){return _T(1+lT.count(mT(t),t),n,3)}function dx(t,n){return _T(t.getMilliseconds(),n,3)}function vx(t,n){return dx(t,n)+"000"}function px(t,n){return _T(t.getMonth()+1,n,2)}function bx(t,n){return _T(t.getMinutes(),n,2)}function wx(t,n){return _T(t.getSeconds(),n,2)}function mx(t){var n=t.getDay();return 0===n?7:n}function yx(t,n){return _T(vT.count(mT(t)-1,t),n,2)}function gx(t){var n=t.getDay();return n>=4||0===n?bT(t):bT.ceil(t)}function Mx(t,n){return t=gx(t),_T(bT.count(mT(t),t)+(4===mT(t).getDay()),n,2)}function Nx(t){return t.getDay()}function Lx(t,n){return _T(pT.count(mT(t)-1,t),n,2)}function kx(t,n){return _T(t.getFullYear()%100,n,2)}function Ex(t,n){return _T((t=gx(t)).getFullYear()%100,n,2)}function Ax(t,n){return _T(t.getFullYear()%1e4,n,4)}function Tx(t,n){var r=t.getDay();return _T((t=r>=4||0===r?bT(t):bT.ceil(t)).getFullYear()%1e4,n,4)}function xx(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+_T(n/60|0,"0",2)+_T(n%60,"0",2)}function Sx(t,n){return _T(t.getUTCDate(),n,2)}function Ox(t,n){return _T(t.getUTCHours(),n,2)}function Ix(t,n){return _T(t.getUTCHours()%12||12,n,2)}function Rx(t,n){return _T(1+MT.count(TT(t),t),n,3)}function Fx(t,n){return _T(t.getUTCMilliseconds(),n,3)}function Cx(t,n){return Fx(t,n)+"000"}function Dx(t,n){return _T(t.getUTCMonth()+1,n,2)}function Hx(t,n){return _T(t.getUTCMinutes(),n,2)}function jx(t,n){return _T(t.getUTCSeconds(),n,2)}function Ux(t){var n=t.getUTCDay();return 0===n?7:n}function _x(t,n){return _T(LT.count(TT(t)-1,t),n,2)}function Px(t){var n=t.getUTCDay();return n>=4||0===n?ET(t):ET.ceil(t)}function Wx(t,n){return t=Px(t),_T(ET.count(TT(t),t)+(4===TT(t).getUTCDay()),n,2)}function Bx(t){return t.getUTCDay()}function $x(t,n){return _T(kT.count(TT(t)-1,t),n,2)}function Yx(t,n){return _T(t.getUTCFullYear()%100,n,2)}function qx(t,n){return _T((t=Px(t)).getUTCFullYear()%100,n,2)}function zx(t,n){return _T(t.getUTCFullYear()%1e4,n,4)}function Vx(t,n){var r=t.getUTCDay();return _T((t=r>=4||0===r?ET(t):ET.ceil(t)).getUTCFullYear()%1e4,n,4)}function Gx(){return"+0000"}function Zx(){return"%"}function Xx(t){return+t}function Kx(t){return Math.floor(+t/1e3)}function Jx(t){return new Date(t)}function Qx(t){return t instanceof Date?+t:+new Date(+t)}function tS(t,n,r,e,i,u,o,a,s){var c=FA(SA,wA),f=c.invert,h=c.domain,l=s(".%L"),d=s(":%S"),v=s("%I:%M"),p=s("%I %p"),b=s("%a %d"),w=s("%b %d"),m=s("%B"),y=s("%Y"),g=[[o,1,1e3],[o,5,5e3],[o,15,15e3],[o,30,3e4],[u,1,6e4],[u,5,3e5],[u,15,9e5],[u,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[e,1,864e5],[e,2,1728e5],[r,1,6048e5],[n,1,2592e6],[n,3,7776e6],[t,1,31536e6]];function M(a){return(o(a)<a?l:u(a)<a?d:i(a)<a?v:e(a)<a?p:n(a)<a?r(a)<a?b:w:t(a)<a?m:y)(a)}function N(n,r,e,i){if(null==n&&(n=10),"number"==typeof n){var u=Math.abs(e-r)/n,o=eE((function(t){return t[2]})).right(g,u);o===g.length?(i=hE(r/31536e6,e/31536e6,n),n=t):o?(i=(o=g[u/g[o-1][2]<g[o][2]/u?o-1:o])[1],n=o[0]):(i=Math.max(hE(r,e,n),1),n=a)}return null==i?n:n.every(i)}return c.invert=function(t){return new Date(f(t))},c.domain=function(t){return arguments.length?h(bE.call(t,Qx)):h().map(Jx)},c.ticks=function(t,n){var r,e=h(),i=e[0],u=e[e.length-1],o=u<i;return o&&(r=i,i=u,u=r),r=(r=N(t,i,u,n))?r.range(i,u+1):[],o?r.reverse():r},c.tickFormat=function(t,n){return null==n?M:s(n)},c.nice=function(t,n){var r=h();return(t=N(t,r[0],r[r.length-1],n))?h(XA(r,t)):c},c.copy=function(){return RA(c,tS(t,n,r,e,i,u,o,a,s))},c}function nS(t){return t.match(/.{6}/g).map((function(t){return"#"+t}))}IT=function(t){var n=t.dateTime,r=t.date,e=t.time,i=t.periods,u=t.days,o=t.shortDays,a=t.months,s=t.shortMonths,c=WT(i),f=BT(i),h=WT(u),l=BT(u),d=WT(o),v=BT(o),p=WT(a),b=BT(a),w=WT(s),m=BT(s),y={a:function(t){return o[t.getDay()]},A:function(t){return u[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:cx,e:cx,f:vx,g:Ex,G:Tx,H:fx,I:hx,j:lx,L:dx,m:px,M:bx,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Xx,s:Kx,S:wx,u:mx,U:yx,V:Mx,w:Nx,W:Lx,x:null,X:null,y:kx,Y:Ax,Z:xx,"%":Zx},g={a:function(t){return o[t.getUTCDay()]},A:function(t){return u[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Sx,e:Sx,f:Cx,g:qx,G:Vx,H:Ox,I:Ix,j:Rx,L:Fx,m:Dx,M:Hx,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Xx,s:Kx,S:jx,u:Ux,U:_x,V:Wx,w:Bx,W:$x,x:null,X:null,y:Yx,Y:zx,Z:Gx,"%":Zx},M={a:function(t,n,r){var e=d.exec(n.slice(r));return e?(t.w=v[e[0].toLowerCase()],r+e[0].length):-1},A:function(t,n,r){var e=h.exec(n.slice(r));return e?(t.w=l[e[0].toLowerCase()],r+e[0].length):-1},b:function(t,n,r){var e=w.exec(n.slice(r));return e?(t.m=m[e[0].toLowerCase()],r+e[0].length):-1},B:function(t,n,r){var e=p.exec(n.slice(r));return e?(t.m=b[e[0].toLowerCase()],r+e[0].length):-1},c:function(t,r,e){return k(t,n,r,e)},d:QT,e:QT,f:ux,g:ZT,G:GT,H:nx,I:nx,j:tx,L:ix,m:JT,M:rx,p:function(t,n,r){var e=c.exec(n.slice(r));return e?(t.p=f[e[0].toLowerCase()],r+e[0].length):-1},q:KT,Q:ax,s:sx,S:ex,u:YT,U:qT,V:zT,w:$T,W:VT,x:function(t,n,e){return k(t,r,n,e)},X:function(t,n,r){return k(t,e,n,r)},y:ZT,Y:GT,Z:XT,"%":ox};function N(t,n){return function(r){var e,i,u,o=[],a=-1,s=0,c=t.length;for(r instanceof Date||(r=new Date(+r));++a<c;)37===t.charCodeAt(a)&&(o.push(t.slice(s,a)),null!=(i=DT[e=t.charAt(++a)])?e=t.charAt(++a):i="e"===e?" ":"0",(u=n[e])&&(e=u(r,i)),o.push(e),s=a+1);return o.push(t.slice(s,a)),o.join("")}}function L(t,n){return function(r){var e,i,u=OT(1900,void 0,1);if(k(u,t,r+="",0)!=r.length)return null;if("Q"in u)return new Date(u.Q);if("s"in u)return new Date(1e3*u.s+("L"in u?u.L:0));if(!n||"Z"in u||(u.Z=0),"p"in u&&(u.H=u.H%12+12*u.p),void 0===u.m&&(u.m="q"in u?u.q:0),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(i=(e=ST(OT(u.y,0,1))).getUTCDay(),e=i>4||0===i?kT.ceil(e):kT(e),e=MT.offset(e,7*(u.V-1)),u.y=e.getUTCFullYear(),u.m=e.getUTCMonth(),u.d=e.getUTCDate()+(u.w+6)%7):(i=(e=xT(OT(u.y,0,1))).getDay(),e=i>4||0===i?pT.ceil(e):pT(e),e=lT.offset(e,7*(u.V-1)),u.y=e.getFullYear(),u.m=e.getMonth(),u.d=e.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),i="Z"in u?ST(OT(u.y,0,1)).getUTCDay():xT(OT(u.y,0,1)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(i+5)%7:u.w+7*u.U-(i+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,ST(u)):xT(u)}}function k(t,n,r,e){for(var i,u,o=0,a=n.length,s=r.length;o<a;){if(e>=s)return-1;if(37===(i=n.charCodeAt(o++))){if(i=n.charAt(o++),!(u=M[i in DT?n.charAt(o++):i])||(e=u(t,r,e))<0)return-1}else if(i!=r.charCodeAt(e++))return-1}return e}return(y.x=N(r,y),y.X=N(e,y),y.c=N(n,y),g.x=N(r,g),g.X=N(e,g),g.c=N(n,g),{format:function(t){var n=N(t+="",y);return n.toString=function(){return t},n},parse:function(t){var n=L(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=N(t+="",g);return n.toString=function(){return t},n},utcParse:function(t){var n=L(t+="",!0);return n.toString=function(){return t},n}})}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),RT=IT.format,FT=IT.utcFormat,CT=IT.utcParse,Date.prototype.toISOString||FT("%Y-%m-%dT%H:%M:%S.%LZ"),+new Date("2000-01-01T00:00:00.000Z")||CT("%Y-%m-%dT%H:%M:%S.%LZ");var rS=nS("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),eS=nS("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),iS=nS("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),uS=nS("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),oS=EA(sA(300,.5,0),sA(-240,.5,1)),aS=EA(sA(-100,.75,.35),sA(80,1.5,.8)),sS=EA(sA(260,.75,.35),sA(80,1.5,.8)),cS=sA();function fS(t){var n=t.length;return function(r){return t[Math.max(0,Math.min(n-1,Math.floor(r*n)))]}}var hS=fS(nS("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),lS=fS(nS("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),dS=fS(nS("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),vS=fS(nS("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),pS="http://www.w3.org/1999/xhtml",bS={svg:"http://www.w3.org/2000/svg",xhtml:pS,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wS(t){var n=t+="",r=n.indexOf(":");return r>=0&&"xmlns"!==(n=t.slice(0,r))&&(t=t.slice(r+1)),bS.hasOwnProperty(n)?{space:bS[n],local:t}:t}function mS(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===pS&&n.documentElement.namespaceURI===pS?n.createElement(t):n.createElementNS(r,t)}}function yS(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gS(t){var n=wS(t);return(n.local?yS:mS)(n)}function MS(){}function NS(t){return null==t?MS:function(){return this.querySelector(t)}}function LS(){return[]}function kS(t){return null==t?LS:function(){return this.querySelectorAll(t)}}var ES=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var AS=document.documentElement;if(!AS.matches){var TS=AS.webkitMatchesSelector||AS.msMatchesSelector||AS.mozMatchesSelector||AS.oMatchesSelector;ES=function(t){return function(){return TS.call(this,t)}}}}var xS=ES;function SS(t){return new Array(t.length)}function OS(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function IS(t,n,r,e,i,u){for(var o,a=0,s=n.length,c=u.length;a<c;++a)(o=n[a])?(o.__data__=u[a],e[a]=o):r[a]=new OS(t,u[a]);for(;a<s;++a)(o=n[a])&&(i[a]=o)}function RS(t,n,r,e,i,u,o){var a,s,c,f={},h=n.length,l=u.length,d=new Array(h);for(a=0;a<h;++a)(s=n[a])&&(d[a]=c="$"+o.call(s,s.__data__,a,n),c in f?i[a]=s:f[c]=s);for(a=0;a<l;++a)(s=f[c="$"+o.call(t,u[a],a,u)])?(e[a]=s,s.__data__=u[a],f[c]=null):r[a]=new OS(t,u[a]);for(a=0;a<h;++a)(s=n[a])&&f[d[a]]===s&&(i[a]=s)}function FS(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function CS(t){return function(){this.removeAttribute(t)}}function DS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function HS(t,n){return function(){this.setAttribute(t,n)}}function jS(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function US(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}function _S(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function PS(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function WS(t){return function(){this.style.removeProperty(t)}}function BS(t,n,r){return function(){this.style.setProperty(t,n,r)}}function $S(t,n,r){return function(){var e=n.apply(this,arguments);null==e?this.style.removeProperty(t):this.style.setProperty(t,e,r)}}function YS(t,n){return t.style.getPropertyValue(n)||PS(t).getComputedStyle(t,null).getPropertyValue(n)}function qS(t){return function(){delete this[t]}}function zS(t,n){return function(){this[t]=n}}function VS(t,n){return function(){var r=n.apply(this,arguments);null==r?delete this[t]:this[t]=r}}function GS(t){return t.trim().split(/^|\s+/)}function ZS(t){return t.classList||new XS(t)}function XS(t){this._node=t,this._names=GS(t.getAttribute("class")||"")}function KS(t,n){for(var r=ZS(t),e=-1,i=n.length;++e<i;)r.add(n[e])}function JS(t,n){for(var r=ZS(t),e=-1,i=n.length;++e<i;)r.remove(n[e])}function QS(t){return function(){KS(this,t)}}function tO(t){return function(){JS(this,t)}}function nO(t,n){return function(){(n.apply(this,arguments)?KS:JS)(this,t)}}function rO(){this.textContent=""}function eO(t){return function(){this.textContent=t}}function iO(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function uO(){this.innerHTML=""}function oO(t){return function(){this.innerHTML=t}}function aO(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function sO(){this.nextSibling&&this.parentNode.appendChild(this)}function cO(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fO(){return null}function hO(){var t=this.parentNode;t&&t.removeChild(this)}function lO(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function dO(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}OS.prototype={constructor:OS,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},XS.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var vO={},pO=null;function bO(t,n,r){return t=wO(t,n,r),function(n){var r=n.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||t.call(this,n)}}function wO(t,n,r){return function(e){var i=pO;pO=e;try{t.call(this,this.__data__,n,r)}finally{pO=i}}}function mO(t){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}}))}function yO(t){return function(){var n=this.__on;if(n){for(var r,e=0,i=-1,u=n.length;e<u;++e)r=n[e],t.type&&r.type!==t.type||r.name!==t.name?n[++i]=r:this.removeEventListener(r.type,r.listener,r.capture);++i?n.length=i:delete this.__on}}}function gO(t,n,r){var e=vO.hasOwnProperty(t.type)?bO:wO;return function(i,u,o){var a,s=this.__on,c=e(n,u,o);if(s)for(var f=0,h=s.length;f<h;++f)if((a=s[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=r),void(a.value=n);this.addEventListener(t.type,c,r),a={type:t.type,name:t.name,value:n,listener:c,capture:r},s?s.push(a):this.__on=[a]}}function MO(t,n,r){var e=PS(t),i=e.CustomEvent;"function"==typeof i?i=new i(n,r):(i=e.document.createEvent("Event"),r?(i.initEvent(n,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function NO(t,n){return function(){return MO(this,t,n)}}function LO(t,n){return function(){return MO(this,t,n.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(vO={mouseenter:"mouseover",mouseleave:"mouseout"}));var kO=[null];function EO(t,n){this._groups=t,this._parents=n}function AO(){return new EO([[document.documentElement]],kO)}function TO(t){return"string"==typeof t?new EO([[document.querySelector(t)]],[document.documentElement]):new EO([[t]],kO)}EO.prototype=AO.prototype={constructor:EO,select:function(t){"function"!=typeof t&&(t=NS(t));for(var n=this._groups,r=n.length,e=new Array(r),i=0;i<r;++i)for(var u,o,a=n[i],s=a.length,c=e[i]=new Array(s),f=0;f<s;++f)(u=a[f])&&(o=t.call(u,u.__data__,f,a))&&("__data__"in u&&(o.__data__=u.__data__),c[f]=o);return new EO(e,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=kS(t));for(var n=this._groups,r=n.length,e=[],i=[],u=0;u<r;++u)for(var o,a=n[u],s=a.length,c=0;c<s;++c)(o=a[c])&&(e.push(t.call(o,o.__data__,c,a)),i.push(o));return new EO(e,i)},filter:function(t){"function"!=typeof t&&(t=xS(t));for(var n=this._groups,r=n.length,e=new Array(r),i=0;i<r;++i)for(var u,o=n[i],a=o.length,s=e[i]=[],c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&s.push(u);return new EO(e,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var r=n?RS:IS,e=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var u=i.length,o=new Array(u),a=new Array(u),s=new Array(u),c=0;c<u;++c){var f=e[c],h=i[c],l=h.length,d=t.call(f,f&&f.__data__,c,e),v=d.length,p=a[c]=new Array(v),b=o[c]=new Array(v);r(f,h,p,b,s[c]=new Array(l),d,n);for(var w,m,y=0,g=0;y<v;++y)if(w=p[y]){for(y>=g&&(g=y+1);!(m=b[g])&&++g<v;);w._next=m||null}}return(o=new EO(o,e))._enter=a,o._exit=s,o},enter:function(){return new EO(this._enter||this._groups.map(SS),this._parents)},exit:function(){return new EO(this._exit||this._groups.map(SS),this._parents)},merge:function(t){for(var n=this._groups,r=t._groups,e=n.length,i=Math.min(e,r.length),u=new Array(e),o=0;o<i;++o)for(var a,s=n[o],c=r[o],f=s.length,h=u[o]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;o<e;++o)u[o]=n[o];return new EO(u,this._parents)},order:function(){for(var t=this._groups,n=-1,r=t.length;++n<r;)for(var e,i=t[n],u=i.length-1,o=i[u];--u>=0;)(e=i[u])&&(o&&o!==e.nextSibling&&o.parentNode.insertBefore(e,o),o=e);return this},sort:function(t){function n(n,r){return n&&r?t(n.__data__,r.__data__):!n-!r}t||(t=FS);for(var r=this._groups,e=r.length,i=new Array(e),u=0;u<e;++u){for(var o,a=r[u],s=a.length,c=i[u]=new Array(s),f=0;f<s;++f)(o=a[f])&&(c[f]=o);c.sort(n)}return new EO(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var e=t[n],i=0,u=e.length;i<u;++i){var o=e[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,r=0,e=n.length;r<e;++r)for(var i,u=n[r],o=0,a=u.length;o<a;++o)(i=u[o])&&t.call(i,i.__data__,o,u);return this},attr:function(t,n){var r=wS(t);if(arguments.length<2){var e=this.node();return r.local?e.getAttributeNS(r.space,r.local):e.getAttribute(r)}return this.each((null==n?r.local?DS:CS:"function"==typeof n?r.local?_S:US:r.local?jS:HS)(r,n))},style:function(t,n,r){return arguments.length>1?this.each((null==n?WS:"function"==typeof n?$S:BS)(t,n,null==r?"":r)):YS(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?qS:"function"==typeof n?VS:zS)(t,n)):this.node()[t]},classed:function(t,n){var r=GS(t+"");if(arguments.length<2){for(var e=ZS(this.node()),i=-1,u=r.length;++i<u;)if(!e.contains(r[i]))return!1;return!0}return this.each(("function"==typeof n?nO:n?QS:tO)(r,n))},text:function(t){return arguments.length?this.each(null==t?rO:("function"==typeof t?iO:eO)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?uO:("function"==typeof t?aO:oO)(t)):this.node().innerHTML},raise:function(){return this.each(sO)},lower:function(){return this.each(cO)},append:function(t){var n="function"==typeof t?t:gS(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var r="function"==typeof t?t:gS(t),e=null==n?fO:"function"==typeof n?n:NS(n);return this.select((function(){return this.insertBefore(r.apply(this,arguments),e.apply(this,arguments)||null)}))},remove:function(){return this.each(hO)},clone:function(t){return this.select(t?dO:lO)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,r){var e,i,u=mO(t+""),o=u.length;if(!(arguments.length<2)){for(a=n?gO:yO,null==r&&(r=!1),e=0;e<o;++e)this.each(a(u[e],n,r));return this}var a=this.node().__on;if(a)for(var s,c=0,f=a.length;c<f;++c)for(e=0,s=a[c];e<o;++e)if((i=u[e]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?LO:NO)(t,n))}};var xO=0;function SO(){return new OO}function OO(){this._="@"+(++xO).toString(36)}function IO(){for(var t,n=pO;t=n.sourceEvent;)n=t;return n}function RO(t,n){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var e=r.createSVGPoint();return e.x=n.clientX,e.y=n.clientY,[(e=e.matrixTransform(t.getScreenCTM().inverse())).x,e.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}OO.prototype=SO.prototype={constructor:OO,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var FO=Math.PI,CO=2*FO,DO=CO-1e-6;function HO(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function jO(){return new HO}function UO(t){return function(){return t}}HO.prototype=jO.prototype={constructor:HO,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,r,e){this._+="Q"+ +t+","+ +n+","+(this._x1=+r)+","+(this._y1=+e)},bezierCurveTo:function(t,n,r,e,i,u){this._+="C"+ +t+","+ +n+","+ +r+","+ +e+","+(this._x1=+i)+","+(this._y1=+u)},arcTo:function(t,n,r,e,i){var u=this._x1,o=this._y1,a=(r=+r)-(t=+t),s=(e=+e)-(n=+n),c=u-t,f=o-n,h=c*c+f*f;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>1e-6)if(Math.abs(f*a-s*c)>1e-6&&i){var l=r-u,d=e-o,v=a*a+s*s,p=l*l+d*d,b=Math.sqrt(v),w=Math.sqrt(h),m=i*Math.tan((FO-Math.acos((v+h-p)/(2*b*w)))/2),y=m/w,g=m/b;Math.abs(y-1)>1e-6&&(this._+="L"+(t+y*c)+","+(n+y*f)),this._+="A"+i+","+i+",0,0,"+ +(f*l>c*d)+","+(this._x1=t+g*a)+","+(this._y1=n+g*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n)},arc:function(t,n,r,e,i,u){t=+t,n=+n,u=!!u;var o=(r=+r)*Math.cos(e),a=r*Math.sin(e),s=t+o,c=n+a,f=1^u,h=u?e-i:i-e;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+s+","+c),r&&(h<0&&(h=h%CO+CO),h>DO?this._+="A"+r+","+r+",0,1,"+f+","+(t-o)+","+(n-a)+"A"+r+","+r+",0,1,"+f+","+(this._x1=s)+","+(this._y1=c):h>1e-6&&(this._+="A"+r+","+r+",0,"+ +(h>=FO)+","+f+","+(this._x1=t+r*Math.cos(i))+","+(this._y1=n+r*Math.sin(i))))},rect:function(t,n,r,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +r+"v"+ +e+"h"+-r+"Z"},toString:function(){return this._}};var _O=Math.abs,PO=Math.atan2,WO=Math.cos,BO=Math.max,$O=Math.min,YO=Math.sin,qO=Math.sqrt,zO=Math.PI,VO=zO/2,GO=2*zO;function ZO(t){return t>1?0:t<-1?zO:Math.acos(t)}function XO(t){return t>=1?VO:t<=-1?-VO:Math.asin(t)}function KO(t){return t.innerRadius}function JO(t){return t.outerRadius}function QO(t){return t.startAngle}function tI(t){return t.endAngle}function nI(t){return t&&t.padAngle}function rI(t,n,r,e,i,u,o,a){var s=r-t,c=e-n,f=o-i,h=a-u,l=(f*(n-u)-h*(t-i))/(h*s-f*c);return[t+l*s,n+l*c]}function eI(t,n,r,e,i,u,o){var a=t-r,s=n-e,c=(o?u:-u)/qO(a*a+s*s),f=c*s,h=-c*a,l=t+f,d=n+h,v=r+f,p=e+h,b=(l+v)/2,w=(d+p)/2,m=v-l,y=p-d,g=m*m+y*y,M=i-u,N=l*p-v*d,L=(y<0?-1:1)*qO(BO(0,M*M*g-N*N)),k=(N*y-m*L)/g,E=(-N*m-y*L)/g,A=(N*y+m*L)/g,T=(-N*m+y*L)/g,x=k-b,S=E-w,O=A-b,I=T-w;return x*x+S*S>O*O+I*I&&(k=A,E=T),{cx:k,cy:E,x01:-f,y01:-h,x11:k*(i/M-1),y11:E*(i/M-1)}}function iI(t){this._context=t}function uI(t){return new iI(t)}function oI(t){return t[0]}function aI(t){return t[1]}function sI(){var t=oI,n=aI,r=UO(!0),e=null,i=uI,u=null;function o(o){var a,s,c,f=o.length,h=!1;for(null==e&&(u=i(c=jO())),a=0;a<=f;++a)!(a<f&&r(s=o[a],a,o))===h&&((h=!h)?u.lineStart():u.lineEnd()),h&&u.point(+t(s,a,o),+n(s,a,o));if(c)return u=null,c+""||null}return o.x=function(n){return arguments.length?(t="function"==typeof n?n:UO(+n),o):t},o.y=function(t){return arguments.length?(n="function"==typeof t?t:UO(+t),o):n},o.defined=function(t){return arguments.length?(r="function"==typeof t?t:UO(!!t),o):r},o.curve=function(t){return arguments.length?(i=t,null!=e&&(u=i(e)),o):i},o.context=function(t){return arguments.length?(null==t?e=u=null:u=i(e=t),o):e},o}function cI(){var t=oI,n=null,r=UO(0),e=aI,i=UO(!0),u=null,o=uI,a=null;function s(s){var c,f,h,l,d,v=s.length,p=!1,b=new Array(v),w=new Array(v);for(null==u&&(a=o(d=jO())),c=0;c<=v;++c){if(!(c<v&&i(l=s[c],c,s))===p)if(p=!p)f=c,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),h=c-1;h>=f;--h)a.point(b[h],w[h]);a.lineEnd(),a.areaEnd()}p&&(b[c]=+t(l,c,s),w[c]=+r(l,c,s),a.point(n?+n(l,c,s):b[c],e?+e(l,c,s):w[c]))}if(d)return a=null,d+""||null}function c(){return sI().defined(i).curve(o).context(u)}return s.x=function(r){return arguments.length?(t="function"==typeof r?r:UO(+r),n=null,s):t},s.x0=function(n){return arguments.length?(t="function"==typeof n?n:UO(+n),s):t},s.x1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:UO(+t),s):n},s.y=function(t){return arguments.length?(r="function"==typeof t?t:UO(+t),e=null,s):r},s.y0=function(t){return arguments.length?(r="function"==typeof t?t:UO(+t),s):r},s.y1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:UO(+t),s):e},s.lineX0=s.lineY0=function(){return c().x(t).y(r)},s.lineY1=function(){return c().x(t).y(e)},s.lineX1=function(){return c().x(n).y(r)},s.defined=function(t){return arguments.length?(i="function"==typeof t?t:UO(!!t),s):i},s.curve=function(t){return arguments.length?(o=t,null!=u&&(a=o(u)),s):o},s.context=function(t){return arguments.length?(null==t?u=a=null:a=o(u=t),s):u},s}function fI(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function hI(t){return t}iI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var lI=vI(uI);function dI(t){this._curve=t}function vI(t){function n(n){return new dI(t(n))}return n._curve=t,n}function pI(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(vI(t)):n()._curve},t}function bI(){return pI(sI().curve(lI))}function wI(){var t=cI().curve(lI),n=t.curve,r=t.lineX0,e=t.lineX1,i=t.lineY0,u=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return pI(r())},delete t.lineX0,t.lineEndAngle=function(){return pI(e())},delete t.lineX1,t.lineInnerRadius=function(){return pI(i())},delete t.lineY0,t.lineOuterRadius=function(){return pI(u())},delete t.lineY1,t.curve=function(t){return arguments.length?n(vI(t)):n()._curve},t}function mI(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}dI.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var yI=Array.prototype.slice;function gI(t){return t.source}function MI(t){return t.target}function NI(t){var n=gI,r=MI,e=oI,i=aI,u=null;function o(){var o,a=yI.call(arguments),s=n.apply(this,a),c=r.apply(this,a);if(u||(u=o=jO()),t(u,+e.apply(this,(a[0]=s,a)),+i.apply(this,a),+e.apply(this,(a[0]=c,a)),+i.apply(this,a)),o)return u=null,o+""||null}return o.source=function(t){return arguments.length?(n=t,o):n},o.target=function(t){return arguments.length?(r=t,o):r},o.x=function(t){return arguments.length?(e="function"==typeof t?t:UO(+t),o):e},o.y=function(t){return arguments.length?(i="function"==typeof t?t:UO(+t),o):i},o.context=function(t){return arguments.length?(u=null==t?null:t,o):u},o}function LI(t,n,r,e,i){t.moveTo(n,r),t.bezierCurveTo(n=(n+e)/2,r,n,i,e,i)}function kI(t,n,r,e,i){t.moveTo(n,r),t.bezierCurveTo(n,r=(r+i)/2,e,r,e,i)}function EI(t,n,r,e,i){var u=mI(n,r),o=mI(n,r=(r+i)/2),a=mI(e,r),s=mI(e,i);t.moveTo(u[0],u[1]),t.bezierCurveTo(o[0],o[1],a[0],a[1],s[0],s[1])}var AI={draw:function(t,n){var r=Math.sqrt(n/zO);t.moveTo(r,0),t.arc(0,0,r,0,GO)}},TI={draw:function(t,n){var r=Math.sqrt(n/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},xI=Math.sqrt(1/3),SI=2*xI,OI={draw:function(t,n){var r=Math.sqrt(n/SI),e=r*xI;t.moveTo(0,-r),t.lineTo(e,0),t.lineTo(0,r),t.lineTo(-e,0),t.closePath()}},II=Math.sin(zO/10)/Math.sin(7*zO/10),RI=Math.sin(GO/10)*II,FI=-Math.cos(GO/10)*II,CI={draw:function(t,n){var r=Math.sqrt(.8908130915292852*n),e=RI*r,i=FI*r;t.moveTo(0,-r),t.lineTo(e,i);for(var u=1;u<5;++u){var o=GO*u/5,a=Math.cos(o),s=Math.sin(o);t.lineTo(s*r,-a*r),t.lineTo(a*e-s*i,s*e+a*i)}t.closePath()}},DI={draw:function(t,n){var r=Math.sqrt(n),e=-r/2;t.rect(e,e,r,r)}},HI=Math.sqrt(3),jI={draw:function(t,n){var r=-Math.sqrt(n/(3*HI));t.moveTo(0,2*r),t.lineTo(-HI*r,-r),t.lineTo(HI*r,-r),t.closePath()}},UI=-.5,_I=Math.sqrt(3)/2,PI=1/Math.sqrt(12),WI=3*(PI/2+1),BI={draw:function(t,n){var r=Math.sqrt(n/WI),e=r/2,i=r*PI,u=e,o=r*PI+r,a=-u,s=o;t.moveTo(e,i),t.lineTo(u,o),t.lineTo(a,s),t.lineTo(UI*e-_I*i,_I*e+UI*i),t.lineTo(UI*u-_I*o,_I*u+UI*o),t.lineTo(UI*a-_I*s,_I*a+UI*s),t.lineTo(UI*e+_I*i,UI*i-_I*e),t.lineTo(UI*u+_I*o,UI*o-_I*u),t.lineTo(UI*a+_I*s,UI*s-_I*a),t.closePath()}},$I=[AI,TI,OI,DI,CI,jI,BI];function YI(){}function qI(t,n,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+r)/6)}function zI(t){this._context=t}function VI(t){this._context=t}function GI(t){this._context=t}function ZI(t,n){this._basis=new zI(t),this._beta=n}zI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qI(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qI(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},VI.prototype={areaStart:YI,areaEnd:YI,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:qI(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},GI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,e=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 3:this._point=4;default:qI(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},ZI.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,r=t.length-1;if(r>0)for(var e,i=t[0],u=n[0],o=t[r]-i,a=n[r]-u,s=-1;++s<=r;)this._basis.point(this._beta*t[s]+(1-this._beta)*(i+(e=s/r)*o),this._beta*n[s]+(1-this._beta)*(u+e*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var XI=function t(n){function r(t){return 1===n?new zI(t):new ZI(t,n)}return r.beta=function(n){return t(+n)},r}(.85);function KI(t,n,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function JI(t,n){this._context=t,this._k=(1-n)/6}JI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:KI(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:KI(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var QI=function t(n){function r(t){return new JI(t,n)}return r.tension=function(n){return t(+n)},r}(0);function tR(t,n){this._context=t,this._k=(1-n)/6}tR.prototype={areaStart:YI,areaEnd:YI,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:KI(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var nR=function t(n){function r(t){return new tR(t,n)}return r.tension=function(n){return t(+n)},r}(0);function rR(t,n){this._context=t,this._k=(1-n)/6}rR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:KI(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var eR=function t(n){function r(t){return new rR(t,n)}return r.tension=function(n){return t(+n)},r}(0);function iR(t,n,r){var e=t._x1,i=t._y1,u=t._x2,o=t._y2;if(t._l01_a>1e-12){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);e=(e*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>1e-12){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);u=(u*c+t._x1*t._l23_2a-n*t._l12_2a)/f,o=(o*c+t._y1*t._l23_2a-r*t._l12_2a)/f}t._context.bezierCurveTo(e,i,u,o,t._x2,t._y2)}function uR(t,n){this._context=t,this._alpha=n}uR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var r=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:iR(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var oR=function t(n){function r(t){return n?new uR(t,n):new JI(t,0)}return r.alpha=function(n){return t(+n)},r}(.5);function aR(t,n){this._context=t,this._alpha=n}aR.prototype={areaStart:YI,areaEnd:YI,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var r=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:iR(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var sR=function t(n){function r(t){return n?new aR(t,n):new tR(t,0)}return r.alpha=function(n){return t(+n)},r}(.5);function cR(t,n){this._context=t,this._alpha=n}cR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var r=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+e*e,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:iR(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var fR=function t(n){function r(t){return n?new cR(t,n):new rR(t,0)}return r.alpha=function(n){return t(+n)},r}(.5);function hR(t){this._context=t}function lR(t){return t<0?-1:1}function dR(t,n,r){var e=t._x1-t._x0,i=n-t._x1,u=(t._y1-t._y0)/(e||i<0&&-0),o=(r-t._y1)/(i||e<0&&-0),a=(u*i+o*e)/(e+i);return(lR(u)+lR(o))*Math.min(Math.abs(u),Math.abs(o),.5*Math.abs(a))||0}function vR(t,n){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-n)/2:n}function pR(t,n,r){var e=t._x0,i=t._x1,u=t._y1,o=(i-e)/3;t._context.bezierCurveTo(e+o,t._y0+o*n,i-o,u-o*r,i,u)}function bR(t){this._context=t}function wR(t){this._context=new mR(t)}function mR(t){this._context=t}function yR(t){this._context=t}function gR(t){var n,r,e=t.length-1,i=new Array(e),u=new Array(e),o=new Array(e);for(i[0]=0,u[0]=2,o[0]=t[0]+2*t[1],n=1;n<e-1;++n)i[n]=1,u[n]=4,o[n]=4*t[n]+2*t[n+1];for(i[e-1]=2,u[e-1]=7,o[e-1]=8*t[e-1]+t[e],n=1;n<e;++n)u[n]-=r=i[n]/u[n-1],o[n]-=r*o[n-1];for(i[e-1]=o[e-1]/u[e-1],n=e-2;n>=0;--n)i[n]=(o[n]-i[n+1])/u[n];for(u[e-1]=(t[e]+i[e-1])/2,n=0;n<e-1;++n)u[n]=2*t[n+1]-i[n+1];return[i,u]}function MR(t,n){this._context=t,this._t=n}function NR(t,n){if((i=t.length)>1)for(var r,e,i,u=1,o=t[n[0]],a=o.length;u<i;++u)for(e=o,o=t[n[u]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(e[r][1])?e[r][0]:e[r][1]}function LR(t){for(var n=t.length,r=new Array(n);--n>=0;)r[n]=n;return r}function kR(t,n){return t[n]}function ER(t){var n=t.map(AR);return LR(t).sort((function(t,r){return n[t]-n[r]}))}function AR(t){for(var n,r=0,e=-1,i=t.length;++e<i;)(n=+t[e][1])&&(r+=n);return r}hR.prototype={areaStart:YI,areaEnd:YI,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},bR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pR(this,this._t0,vR(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var r=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,pR(this,vR(this,r=dR(this,t,n)),r);break;default:pR(this,this._t0,r=dR(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=r}}},(wR.prototype=Object.create(bR.prototype)).point=function(t,n){bR.prototype.point.call(this,n,t)},mR.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,r,e,i,u){this._context.bezierCurveTo(n,t,e,r,u,i)}},yR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===r)this._context.lineTo(t[1],n[1]);else for(var e=gR(t),i=gR(n),u=0,o=1;o<r;++u,++o)this._context.bezierCurveTo(e[0][u],i[0][u],e[1][u],i[1][u],t[o],n[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},MR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,n)}}this._x=t,this._y=n}};var TR=new Date,xR=new Date;function SR(t,n,r,e){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(r){return t(r=new Date(r-1)),n(r,1),t(r),r},i.round=function(t){var n=i(t),r=i.ceil(t);return t-n<r-t?n:r},i.offset=function(t,r){return n(t=new Date(+t),null==r?1:Math.floor(r)),t},i.range=function(r,e,u){var o,a=[];if(r=i.ceil(r),u=null==u?1:Math.floor(u),!(r<e&&u>0))return a;do{a.push(o=new Date(+r)),n(r,u),t(r)}while(o<r&&r<e);return a},i.filter=function(r){return SR((function(n){if(n>=n)for(;t(n),!r(n);)n.setTime(n-1)}),(function(t,e){if(t>=t)if(e<0)for(;++e<=0;)for(;n(t,-1),!r(t););else for(;--e>=0;)for(;n(t,1),!r(t););}))},r&&(i.count=function(n,e){return TR.setTime(+n),xR.setTime(+e),t(TR),t(xR),Math.floor(r(TR,xR))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(e?function(n){return e(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var OR=SR((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));OR.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?SR((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,r){n.setTime(+n+r*t)}),(function(n,r){return(r-n)/t})):OR:null};var IR=OR.range,RR=SR((function(t){t.setTime(1e3*Math.floor(t/1e3))}),(function(t,n){t.setTime(+t+1e3*n)}),(function(t,n){return(n-t)/1e3}),(function(t){return t.getUTCSeconds()})),FR=RR.range,CR=SR((function(t){t.setTime(6e4*Math.floor(t/6e4))}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getMinutes()})),DR=CR.range,HR=SR((function(t){var n=6e4*t.getTimezoneOffset()%36e5;n<0&&(n+=36e5),t.setTime(36e5*Math.floor((+t-n)/36e5)+n)}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getHours()})),jR=HR.range,UR=SR((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1})),_R=UR.range;function PR(t){return SR((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var WR=PR(0),BR=PR(1),$R=PR(2),YR=PR(3),qR=PR(4),zR=PR(5),VR=PR(6),GR=WR.range,ZR=BR.range,XR=$R.range,KR=YR.range,JR=qR.range,QR=zR.range,tF=VR.range,nF=SR((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),rF=nF.range,eF=SR((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));eF.every=function(t){return isFinite(t=Math.floor(t))&&t>0?SR((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,r){n.setFullYear(n.getFullYear()+r*t)})):null};var iF=eF.range,uF=SR((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getUTCMinutes()})),oF=uF.range,aF=SR((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getUTCHours()})),sF=aF.range,cF=SR((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/864e5}),(function(t){return t.getUTCDate()-1})),fF=cF.range;function hF(t){return SR((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/6048e5}))}var lF=hF(0),dF=hF(1),vF=hF(2),pF=hF(3),bF=hF(4),wF=hF(5),mF=hF(6),yF=lF.range,gF=dF.range,MF=vF.range,NF=pF.range,LF=bF.range,kF=wF.range,EF=mF.range,AF=SR((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),TF=AF.range,xF=SR((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));xF.every=function(t){return isFinite(t=Math.floor(t))&&t>0?SR((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,r){n.setUTCFullYear(n.getUTCFullYear()+r*t)})):null};var SF=xF.range,OF=new Date,IF=new Date;function RF(t,n,r,e){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(r){return t(r=new Date(r-1)),n(r,1),t(r),r},i.round=function(t){var n=i(t),r=i.ceil(t);return t-n<r-t?n:r},i.offset=function(t,r){return n(t=new Date(+t),null==r?1:Math.floor(r)),t},i.range=function(r,e,u){var o,a=[];if(r=i.ceil(r),u=null==u?1:Math.floor(u),!(r<e&&u>0))return a;do{a.push(o=new Date(+r)),n(r,u),t(r)}while(o<r&&r<e);return a},i.filter=function(r){return RF((function(n){if(n>=n)for(;t(n),!r(n);)n.setTime(n-1)}),(function(t,e){if(t>=t)if(e<0)for(;++e<=0;)for(;n(t,-1),!r(t););else for(;--e>=0;)for(;n(t,1),!r(t););}))},r&&(i.count=function(n,e){return OF.setTime(+n),IF.setTime(+e),t(OF),t(IF),Math.floor(r(OF,IF))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(e?function(n){return e(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var FF=RF((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));FF.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?RF((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,r){n.setTime(+n+r*t)}),(function(n,r){return(r-n)/t})):FF:null},RF((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+1e3*n)}),(function(t,n){return(n-t)/1e3}),(function(t){return t.getUTCSeconds()})),RF((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getMinutes()})),RF((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getHours()}));var CF=RF((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}));function DF(t){return RF((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var HF=DF(0),jF=DF(1),UF=(DF(2),DF(3),DF(4)),_F=(DF(5),DF(6),RF((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),RF((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));_F.every=function(t){return isFinite(t=Math.floor(t))&&t>0?RF((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,r){n.setFullYear(n.getFullYear()+r*t)})):null},RF((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getUTCMinutes()})),RF((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getUTCHours()}));var PF=RF((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/864e5}),(function(t){return t.getUTCDate()-1}));function WF(t){return RF((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/6048e5}))}var BF=WF(0),$F=WF(1),YF=(WF(2),WF(3),WF(4)),qF=(WF(5),WF(6),RF((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),RF((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));function zF(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function VF(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function GF(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function ZF(t){var n=t.dateTime,r=t.date,e=t.time,i=t.periods,u=t.days,o=t.shortDays,a=t.months,s=t.shortMonths,c=aC(i),f=sC(i),h=aC(u),l=sC(u),d=aC(o),v=sC(o),p=aC(a),b=sC(a),w=aC(s),m=sC(s),y={a:function(t){return o[t.getDay()]},A:function(t){return u[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:xC,e:xC,f:FC,H:SC,I:OC,j:IC,L:RC,m:CC,M:DC,p:function(t){return i[+(t.getHours()>=12)]},Q:cD,s:fD,S:HC,u:jC,U:UC,V:_C,w:PC,W:WC,x:null,X:null,y:BC,Y:$C,Z:YC,"%":sD},g={a:function(t){return o[t.getUTCDay()]},A:function(t){return u[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:qC,e:qC,f:XC,H:zC,I:VC,j:GC,L:ZC,m:KC,M:JC,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:cD,s:fD,S:QC,u:tD,U:nD,V:rD,w:eD,W:iD,x:null,X:null,y:uD,Y:oD,Z:aD,"%":sD},M={a:function(t,n,r){var e=d.exec(n.slice(r));return e?(t.w=v[e[0].toLowerCase()],r+e[0].length):-1},A:function(t,n,r){var e=h.exec(n.slice(r));return e?(t.w=l[e[0].toLowerCase()],r+e[0].length):-1},b:function(t,n,r){var e=w.exec(n.slice(r));return e?(t.m=m[e[0].toLowerCase()],r+e[0].length):-1},B:function(t,n,r){var e=p.exec(n.slice(r));return e?(t.m=b[e[0].toLowerCase()],r+e[0].length):-1},c:function(t,r,e){return k(t,n,r,e)},d:mC,e:mC,f:kC,H:gC,I:gC,j:yC,L:LC,m:wC,M:MC,p:function(t,n,r){var e=c.exec(n.slice(r));return e?(t.p=f[e[0].toLowerCase()],r+e[0].length):-1},Q:AC,s:TC,S:NC,u:fC,U:hC,V:lC,w:cC,W:dC,x:function(t,n,e){return k(t,r,n,e)},X:function(t,n,r){return k(t,e,n,r)},y:pC,Y:vC,Z:bC,"%":EC};function N(t,n){return function(r){var e,i,u,o=[],a=-1,s=0,c=t.length;for(r instanceof Date||(r=new Date(+r));++a<c;)37===t.charCodeAt(a)&&(o.push(t.slice(s,a)),null!=(i=nC[e=t.charAt(++a)])?e=t.charAt(++a):i="e"===e?" ":"0",(u=n[e])&&(e=u(r,i)),o.push(e),s=a+1);return o.push(t.slice(s,a)),o.join("")}}function L(t,n){return function(r){var e,i,u=GF(1900);if(k(u,t,r+="",0)!=r.length)return null;if("Q"in u)return new Date(u.Q);if("p"in u&&(u.H=u.H%12+12*u.p),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(i=(e=VF(GF(u.y))).getUTCDay(),e=i>4||0===i?$F.ceil(e):$F(e),e=PF.offset(e,7*(u.V-1)),u.y=e.getUTCFullYear(),u.m=e.getUTCMonth(),u.d=e.getUTCDate()+(u.w+6)%7):(i=(e=n(GF(u.y))).getDay(),e=i>4||0===i?jF.ceil(e):jF(e),e=CF.offset(e,7*(u.V-1)),u.y=e.getFullYear(),u.m=e.getMonth(),u.d=e.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),i="Z"in u?VF(GF(u.y)).getUTCDay():n(GF(u.y)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(i+5)%7:u.w+7*u.U-(i+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,VF(u)):n(u)}}function k(t,n,r,e){for(var i,u,o=0,a=n.length,s=r.length;o<a;){if(e>=s)return-1;if(37===(i=n.charCodeAt(o++))){if(i=n.charAt(o++),!(u=M[i in nC?n.charAt(o++):i])||(e=u(t,r,e))<0)return-1}else if(i!=r.charCodeAt(e++))return-1}return e}return(y.x=N(r,y),y.X=N(e,y),y.c=N(n,y),g.x=N(r,g),g.X=N(e,g),g.c=N(n,g),{format:function(t){var n=N(t+="",y);return n.toString=function(){return t},n},parse:function(t){var n=L(t+="",zF);return n.toString=function(){return t},n},utcFormat:function(t){var n=N(t+="",g);return n.toString=function(){return t},n},utcParse:function(t){var n=L(t,VF);return n.toString=function(){return t},n}})}qF.every=function(t){return isFinite(t=Math.floor(t))&&t>0?RF((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,r){n.setUTCFullYear(n.getUTCFullYear()+r*t)})):null};var XF,KF,JF,QF,tC,nC={"-":"",_:" ",0:"0"},rC=/^\s*\d+/,eC=/^%/,iC=/[\\^$*+?|[\]().{}]/g;function uC(t,n,r){var e=t<0?"-":"",i=(e?-t:t)+"",u=i.length;return e+(u<r?new Array(r-u+1).join(n)+i:i)}function oC(t){return t.replace(iC,"\\$&")}function aC(t){return new RegExp("^(?:"+t.map(oC).join("|")+")","i")}function sC(t){for(var n={},r=-1,e=t.length;++r<e;)n[t[r].toLowerCase()]=r;return n}function cC(t,n,r){var e=rC.exec(n.slice(r,r+1));return e?(t.w=+e[0],r+e[0].length):-1}function fC(t,n,r){var e=rC.exec(n.slice(r,r+1));return e?(t.u=+e[0],r+e[0].length):-1}function hC(t,n,r){var e=rC.exec(n.slice(r,r+2));return e?(t.U=+e[0],r+e[0].length):-1}function lC(t,n,r){var e=rC.exec(n.slice(r,r+2));return e?(t.V=+e[0],r+e[0].length):-1}function dC(t,n,r){var e=rC.exec(n.slice(r,r+2));return e?(t.W=+e[0],r+e[0].length):-1}function vC(t,n,r){var e=rC.exec(n.slice(r,r+4));return e?(t.y=+e[0],r+e[0].length):-1}function pC(t,n,r){var e=rC.exec(n.slice(r,r+2));return e?(t.y=+e[0]+(+e[0]>68?1900:2e3),r+e[0].length):-1}function bC(t,n,r){var e=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(r,r+6));return e?(t.Z=e[1]?0:-(e[2]+(e[3]||"00")),r+e[0].length):-1}function wC(t,n,r){var e=rC.exec(n.slice(r,r+2));return e?(t.m=e[0]-1,r+e[0].length):-1}function mC(t,n,r){var e=rC.exec(n.slice(r,r+2));return e?(t.d=+e[0],r+e[0].length):-1}function yC(t,n,r){var e=rC.exec(n.slice(r,r+3));return e?(t.m=0,t.d=+e[0],r+e[0].length):-1}function gC(t,n,r){var e=rC.exec(n.slice(r,r+2));return e?(t.H=+e[0],r+e[0].length):-1}function MC(t,n,r){var e=rC.exec(n.slice(r,r+2));return e?(t.M=+e[0],r+e[0].length):-1}function NC(t,n,r){var e=rC.exec(n.slice(r,r+2));return e?(t.S=+e[0],r+e[0].length):-1}function LC(t,n,r){var e=rC.exec(n.slice(r,r+3));return e?(t.L=+e[0],r+e[0].length):-1}function kC(t,n,r){var e=rC.exec(n.slice(r,r+6));return e?(t.L=Math.floor(e[0]/1e3),r+e[0].length):-1}function EC(t,n,r){var e=eC.exec(n.slice(r,r+1));return e?r+e[0].length:-1}function AC(t,n,r){var e=rC.exec(n.slice(r));return e?(t.Q=+e[0],r+e[0].length):-1}function TC(t,n,r){var e=rC.exec(n.slice(r));return e?(t.Q=1e3*+e[0],r+e[0].length):-1}function xC(t,n){return uC(t.getDate(),n,2)}function SC(t,n){return uC(t.getHours(),n,2)}function OC(t,n){return uC(t.getHours()%12||12,n,2)}function IC(t,n){return uC(1+CF.count(_F(t),t),n,3)}function RC(t,n){return uC(t.getMilliseconds(),n,3)}function FC(t,n){return RC(t,n)+"000"}function CC(t,n){return uC(t.getMonth()+1,n,2)}function DC(t,n){return uC(t.getMinutes(),n,2)}function HC(t,n){return uC(t.getSeconds(),n,2)}function jC(t){var n=t.getDay();return 0===n?7:n}function UC(t,n){return uC(HF.count(_F(t),t),n,2)}function _C(t,n){var r=t.getDay();return t=r>=4||0===r?UF(t):UF.ceil(t),uC(UF.count(_F(t),t)+(4===_F(t).getDay()),n,2)}function PC(t){return t.getDay()}function WC(t,n){return uC(jF.count(_F(t),t),n,2)}function BC(t,n){return uC(t.getFullYear()%100,n,2)}function $C(t,n){return uC(t.getFullYear()%1e4,n,4)}function YC(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+uC(n/60|0,"0",2)+uC(n%60,"0",2)}function qC(t,n){return uC(t.getUTCDate(),n,2)}function zC(t,n){return uC(t.getUTCHours(),n,2)}function VC(t,n){return uC(t.getUTCHours()%12||12,n,2)}function GC(t,n){return uC(1+PF.count(qF(t),t),n,3)}function ZC(t,n){return uC(t.getUTCMilliseconds(),n,3)}function XC(t,n){return ZC(t,n)+"000"}function KC(t,n){return uC(t.getUTCMonth()+1,n,2)}function JC(t,n){return uC(t.getUTCMinutes(),n,2)}function QC(t,n){return uC(t.getUTCSeconds(),n,2)}function tD(t){var n=t.getUTCDay();return 0===n?7:n}function nD(t,n){return uC(BF.count(qF(t),t),n,2)}function rD(t,n){var r=t.getUTCDay();return t=r>=4||0===r?YF(t):YF.ceil(t),uC(YF.count(qF(t),t)+(4===qF(t).getUTCDay()),n,2)}function eD(t){return t.getUTCDay()}function iD(t,n){return uC($F.count(qF(t),t),n,2)}function uD(t,n){return uC(t.getUTCFullYear()%100,n,2)}function oD(t,n){return uC(t.getUTCFullYear()%1e4,n,4)}function aD(){return"+0000"}function sD(){return"%"}function cD(t){return+t}function fD(t){return Math.floor(+t/1e3)}function hD(t){return XF=ZF(t),KF=XF.format,JF=XF.parse,QF=XF.utcFormat,tC=XF.utcParse,XF}hD({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var lD,dD,vD=Date.prototype.toISOString?function(t){return t.toISOString()}:QF("%Y-%m-%dT%H:%M:%S.%LZ"),pD=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:tC("%Y-%m-%dT%H:%M:%S.%LZ"),bD=0,wD=0,mD=0,yD=0,gD=0,MD=0,ND="object"==typeof performance&&performance.now?performance:Date,LD="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function kD(){return gD||(LD(ED),gD=ND.now()+MD)}function ED(){gD=0}function AD(){this._call=this._time=this._next=null}function TD(t,n,r){var e=new AD;return e.restart(t,n,r),e}function xD(){kD(),++bD;for(var t,n=lD;n;)(t=gD-n._time)>=0&&n._call.call(null,t),n=n._next;--bD}function SD(){gD=(yD=ND.now())+MD,bD=wD=0;try{xD()}finally{bD=0,function(){for(var t,n,r=lD,e=1/0;r;)r._call?(e>r._time&&(e=r._time),t=r,r=r._next):(n=r._next,r._next=null,r=t?t._next=n:lD=n);dD=t,ID(e)}(),gD=0}}function OD(){var t=ND.now(),n=t-yD;n>1e3&&(MD-=n,yD=t)}function ID(t){bD||(wD&&(wD=clearTimeout(wD)),t-gD>24?(t<1/0&&(wD=setTimeout(SD,t-ND.now()-MD)),mD&&(mD=clearInterval(mD))):(mD||(yD=ND.now(),mD=setInterval(OD,1e3)),bD=1,LD(SD)))}AD.prototype=TD.prototype={constructor:AD,restart:function(t,n,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?kD():+r)+(null==n?0:+n),this._next||dD===this||(dD?dD._next=this:lD=this,dD=this),this._call=t,this._time=r,ID()},stop:function(){this._call&&(this._call=null,this._time=1/0,ID())}};var RD="http://www.w3.org/1999/xhtml",FD={svg:"http://www.w3.org/2000/svg",xhtml:RD,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function CD(t){var n=t+="",r=n.indexOf(":");return r>=0&&"xmlns"!==(n=t.slice(0,r))&&(t=t.slice(r+1)),FD.hasOwnProperty(n)?{space:FD[n],local:t}:t}function DD(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===RD&&n.documentElement.namespaceURI===RD?n.createElement(t):n.createElementNS(r,t)}}function HD(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function jD(t){var n=CD(t);return(n.local?HD:DD)(n)}function UD(){}function _D(t){return null==t?UD:function(){return this.querySelector(t)}}function PD(){return[]}function WD(t){return null==t?PD:function(){return this.querySelectorAll(t)}}function BD(t){return function(){return this.matches(t)}}function $D(t){return new Array(t.length)}function YD(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function qD(t,n,r,e,i,u){for(var o,a=0,s=n.length,c=u.length;a<c;++a)(o=n[a])?(o.__data__=u[a],e[a]=o):r[a]=new YD(t,u[a]);for(;a<s;++a)(o=n[a])&&(i[a]=o)}function zD(t,n,r,e,i,u,o){var a,s,c,f={},h=n.length,l=u.length,d=new Array(h);for(a=0;a<h;++a)(s=n[a])&&(d[a]=c="$"+o.call(s,s.__data__,a,n),c in f?i[a]=s:f[c]=s);for(a=0;a<l;++a)(s=f[c="$"+o.call(t,u[a],a,u)])?(e[a]=s,s.__data__=u[a],f[c]=null):r[a]=new YD(t,u[a]);for(a=0;a<h;++a)(s=n[a])&&f[d[a]]===s&&(i[a]=s)}function VD(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function GD(t){return function(){this.removeAttribute(t)}}function ZD(t){return function(){this.removeAttributeNS(t.space,t.local)}}function XD(t,n){return function(){this.setAttribute(t,n)}}function KD(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function JD(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}function QD(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function tH(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function nH(t){return function(){this.style.removeProperty(t)}}function rH(t,n,r){return function(){this.style.setProperty(t,n,r)}}function eH(t,n,r){return function(){var e=n.apply(this,arguments);null==e?this.style.removeProperty(t):this.style.setProperty(t,e,r)}}function iH(t,n){return t.style.getPropertyValue(n)||tH(t).getComputedStyle(t,null).getPropertyValue(n)}function uH(t){return function(){delete this[t]}}function oH(t,n){return function(){this[t]=n}}function aH(t,n){return function(){var r=n.apply(this,arguments);null==r?delete this[t]:this[t]=r}}function sH(t){return t.trim().split(/^|\s+/)}function cH(t){return t.classList||new fH(t)}function fH(t){this._node=t,this._names=sH(t.getAttribute("class")||"")}function hH(t,n){for(var r=cH(t),e=-1,i=n.length;++e<i;)r.add(n[e])}function lH(t,n){for(var r=cH(t),e=-1,i=n.length;++e<i;)r.remove(n[e])}function dH(t){return function(){hH(this,t)}}function vH(t){return function(){lH(this,t)}}function pH(t,n){return function(){(n.apply(this,arguments)?hH:lH)(this,t)}}function bH(){this.textContent=""}function wH(t){return function(){this.textContent=t}}function mH(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function yH(){this.innerHTML=""}function gH(t){return function(){this.innerHTML=t}}function MH(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function NH(){this.nextSibling&&this.parentNode.appendChild(this)}function LH(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function kH(){return null}function EH(){var t=this.parentNode;t&&t.removeChild(this)}function AH(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function TH(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}YD.prototype={constructor:YD,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},fH.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var xH={};function SH(t,n,r){return t=OH(t,n,r),function(n){var r=n.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||t.call(this,n)}}function OH(t,n,r){return function(){try{t.call(this,this.__data__,n,r)}finally{}}}function IH(t){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}}))}function RH(t){return function(){var n=this.__on;if(n){for(var r,e=0,i=-1,u=n.length;e<u;++e)r=n[e],t.type&&r.type!==t.type||r.name!==t.name?n[++i]=r:this.removeEventListener(r.type,r.listener,r.capture);++i?n.length=i:delete this.__on}}}function FH(t,n,r){var e=xH.hasOwnProperty(t.type)?SH:OH;return function(i,u,o){var a,s=this.__on,c=e(n,u,o);if(s)for(var f=0,h=s.length;f<h;++f)if((a=s[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=r),void(a.value=n);this.addEventListener(t.type,c,r),a={type:t.type,name:t.name,value:n,listener:c,capture:r},s?s.push(a):this.__on=[a]}}function CH(t,n,r){var e=tH(t),i=e.CustomEvent;"function"==typeof i?i=new i(n,r):(i=e.document.createEvent("Event"),r?(i.initEvent(n,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function DH(t,n){return function(){return CH(this,t,n)}}function HH(t,n){return function(){return CH(this,t,n.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(xH={mouseenter:"mouseover",mouseleave:"mouseout"}));var jH=[null];function UH(t,n){this._groups=t,this._parents=n}function _H(){return new UH([[document.documentElement]],jH)}UH.prototype=_H.prototype={constructor:UH,select:function(t){"function"!=typeof t&&(t=_D(t));for(var n=this._groups,r=n.length,e=new Array(r),i=0;i<r;++i)for(var u,o,a=n[i],s=a.length,c=e[i]=new Array(s),f=0;f<s;++f)(u=a[f])&&(o=t.call(u,u.__data__,f,a))&&("__data__"in u&&(o.__data__=u.__data__),c[f]=o);return new UH(e,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=WD(t));for(var n=this._groups,r=n.length,e=[],i=[],u=0;u<r;++u)for(var o,a=n[u],s=a.length,c=0;c<s;++c)(o=a[c])&&(e.push(t.call(o,o.__data__,c,a)),i.push(o));return new UH(e,i)},filter:function(t){"function"!=typeof t&&(t=BD(t));for(var n=this._groups,r=n.length,e=new Array(r),i=0;i<r;++i)for(var u,o=n[i],a=o.length,s=e[i]=[],c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&s.push(u);return new UH(e,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var r=n?zD:qD,e=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var u=i.length,o=new Array(u),a=new Array(u),s=new Array(u),c=0;c<u;++c){var f=e[c],h=i[c],l=h.length,d=t.call(f,f&&f.__data__,c,e),v=d.length,p=a[c]=new Array(v),b=o[c]=new Array(v);r(f,h,p,b,s[c]=new Array(l),d,n);for(var w,m,y=0,g=0;y<v;++y)if(w=p[y]){for(y>=g&&(g=y+1);!(m=b[g])&&++g<v;);w._next=m||null}}return(o=new UH(o,e))._enter=a,o._exit=s,o},enter:function(){return new UH(this._enter||this._groups.map($D),this._parents)},exit:function(){return new UH(this._exit||this._groups.map($D),this._parents)},join:function(t,n,r){var e=this.enter(),i=this,u=this.exit();return e="function"==typeof t?t(e):e.append(t+""),null!=n&&(i=n(i)),null==r?u.remove():r(u),e&&i?e.merge(i).order():i},merge:function(t){for(var n=this._groups,r=t._groups,e=n.length,i=Math.min(e,r.length),u=new Array(e),o=0;o<i;++o)for(var a,s=n[o],c=r[o],f=s.length,h=u[o]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;o<e;++o)u[o]=n[o];return new UH(u,this._parents)},order:function(){for(var t=this._groups,n=-1,r=t.length;++n<r;)for(var e,i=t[n],u=i.length-1,o=i[u];--u>=0;)(e=i[u])&&(o&&4^e.compareDocumentPosition(o)&&o.parentNode.insertBefore(e,o),o=e);return this},sort:function(t){function n(n,r){return n&&r?t(n.__data__,r.__data__):!n-!r}t||(t=VD);for(var r=this._groups,e=r.length,i=new Array(e),u=0;u<e;++u){for(var o,a=r[u],s=a.length,c=i[u]=new Array(s),f=0;f<s;++f)(o=a[f])&&(c[f]=o);c.sort(n)}return new UH(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var e=t[n],i=0,u=e.length;i<u;++i){var o=e[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,r=0,e=n.length;r<e;++r)for(var i,u=n[r],o=0,a=u.length;o<a;++o)(i=u[o])&&t.call(i,i.__data__,o,u);return this},attr:function(t,n){var r=CD(t);if(arguments.length<2){var e=this.node();return r.local?e.getAttributeNS(r.space,r.local):e.getAttribute(r)}return this.each((null==n?r.local?ZD:GD:"function"==typeof n?r.local?QD:JD:r.local?KD:XD)(r,n))},style:function(t,n,r){return arguments.length>1?this.each((null==n?nH:"function"==typeof n?eH:rH)(t,n,null==r?"":r)):iH(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?uH:"function"==typeof n?aH:oH)(t,n)):this.node()[t]},classed:function(t,n){var r=sH(t+"");if(arguments.length<2){for(var e=cH(this.node()),i=-1,u=r.length;++i<u;)if(!e.contains(r[i]))return!1;return!0}return this.each(("function"==typeof n?pH:n?dH:vH)(r,n))},text:function(t){return arguments.length?this.each(null==t?bH:("function"==typeof t?mH:wH)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?yH:("function"==typeof t?MH:gH)(t)):this.node().innerHTML},raise:function(){return this.each(NH)},lower:function(){return this.each(LH)},append:function(t){var n="function"==typeof t?t:jD(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var r="function"==typeof t?t:jD(t),e=null==n?kH:"function"==typeof n?n:_D(n);return this.select((function(){return this.insertBefore(r.apply(this,arguments),e.apply(this,arguments)||null)}))},remove:function(){return this.each(EH)},clone:function(t){return this.select(t?TH:AH)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,r){var e,i,u=IH(t+""),o=u.length;if(!(arguments.length<2)){for(a=n?FH:RH,null==r&&(r=!1),e=0;e<o;++e)this.each(a(u[e],n,r));return this}var a=this.node().__on;if(a)for(var s,c=0,f=a.length;c<f;++c)for(e=0,s=a[c];e<o;++e)if((i=u[e]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?HH:DH)(t,n))}};var PH={value:function(){}};function WH(){for(var t,n=0,r=arguments.length,e={};n<r;++n){if(!(t=arguments[n]+"")||t in e||/[\s.]/.test(t))throw new Error("illegal type: "+t);e[t]=[]}return new BH(e)}function BH(t){this._=t}function $H(t,n){return t.trim().split(/^|\s+/).map((function(t){var r="",e=t.indexOf(".");if(e>=0&&(r=t.slice(e+1),t=t.slice(0,e)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function YH(t,n){for(var r,e=0,i=t.length;e<i;++e)if((r=t[e]).name===n)return r.value}function qH(t,n,r){for(var e=0,i=t.length;e<i;++e)if(t[e].name===n){t[e]=PH,t=t.slice(0,e).concat(t.slice(e+1));break}return null!=r&&t.push({name:n,value:r}),t}BH.prototype=WH.prototype={constructor:BH,on:function(t,n){var r,e=this._,i=$H(t+"",e),u=-1,o=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++u<o;)if(r=(t=i[u]).type)e[r]=qH(e[r],t.name,n);else if(null==n)for(r in e)e[r]=qH(e[r],t.name,null);return this}for(;++u<o;)if((r=(t=i[u]).type)&&(r=YH(e[r],t.name)))return r},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new BH(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var r,e,i=new Array(r),u=0;u<r;++u)i[u]=arguments[u+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=0,r=(e=this._[t]).length;u<r;++u)e[u].value.apply(n,i)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var e=this._[t],i=0,u=e.length;i<u;++i)e[i].value.apply(n,r)}};var zH,VH,GH=0,ZH=0,XH=0,KH=0,JH=0,QH=0,tj="object"==typeof performance&&performance.now?performance:Date,nj="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function rj(){return JH||(nj(ej),JH=tj.now()+QH)}function ej(){JH=0}function ij(){this._call=this._time=this._next=null}function uj(t,n,r){var e=new ij;return e.restart(t,n,r),e}function oj(){JH=(KH=tj.now())+QH,GH=ZH=0;try{!function(){rj(),++GH;for(var t,n=zH;n;)(t=JH-n._time)>=0&&n._call.call(null,t),n=n._next;--GH}()}finally{GH=0,function(){for(var t,n,r=zH,e=1/0;r;)r._call?(e>r._time&&(e=r._time),t=r,r=r._next):(n=r._next,r._next=null,r=t?t._next=n:zH=n);VH=t,sj(e)}(),JH=0}}function aj(){var t=tj.now(),n=t-KH;n>1e3&&(QH-=n,KH=t)}function sj(t){GH||(ZH&&(ZH=clearTimeout(ZH)),t-JH>24?(t<1/0&&(ZH=setTimeout(oj,t-tj.now()-QH)),XH&&(XH=clearInterval(XH))):(XH||(KH=tj.now(),XH=setInterval(aj,1e3)),GH=1,nj(oj)))}function cj(t,n,r){var e=new ij;return e.restart((function(r){e.stop(),t(r+n)}),n=null==n?0:+n,r),e}ij.prototype=uj.prototype={constructor:ij,restart:function(t,n,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?rj():+r)+(null==n?0:+n),this._next||VH===this||(VH?VH._next=this:zH=this,VH=this),this._call=t,this._time=r,sj()},stop:function(){this._call&&(this._call=null,this._time=1/0,sj())}};var fj=WH("start","end","interrupt"),hj=[];function lj(t,n,r,e,i,u){var o=t.__transition;if(o){if(r in o)return}else t.__transition={};!function(t,n,r){var e,i=t.__transition;function u(s){var c,f,h,l;if(1!==r.state)return a();for(c in i)if((l=i[c]).name===r.name){if(3===l.state)return cj(u);4===l.state?(l.state=6,l.timer.stop(),l.on.call("interrupt",t,t.__data__,l.index,l.group),delete i[c]):+c<n&&(l.state=6,l.timer.stop(),delete i[c])}if(cj((function(){3===r.state&&(r.state=4,r.timer.restart(o,r.delay,r.time),o(s))})),r.state=2,r.on.call("start",t,t.__data__,r.index,r.group),2===r.state){for(r.state=3,e=new Array(h=r.tween.length),c=0,f=-1;c<h;++c)(l=r.tween[c].value.call(t,t.__data__,r.index,r.group))&&(e[++f]=l);e.length=f+1}}function o(n){for(var i=n<r.duration?r.ease.call(null,n/r.duration):(r.timer.restart(a),r.state=5,1),u=-1,o=e.length;++u<o;)e[u].call(null,i);5===r.state&&(r.on.call("end",t,t.__data__,r.index,r.group),a())}function a(){for(var e in r.state=6,r.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=r,r.timer=uj((function(t){r.state=1,r.timer.restart(u,r.delay,r.time),r.delay<=t&&u(t-r.delay)}),0,r.time)}(t,r,{name:n,index:e,group:i,on:fj,tween:hj,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:0})}function dj(t,n){var r=pj(t,n);if(r.state>0)throw new Error("too late; already scheduled");return r}function vj(t,n){var r=pj(t,n);if(r.state>2)throw new Error("too late; already started");return r}function pj(t,n){var r=t.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function bj(t,n){var r,e,i,u=t.__transition,o=!0;if(u){for(i in n=null==n?null:n+"",u)(r=u[i]).name===n?(e=r.state>2&&r.state<5,r.state=6,r.timer.stop(),e&&r.on.call("interrupt",t,t.__data__,r.index,r.group),delete u[i]):o=!1;o&&delete t.__transition}}function wj(t,n,r){t.prototype=n.prototype=r,r.constructor=t}function mj(t,n){var r=Object.create(t.prototype);for(var e in n)r[e]=n[e];return r}function yj(){}var gj="\\s*([+-]?\\d+)\\s*",Mj="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nj="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lj=/^#([0-9a-f]{3,8})$/,kj=new RegExp("^rgb\\("+[gj,gj,gj]+"\\)$"),Ej=new RegExp("^rgb\\("+[Nj,Nj,Nj]+"\\)$"),Aj=new RegExp("^rgba\\("+[gj,gj,gj,Mj]+"\\)$"),Tj=new RegExp("^rgba\\("+[Nj,Nj,Nj,Mj]+"\\)$"),xj=new RegExp("^hsl\\("+[Mj,Nj,Nj]+"\\)$"),Sj=new RegExp("^hsla\\("+[Mj,Nj,Nj,Mj]+"\\)$"),Oj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ij(){return this.rgb().formatHex()}function Rj(){return this.rgb().formatRgb()}function Fj(t){var n,r;return t=(t+"").trim().toLowerCase(),(n=Lj.exec(t))?(r=n[1].length,n=parseInt(n[1],16),6===r?Cj(n):3===r?new Uj(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===r?Dj(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===r?Dj(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=kj.exec(t))?new Uj(n[1],n[2],n[3],1):(n=Ej.exec(t))?new Uj(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Aj.exec(t))?Dj(n[1],n[2],n[3],n[4]):(n=Tj.exec(t))?Dj(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=xj.exec(t))?Bj(n[1],n[2]/100,n[3]/100,1):(n=Sj.exec(t))?Bj(n[1],n[2]/100,n[3]/100,n[4]):Oj.hasOwnProperty(t)?Cj(Oj[t]):"transparent"===t?new Uj(NaN,NaN,NaN,0):null}function Cj(t){return new Uj(t>>16&255,t>>8&255,255&t,1)}function Dj(t,n,r,e){return e<=0&&(t=n=r=NaN),new Uj(t,n,r,e)}function Hj(t){return t instanceof yj||(t=Fj(t)),t?new Uj((t=t.rgb()).r,t.g,t.b,t.opacity):new Uj}function jj(t,n,r,e){return 1===arguments.length?Hj(t):new Uj(t,n,r,null==e?1:e)}function Uj(t,n,r,e){this.r=+t,this.g=+n,this.b=+r,this.opacity=+e}function _j(){return"#"+Wj(this.r)+Wj(this.g)+Wj(this.b)}function Pj(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Wj(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Bj(t,n,r,e){return e<=0?t=n=r=NaN:r<=0||r>=1?t=n=NaN:n<=0&&(t=NaN),new Yj(t,n,r,e)}function $j(t){if(t instanceof Yj)return new Yj(t.h,t.s,t.l,t.opacity);if(t instanceof yj||(t=Fj(t)),!t)return new Yj;if(t instanceof Yj)return t;var n=(t=t.rgb()).r/255,r=t.g/255,e=t.b/255,i=Math.min(n,r,e),u=Math.max(n,r,e),o=NaN,a=u-i,s=(u+i)/2;return a?(o=n===u?(r-e)/a+6*(r<e):r===u?(e-n)/a+2:(n-r)/a+4,a/=s<.5?u+i:2-u-i,o*=60):a=s>0&&s<1?0:o,new Yj(o,a,s,t.opacity)}function Yj(t,n,r,e){this.h=+t,this.s=+n,this.l=+r,this.opacity=+e}function qj(t,n,r){return 255*(t<60?n+(r-n)*t/60:t<180?r:t<240?n+(r-n)*(240-t)/60:n)}wj(yj,Fj,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ij,formatHex:Ij,formatHsl:function(){return $j(this).formatHsl()},formatRgb:Rj,toString:Rj}),wj(Uj,jj,mj(yj,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Uj(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Uj(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_j,formatHex:_j,formatRgb:Pj,toString:Pj})),wj(Yj,(function(t,n,r,e){return 1===arguments.length?$j(t):new Yj(t,n,r,null==e?1:e)}),mj(yj,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Yj(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Yj(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,e=r+(r<.5?r:1-r)*n,i=2*r-e;return new Uj(qj(t>=240?t-240:t+120,i,e),qj(t,i,e),qj(t<120?t+240:t-120,i,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var zj=Math.PI/180,Vj=180/Math.PI;function Gj(t){if(t instanceof Zj)return new Zj(t.l,t.a,t.b,t.opacity);if(t instanceof nU)return rU(t);t instanceof Uj||(t=Hj(t));var n,r,e=Qj(t.r),i=Qj(t.g),u=Qj(t.b),o=Xj((.2225045*e+.7168786*i+.0606169*u)/1);return e===i&&i===u?n=r=o:(n=Xj((.4360747*e+.3850649*i+.1430804*u)/.96422),r=Xj((.0139322*e+.0971045*i+.7141733*u)/.82521)),new Zj(116*o-16,500*(n-o),200*(o-r),t.opacity)}function Zj(t,n,r,e){this.l=+t,this.a=+n,this.b=+r,this.opacity=+e}function Xj(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/(6/29*3*(6/29))+4/29}function Kj(t){return t>6/29?t*t*t:6/29*3*(6/29)*(t-4/29)}function Jj(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Qj(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function tU(t){if(t instanceof nU)return new nU(t.h,t.c,t.l,t.opacity);if(t instanceof Zj||(t=Gj(t)),0===t.a&&0===t.b)return new nU(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Vj;return new nU(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function nU(t,n,r,e){this.h=+t,this.c=+n,this.l=+r,this.opacity=+e}function rU(t){if(isNaN(t.h))return new Zj(t.l,0,0,t.opacity);var n=t.h*zj;return new Zj(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}function eU(t){if(t instanceof iU)return new iU(t.h,t.s,t.l,t.opacity);t instanceof Uj||(t=Hj(t));var n=t.g/255,r=t.b/255,e=(-.6557636667999999*r+t.r/255*-1.7884503806-3.5172982438*n)/-5.9615122912,i=r-e,u=(1.97294*(n-e)- -.29227*i)/-.90649,o=Math.sqrt(u*u+i*i)/(1.97294*e*(1-e)),a=o?Math.atan2(u,i)*Vj-120:NaN;return new iU(a<0?a+360:a,o,e,t.opacity)}function iU(t,n,r,e){this.h=+t,this.s=+n,this.l=+r,this.opacity=+e}function uU(t){return function(){return t}}function oU(t,n){var r=n-t;return r?function(t,n){return function(r){return t+r*n}}(t,r):uU(isNaN(t)?n:t)}wj(Zj,(function(t,n,r,e){return 1===arguments.length?Gj(t):new Zj(t,n,r,null==e?1:e)}),mj(yj,{brighter:function(t){return new Zj(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Zj(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return new Uj(Jj(3.1338561*(n=.96422*Kj(n))-1.6168667*(t=1*Kj(t))-.4906146*(r=.82521*Kj(r))),Jj(-.9787684*n+1.9161415*t+.033454*r),Jj(.0719453*n-.2289914*t+1.4052427*r),this.opacity)}})),wj(nU,(function(t,n,r,e){return 1===arguments.length?tU(t):new nU(t,n,r,null==e?1:e)}),mj(yj,{brighter:function(t){return new nU(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new nU(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return rU(this).rgb()}})),wj(iU,(function(t,n,r,e){return 1===arguments.length?eU(t):new iU(t,n,r,null==e?1:e)}),mj(yj,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new iU(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new iU(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*zj,n=+this.l,r=isNaN(this.s)?0:this.s*n*(1-n),e=Math.cos(t),i=Math.sin(t);return new Uj(255*(n+r*(-.14861*e+1.78277*i)),255*(n+r*(-.29227*e+-.90649*i)),255*(n+r*(1.97294*e)),this.opacity)}}));var aU=function t(n){var r=function(t){return 1==(t=+t)?oU:function(n,r){return r-n?function(t,n,r){return t=Math.pow(t,r),n=Math.pow(n,r)-t,r=1/r,function(e){return Math.pow(t+e*n,r)}}(n,r,t):uU(isNaN(n)?r:n)}}(n);function e(t,n){var e=r((t=jj(t)).r,(n=jj(n)).r),i=r(t.g,n.g),u=r(t.b,n.b),o=oU(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=u(n),t.opacity=o(n),t+""}}return e.gamma=t,e}(1);function sU(t,n){return t=+t,n=+n,function(r){return t*(1-r)+n*r}}var cU=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fU=new RegExp(cU.source,"g");function hU(t,n){var r,e,i,u=cU.lastIndex=fU.lastIndex=0,o=-1,a=[],s=[];for(t+="",n+="";(r=cU.exec(t))&&(e=fU.exec(n));)(i=e.index)>u&&(i=n.slice(u,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(e=e[0])?a[o]?a[o]+=e:a[++o]=e:(a[++o]=null,s.push({i:o,x:sU(r,e)})),u=fU.lastIndex;return u<n.length&&(i=n.slice(u),a[o]?a[o]+=i:a[++o]=i),a.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var r,e=0;e<n;++e)a[(r=s[e]).i]=r.x(t);return a.join("")})}var lU,dU,vU,pU,bU=180/Math.PI,wU={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mU(t,n,r,e,i,u){var o,a,s;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(s=t*r+n*e)&&(r-=t*s,e-=n*s),(a=Math.sqrt(r*r+e*e))&&(r/=a,e/=a,s/=a),t*e<n*r&&(t=-t,n=-n,s=-s,o=-o),{translateX:i,translateY:u,rotate:Math.atan2(n,t)*bU,skewX:Math.atan(s)*bU,scaleX:o,scaleY:a}}function yU(t,n,r,e){function i(t){return t.length?t.pop()+" ":""}return function(u,o){var a=[],s=[];return u=t(u),o=t(o),function(t,e,i,u,o,a){if(t!==i||e!==u){var s=o.push("translate(",null,n,null,r);a.push({i:s-4,x:sU(t,i)},{i:s-2,x:sU(e,u)})}else(i||u)&&o.push("translate("+i+n+u+r)}(u.translateX,u.translateY,o.translateX,o.translateY,a,s),function(t,n,r,u){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),u.push({i:r.push(i(r)+"rotate(",null,e)-2,x:sU(t,n)})):n&&r.push(i(r)+"rotate("+n+e)}(u.rotate,o.rotate,a,s),function(t,n,r,u){t!==n?u.push({i:r.push(i(r)+"skewX(",null,e)-2,x:sU(t,n)}):n&&r.push(i(r)+"skewX("+n+e)}(u.skewX,o.skewX,a,s),function(t,n,r,e,u,o){if(t!==r||n!==e){var a=u.push(i(u)+"scale(",null,",",null,")");o.push({i:a-4,x:sU(t,r)},{i:a-2,x:sU(n,e)})}else 1===r&&1===e||u.push(i(u)+"scale("+r+","+e+")")}(u.scaleX,u.scaleY,o.scaleX,o.scaleY,a,s),u=o=null,function(t){for(var n,r=-1,e=s.length;++r<e;)a[(n=s[r]).i]=n.x(t);return a.join("")}}}var gU=yU((function(t){return"none"===t?wU:(lU||(lU=document.createElement("DIV"),dU=document.documentElement,vU=document.defaultView),lU.style.transform=t,t=vU.getComputedStyle(dU.appendChild(lU),null).getPropertyValue("transform"),dU.removeChild(lU),mU(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),MU=yU((function(t){return null==t?wU:(pU||(pU=document.createElementNS("http://www.w3.org/2000/svg","g")),pU.setAttribute("transform",t),(t=pU.transform.baseVal.consolidate())?mU((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):wU)}),", ",")",")");function NU(t,n){var r,e;return function(){var i=vj(this,t),u=i.tween;if(u!==r)for(var o=0,a=(e=r=u).length;o<a;++o)if(e[o].name===n){(e=e.slice()).splice(o,1);break}i.tween=e}}function LU(t,n,r){var e,i;if("function"!=typeof r)throw new Error;return function(){var u=vj(this,t),o=u.tween;if(o!==e){i=(e=o).slice();for(var a={name:n,value:r},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=a;break}s===c&&i.push(a)}u.tween=i}}function kU(t,n,r){var e=t._id;return t.each((function(){var t=vj(this,e);(t.value||(t.value={}))[n]=r.apply(this,arguments)})),function(t){return pj(t,e).value[n]}}function EU(t,n){var r;return("number"==typeof n?sU:n instanceof Fj?aU:(r=Fj(n))?(n=r,aU):hU)(t,n)}function AU(t){return function(){this.removeAttribute(t)}}function TU(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xU(t,n,r){var e,i;return function(){var u=this.getAttribute(t);return u===r?null:u===e?i:i=n(e=u,r)}}function SU(t,n,r){var e,i;return function(){var u=this.getAttributeNS(t.space,t.local);return u===r?null:u===e?i:i=n(e=u,r)}}function OU(t,n,r){var e,i,u;return function(){var o,a=r(this);if(null!=a)return(o=this.getAttribute(t))===a?null:o===e&&a===i?u:u=n(e=o,i=a);this.removeAttribute(t)}}function IU(t,n,r){var e,i,u;return function(){var o,a=r(this);if(null!=a)return(o=this.getAttributeNS(t.space,t.local))===a?null:o===e&&a===i?u:u=n(e=o,i=a);this.removeAttributeNS(t.space,t.local)}}function RU(t,n){function r(){var r=this,e=n.apply(r,arguments);return e&&function(n){r.setAttributeNS(t.space,t.local,e(n))}}return r._value=n,r}function FU(t,n){function r(){var r=this,e=n.apply(r,arguments);return e&&function(n){r.setAttribute(t,e(n))}}return r._value=n,r}function CU(t,n){return function(){dj(this,t).delay=+n.apply(this,arguments)}}function DU(t,n){return n=+n,function(){dj(this,t).delay=n}}function HU(t,n){return function(){vj(this,t).duration=+n.apply(this,arguments)}}function jU(t,n){return n=+n,function(){vj(this,t).duration=n}}function UU(t,n){if("function"!=typeof n)throw new Error;return function(){vj(this,t).ease=n}}function _U(t,n,r){var e,i,u=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?dj:vj;return function(){var o=u(this,t),a=o.on;a!==e&&(i=(e=a).copy()).on(n,r),o.on=i}}var PU=_H.prototype.constructor;function WU(t,n,r){function e(){var e=this,i=n.apply(e,arguments);return i&&function(n){e.style.setProperty(t,i(n),r)}}return e._value=n,e}var BU=0;function $U(t,n,r,e){this._groups=t,this._parents=n,this._name=r,this._id=e}function YU(t){return _H().transition(t)}function qU(){return++BU}var zU=_H.prototype;$U.prototype=YU.prototype={constructor:$U,select:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=_D(t));for(var e=this._groups,i=e.length,u=new Array(i),o=0;o<i;++o)for(var a,s,c=e[o],f=c.length,h=u[o]=new Array(f),l=0;l<f;++l)(a=c[l])&&(s=t.call(a,a.__data__,l,c))&&("__data__"in a&&(s.__data__=a.__data__),h[l]=s,lj(h[l],n,r,l,h,pj(a,r)));return new $U(u,this._parents,n,r)},selectAll:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=WD(t));for(var e=this._groups,i=e.length,u=[],o=[],a=0;a<i;++a)for(var s,c=e[a],f=c.length,h=0;h<f;++h)if(s=c[h]){for(var l,d=t.call(s,s.__data__,h,c),v=pj(s,r),p=0,b=d.length;p<b;++p)(l=d[p])&&lj(l,n,r,p,d,v);u.push(d),o.push(s)}return new $U(u,o,n,r)},filter:function(t){"function"!=typeof t&&(t=BD(t));for(var n=this._groups,r=n.length,e=new Array(r),i=0;i<r;++i)for(var u,o=n[i],a=o.length,s=e[i]=[],c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&s.push(u);return new $U(e,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,r=t._groups,e=n.length,i=Math.min(e,r.length),u=new Array(e),o=0;o<i;++o)for(var a,s=n[o],c=r[o],f=s.length,h=u[o]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;o<e;++o)u[o]=n[o];return new $U(u,this._parents,this._name,this._id)},selection:function(){return new PU(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,r=qU(),e=this._groups,i=e.length,u=0;u<i;++u)for(var o,a=e[u],s=a.length,c=0;c<s;++c)if(o=a[c]){var f=pj(o,n);lj(o,t,r,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new $U(e,this._parents,t,r)},call:zU.call,nodes:zU.nodes,node:zU.node,size:zU.size,empty:zU.empty,each:zU.each,on:function(t,n){var r=this._id;return arguments.length<2?pj(this.node(),r).on.on(t):this.each(_U(r,t,n))},attr:function(t,n){var r=CD(t),e="transform"===r?MU:EU;return this.attrTween(t,"function"==typeof n?(r.local?IU:OU)(r,e,kU(this,"attr."+t,n)):null==n?(r.local?TU:AU)(r):(r.local?SU:xU)(r,e,n+""))},attrTween:function(t,n){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;var e=CD(t);return this.tween(r,(e.local?RU:FU)(e,n))},style:function(t,n,r){var e="transform"==(t+="")?gU:EU;return null==n?this.styleTween(t,function(t,n){var r,e,i;return function(){var u=iH(this,t),o=(this.style.removeProperty(t),iH(this,t));return u===o?null:u===r&&o===e?i:i=n(r=u,e=o)}}(t,e)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,r){var e,i,u;return function(){var o=iH(this,t),a=r(this);return null==a&&(this.style.removeProperty(t),a=iH(this,t)),o===a?null:o===e&&a===i?u:u=n(e=o,i=a)}}(t,e,kU(this,"style."+t,n)):function(t,n,r){var e,i;return function(){var u=iH(this,t);return u===r?null:u===e?i:i=n(e=u,r)}}(t,e,n+""),r)},styleTween:function(t,n,r){var e="style."+(t+="");if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;return this.tween(e,WU(t,n,null==r?"":r))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(kU(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var r=this._id;if(t+="",arguments.length<2){for(var e,i=pj(this.node(),r).tween,u=0,o=i.length;u<o;++u)if((e=i[u]).name===t)return e.value;return null}return this.each((null==n?NU:LU)(r,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?CU:DU)(n,t)):pj(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?HU:jU)(n,t)):pj(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(UU(n,t)):pj(this.node(),n).ease}};var VU={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function GU(t,n){for(var r;!(r=t.__transition)||!(r=r[n]);)if(!(t=t.parentNode))return VU.time=rj(),VU;return r}_H.prototype.interrupt=function(t){return this.each((function(){bj(this,t)}))},_H.prototype.transition=function(t){var n,r;t instanceof $U?(n=t._id,t=t._name):(n=qU(),(r=VU).time=rj(),t=null==t?null:t+"");for(var e=this._groups,i=e.length,u=0;u<i;++u)for(var o,a=e[u],s=a.length,c=0;c<s;++c)(o=a[c])&&lj(o,t,n,c,a,r||GU(o,n));return new $U(e,this._parents,t,n)};var ZU=[null];function XU(t){return function(){return t}}function KU(t){return t[0]}function JU(t){return t[1]}function QU(){this._=null}function t_(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function n_(t,n){var r=n,e=n.R,i=r.U;i?i.L===r?i.L=e:i.R=e:t._=e,e.U=i,r.U=e,r.R=e.L,r.R&&(r.R.U=r),e.L=r}function r_(t,n){var r=n,e=n.L,i=r.U;i?i.L===r?i.L=e:i.R=e:t._=e,e.U=i,r.U=e,r.L=e.R,r.L&&(r.L.U=r),e.R=r}function e_(t){for(;t.L;)t=t.L;return t}function i_(t,n,r,e){var i=[null,null],u=x_.push(i)-1;return i.left=t,i.right=n,r&&o_(i,t,n,r),e&&o_(i,n,t,e),A_[t.index].halfedges.push(u),A_[n.index].halfedges.push(u),i}function u_(t,n,r){var e=[n,r];return e.left=t,e}function o_(t,n,r,e){t[0]||t[1]?t.left===r?t[1]=e:t[0]=e:(t[0]=e,t.left=n,t.right=r)}function a_(t,n,r,e,i){var u,o=t[0],a=t[1],s=o[0],c=o[1],f=0,h=1,l=a[0]-s,d=a[1]-c;if(u=n-s,l||!(u>0)){if(u/=l,l<0){if(u<f)return;u<h&&(h=u)}else if(l>0){if(u>h)return;u>f&&(f=u)}if(u=e-s,l||!(u<0)){if(u/=l,l<0){if(u>h)return;u>f&&(f=u)}else if(l>0){if(u<f)return;u<h&&(h=u)}if(u=r-c,d||!(u>0)){if(u/=d,d<0){if(u<f)return;u<h&&(h=u)}else if(d>0){if(u>h)return;u>f&&(f=u)}if(u=i-c,d||!(u<0)){if(u/=d,d<0){if(u>h)return;u>f&&(f=u)}else if(d>0){if(u<f)return;u<h&&(h=u)}return!(f>0||h<1)||(f>0&&(t[0]=[s+f*l,c+f*d]),h<1&&(t[1]=[s+h*l,c+h*d]),!0)}}}}}function s_(t,n,r,e,i){var u=t[1];if(u)return!0;var o,a,s=t[0],c=t.left,f=t.right,h=c[0],l=c[1],d=f[0],v=f[1],p=(h+d)/2;if(v===l){if(p<n||p>=e)return;if(h>d){if(s){if(s[1]>=i)return}else s=[p,r];u=[p,i]}else{if(s){if(s[1]<r)return}else s=[p,i];u=[p,r]}}else if(a=(l+v)/2-(o=(h-d)/(v-l))*p,o<-1||o>1)if(h>d){if(s){if(s[1]>=i)return}else s=[(r-a)/o,r];u=[(i-a)/o,i]}else{if(s){if(s[1]<r)return}else s=[(i-a)/o,i];u=[(r-a)/o,r]}else if(l<v){if(s){if(s[0]>=e)return}else s=[n,o*n+a];u=[e,o*e+a]}else{if(s){if(s[0]<n)return}else s=[e,o*e+a];u=[n,o*n+a]}return t[0]=s,t[1]=u,!0}function c_(t,n){var r=t.site,e=n.left,i=n.right;return r===i&&(i=e,e=r),i?Math.atan2(i[1]-e[1],i[0]-e[0]):(r===e?(e=n[1],i=n[0]):(e=n[0],i=n[1]),Math.atan2(e[0]-i[0],i[1]-e[1]))}function f_(t,n){return n[+(n.left!==t.site)]}function h_(t,n){return n[+(n.left===t.site)]}QU.prototype={constructor:QU,insert:function(t,n){var r,e,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;r=t}else this._?(t=e_(this._),n.P=null,n.N=t,t.P=t.L=n,r=t):(n.P=n.N=null,this._=n,r=null);for(n.L=n.R=null,n.U=r,n.C=!0,t=n;r&&r.C;)r===(e=r.U).L?(i=e.R)&&i.C?(r.C=i.C=!1,e.C=!0,t=e):(t===r.R&&(n_(this,r),r=(t=r).U),r.C=!1,e.C=!0,r_(this,e)):(i=e.L)&&i.C?(r.C=i.C=!1,e.C=!0,t=e):(t===r.L&&(r_(this,r),r=(t=r).U),r.C=!1,e.C=!0,n_(this,e)),r=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,r,e,i=t.U,u=t.L,o=t.R;if(r=u?o?e_(o):u:o,i?i.L===t?i.L=r:i.R=r:this._=r,u&&o?(e=r.C,r.C=t.C,r.L=u,u.U=r,r!==o?(i=r.U,r.U=t.U,i.L=t=r.R,r.R=o,o.U=r):(r.U=i,i=r,t=r.R)):(e=t.C,t=r),t&&(t.U=i),!e)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,n_(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,r_(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,n_(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,r_(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,n_(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,r_(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var l_,d_=[];function v_(){t_(this),this.x=this.y=this.arc=this.site=this.cy=null}function p_(t){var n=t.P,r=t.N;if(n&&r){var e=n.site,i=t.site,u=r.site;if(e!==u){var o=i[0],a=i[1],s=e[0]-o,c=e[1]-a,f=u[0]-o,h=u[1]-a,l=2*(s*h-c*f);if(!(l>=-O_)){var d=s*s+c*c,v=f*f+h*h,p=(h*d-c*v)/l,b=(s*v-f*d)/l,w=d_.pop()||new v_;w.arc=t,w.site=i,w.x=p+o,w.y=(w.cy=b+a)+Math.sqrt(p*p+b*b),t.circle=w;for(var m=null,y=T_._;y;)if(w.y<y.y||w.y===y.y&&w.x<=y.x){if(!y.L){m=y.P;break}y=y.L}else{if(!y.R){m=y;break}y=y.R}T_.insert(m,w),m||(l_=w)}}}}function b_(t){var n=t.circle;n&&(n.P||(l_=n.N),T_.remove(n),d_.push(n),t_(n),t.circle=null)}var w_=[];function m_(){t_(this),this.edge=this.site=this.circle=null}function y_(t){var n=w_.pop()||new m_;return n.site=t,n}function g_(t){b_(t),E_.remove(t),w_.push(t),t_(t)}function M_(t){var n=t.circle,r=n.x,e=n.cy,i=[r,e],u=t.P,o=t.N,a=[t];g_(t);for(var s=u;s.circle&&Math.abs(r-s.circle.x)<S_&&Math.abs(e-s.circle.cy)<S_;)u=s.P,a.unshift(s),g_(s),s=u;a.unshift(s),b_(s);for(var c=o;c.circle&&Math.abs(r-c.circle.x)<S_&&Math.abs(e-c.circle.cy)<S_;)o=c.N,a.push(c),g_(c),c=o;a.push(c),b_(c);var f,h=a.length;for(f=1;f<h;++f)o_((c=a[f]).edge,(s=a[f-1]).site,c.site,i);(c=a[h-1]).edge=i_((s=a[0]).site,c.site,null,i),p_(s),p_(c)}function N_(t){for(var n,r,e,i,u=t[0],o=t[1],a=E_._;a;)if((e=L_(a,o)-u)>S_)a=a.L;else{if(!((i=u-k_(a,o))>S_)){e>-S_?(n=a.P,r=a):i>-S_?(n=a,r=a.N):n=r=a;break}if(!a.R){n=a;break}a=a.R}!function(t){A_[t.index]={site:t,halfedges:[]}}(t);var s=y_(t);if(E_.insert(n,s),n||r){if(n===r)return b_(n),r=y_(n.site),E_.insert(s,r),s.edge=r.edge=i_(n.site,s.site),p_(n),void p_(r);if(r){b_(n),b_(r);var c=n.site,f=c[0],h=c[1],l=t[0]-f,d=t[1]-h,v=r.site,p=v[0]-f,b=v[1]-h,w=2*(l*b-d*p),m=l*l+d*d,y=p*p+b*b,g=[(b*m-d*y)/w+f,(l*y-p*m)/w+h];o_(r.edge,c,v,g),s.edge=i_(c,t,null,g),r.edge=i_(t,v,null,g),p_(n),p_(r)}else s.edge=i_(n.site,s.site)}}function L_(t,n){var r=t.site,e=r[0],i=r[1],u=i-n;if(!u)return e;var o=t.P;if(!o)return-1/0;var a=(r=o.site)[0],s=r[1],c=s-n;if(!c)return a;var f=a-e,h=1/u-1/c,l=f/c;return h?(-l+Math.sqrt(l*l-2*h*(f*f/(-2*c)-s+c/2+i-u/2)))/h+e:(e+a)/2}function k_(t,n){var r=t.N;if(r)return L_(r,n);var e=t.site;return e[1]===n?e[0]:1/0}var E_,A_,T_,x_,S_=1e-6,O_=1e-12;function I_(t,n,r){return(t[0]-r[0])*(n[1]-t[1])-(t[0]-n[0])*(r[1]-t[1])}function R_(t,n){return n[1]-t[1]||n[0]-t[0]}function F_(t,n){var r,e,i,u=t.sort(R_).pop();for(x_=[],A_=new Array(t.length),E_=new QU,T_=new QU;;)if(i=l_,u&&(!i||u[1]<i.y||u[1]===i.y&&u[0]<i.x))u[0]===r&&u[1]===e||(N_(u),r=u[0],e=u[1]),u=t.pop();else{if(!i)break;M_(i.arc)}if(function(){for(var t,n,r,e,i=0,u=A_.length;i<u;++i)if((t=A_[i])&&(e=(n=t.halfedges).length)){var o=new Array(e),a=new Array(e);for(r=0;r<e;++r)o[r]=r,a[r]=c_(t,x_[n[r]]);for(o.sort((function(t,n){return a[n]-a[t]})),r=0;r<e;++r)a[r]=n[o[r]];for(r=0;r<e;++r)n[r]=a[r]}}(),n){var o=+n[0][0],a=+n[0][1],s=+n[1][0],c=+n[1][1];!function(t,n,r,e){for(var i,u=x_.length;u--;)s_(i=x_[u],t,n,r,e)&&a_(i,t,n,r,e)&&(Math.abs(i[0][0]-i[1][0])>S_||Math.abs(i[0][1]-i[1][1])>S_)||delete x_[u]}(o,a,s,c),function(t,n,r,e){var i,u,o,a,s,c,f,h,l,d,v,p,b=A_.length,w=!0;for(i=0;i<b;++i)if(u=A_[i]){for(o=u.site,a=(s=u.halfedges).length;a--;)x_[s[a]]||s.splice(a,1);for(a=0,c=s.length;a<c;)v=(d=h_(u,x_[s[a]]))[0],p=d[1],h=(f=f_(u,x_[s[++a%c]]))[0],l=f[1],(Math.abs(v-h)>S_||Math.abs(p-l)>S_)&&(s.splice(a,0,x_.push(u_(o,d,Math.abs(v-t)<S_&&e-p>S_?[t,Math.abs(h-t)<S_?l:e]:Math.abs(p-e)<S_&&r-v>S_?[Math.abs(l-e)<S_?h:r,e]:Math.abs(v-r)<S_&&p-n>S_?[r,Math.abs(h-r)<S_?l:n]:Math.abs(p-n)<S_&&v-t>S_?[Math.abs(l-n)<S_?h:t,n]:null))-1),++c);c&&(w=!1)}if(w){var m,y,g,M=1/0;for(i=0,w=null;i<b;++i)(u=A_[i])&&(g=(m=(o=u.site)[0]-t)*m+(y=o[1]-n)*y)<M&&(M=g,w=u);if(w){var N=[t,n],L=[t,e],k=[r,e],E=[r,n];w.halfedges.push(x_.push(u_(o=w.site,N,L))-1,x_.push(u_(o,L,k))-1,x_.push(u_(o,k,E))-1,x_.push(u_(o,E,N))-1)}}for(i=0;i<b;++i)(u=A_[i])&&(u.halfedges.length||delete A_[i])}(o,a,s,c)}this.edges=x_,this.cells=A_,E_=T_=x_=A_=null}F_.prototype={constructor:F_,polygons:function(){var t=this.edges;return this.cells.map((function(n){var r=n.halfedges.map((function(r){return f_(n,t[r])}));return r.data=n.site.data,r}))},triangles:function(){var t=[],n=this.edges;return this.cells.forEach((function(r,e){if(u=(i=r.halfedges).length)for(var i,u,o,a=r.site,s=-1,c=n[i[u-1]],f=c.left===a?c.right:c.left;++s<u;)o=f,f=(c=n[i[s]]).left===a?c.right:c.left,o&&f&&e<o.index&&e<f.index&&I_(a,o,f)<0&&t.push([a.data,o.data,f.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,n,r){for(var e,i,u=this,o=u._found||0,a=u.cells.length;!(i=u.cells[o]);)if(++o>=a)return null;var s=t-i.site[0],c=n-i.site[1],f=s*s+c*c;do{i=u.cells[e=o],o=null,i.halfedges.forEach((function(r){var e=u.edges[r],a=e.left;if(a!==i.site&&a||(a=e.right)){var s=t-a[0],c=n-a[1],h=s*s+c*c;h<f&&(f=h,o=a.index)}}))}while(null!==o);return u._found=e,null==r||f<=r*r?i.site:null}};var C_=Xe("start","end","cancel","interrupt"),D_=[];function H_(t,n,r,e,i,u){var o=t.__transition;if(o){if(r in o)return}else t.__transition={};!function(t,n,r){var e,i=t.__transition;function u(s){var c,f,h,l;if(1!==r.state)return a();for(c in i)if((l=i[c]).name===r.name){if(3===l.state)return mi(u);4===l.state?(l.state=6,l.timer.stop(),l.on.call("interrupt",t,t.__data__,l.index,l.group),delete i[c]):+c<n&&(l.state=6,l.timer.stop(),l.on.call("cancel",t,t.__data__,l.index,l.group),delete i[c])}if(mi((function(){3===r.state&&(r.state=4,r.timer.restart(o,r.delay,r.time),o(s))})),r.state=2,r.on.call("start",t,t.__data__,r.index,r.group),2===r.state){for(r.state=3,e=new Array(h=r.tween.length),c=0,f=-1;c<h;++c)(l=r.tween[c].value.call(t,t.__data__,r.index,r.group))&&(e[++f]=l);e.length=f+1}}function o(n){for(var i=n<r.duration?r.ease.call(null,n/r.duration):(r.timer.restart(a),r.state=5,1),u=-1,o=e.length;++u<o;)e[u].call(t,i);5===r.state&&(r.on.call("end",t,t.__data__,r.index,r.group),a())}function a(){for(var e in r.state=6,r.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=r,r.timer=vi((function(t){r.state=1,r.timer.restart(u,r.delay,r.time),r.delay<=t&&u(t-r.delay)}),0,r.time)}(t,r,{name:n,index:e,group:i,on:C_,tween:D_,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:0})}function j_(t,n){var r=__(t,n);if(r.state>0)throw new Error("too late; already scheduled");return r}function U_(t,n){var r=__(t,n);if(r.state>3)throw new Error("too late; already running");return r}function __(t,n){var r=t.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function P_(t,n){var r,e,i,u=t.__transition,o=!0;if(u){for(i in n=null==n?null:n+"",u)(r=u[i]).name===n?(e=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(e?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete u[i]):o=!1;o&&delete t.__transition}}function W_(t,n){var r,e;return function(){var i=U_(this,t),u=i.tween;if(u!==r)for(var o=0,a=(e=r=u).length;o<a;++o)if(e[o].name===n){(e=e.slice()).splice(o,1);break}i.tween=e}}function B_(t,n,r){var e,i;if("function"!=typeof r)throw new Error;return function(){var u=U_(this,t),o=u.tween;if(o!==e){i=(e=o).slice();for(var a={name:n,value:r},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=a;break}s===c&&i.push(a)}u.tween=i}}function $_(t,n,r){var e=t._id;return t.each((function(){var t=U_(this,e);(t.value||(t.value={}))[n]=r.apply(this,arguments)})),function(t){return __(t,e).value[n]}}function Y_(t,n,r){t.prototype=n.prototype=r,r.constructor=t}function q_(t,n){var r=Object.create(t.prototype);for(var e in n)r[e]=n[e];return r}function z_(){}var V_="\\s*([+-]?\\d+)\\s*",G_="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Z_="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",X_=/^#([0-9a-f]{3,8})$/,K_=new RegExp("^rgb\\("+[V_,V_,V_]+"\\)$"),J_=new RegExp("^rgb\\("+[Z_,Z_,Z_]+"\\)$"),Q_=new RegExp("^rgba\\("+[V_,V_,V_,G_]+"\\)$"),tP=new RegExp("^rgba\\("+[Z_,Z_,Z_,G_]+"\\)$"),nP=new RegExp("^hsl\\("+[G_,Z_,Z_]+"\\)$"),rP=new RegExp("^hsla\\("+[G_,Z_,Z_,G_]+"\\)$"),eP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function iP(){return this.rgb().formatHex()}function uP(){return this.rgb().formatRgb()}function oP(t){var n,r;return t=(t+"").trim().toLowerCase(),(n=X_.exec(t))?(r=n[1].length,n=parseInt(n[1],16),6===r?aP(n):3===r?new fP(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===r?sP(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===r?sP(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=K_.exec(t))?new fP(n[1],n[2],n[3],1):(n=J_.exec(t))?new fP(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Q_.exec(t))?sP(n[1],n[2],n[3],n[4]):(n=tP.exec(t))?sP(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=nP.exec(t))?vP(n[1],n[2]/100,n[3]/100,1):(n=rP.exec(t))?vP(n[1],n[2]/100,n[3]/100,n[4]):eP.hasOwnProperty(t)?aP(eP[t]):"transparent"===t?new fP(NaN,NaN,NaN,0):null}function aP(t){return new fP(t>>16&255,t>>8&255,255&t,1)}function sP(t,n,r,e){return e<=0&&(t=n=r=NaN),new fP(t,n,r,e)}function cP(t){return t instanceof z_||(t=oP(t)),t?new fP((t=t.rgb()).r,t.g,t.b,t.opacity):new fP}function fP(t,n,r,e){this.r=+t,this.g=+n,this.b=+r,this.opacity=+e}function hP(){return"#"+dP(this.r)+dP(this.g)+dP(this.b)}function lP(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function dP(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function vP(t,n,r,e){return e<=0?t=n=r=NaN:r<=0||r>=1?t=n=NaN:n<=0&&(t=NaN),new bP(t,n,r,e)}function pP(t){if(t instanceof bP)return new bP(t.h,t.s,t.l,t.opacity);if(t instanceof z_||(t=oP(t)),!t)return new bP;if(t instanceof bP)return t;var n=(t=t.rgb()).r/255,r=t.g/255,e=t.b/255,i=Math.min(n,r,e),u=Math.max(n,r,e),o=NaN,a=u-i,s=(u+i)/2;return a?(o=n===u?(r-e)/a+6*(r<e):r===u?(e-n)/a+2:(n-r)/a+4,a/=s<.5?u+i:2-u-i,o*=60):a=s>0&&s<1?0:o,new bP(o,a,s,t.opacity)}function bP(t,n,r,e){this.h=+t,this.s=+n,this.l=+r,this.opacity=+e}function wP(t,n,r){return 255*(t<60?n+(r-n)*t/60:t<180?r:t<240?n+(r-n)*(240-t)/60:n)}Y_(z_,oP,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:iP,formatHex:iP,formatHsl:function(){return pP(this).formatHsl()},formatRgb:uP,toString:uP}),Y_(fP,(function(t,n,r,e){return 1===arguments.length?cP(t):new fP(t,n,r,null==e?1:e)}),q_(z_,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new fP(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new fP(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hP,formatHex:hP,formatRgb:lP,toString:lP})),Y_(bP,(function(t,n,r,e){return 1===arguments.length?pP(t):new bP(t,n,r,null==e?1:e)}),q_(z_,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new bP(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new bP(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,e=r+(r<.5?r:1-r)*n,i=2*r-e;return new fP(wP(t>=240?t-240:t+120,i,e),wP(t,i,e),wP(t<120?t+240:t-120,i,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var mP=Math.PI/180,yP=180/Math.PI;function gP(t){if(t instanceof MP)return new MP(t.l,t.a,t.b,t.opacity);if(t instanceof TP)return xP(t);t instanceof fP||(t=cP(t));var n,r,e=EP(t.r),i=EP(t.g),u=EP(t.b),o=NP((.2225045*e+.7168786*i+.0606169*u)/1);return e===i&&i===u?n=r=o:(n=NP((.4360747*e+.3850649*i+.1430804*u)/.96422),r=NP((.0139322*e+.0971045*i+.7141733*u)/.82521)),new MP(116*o-16,500*(n-o),200*(o-r),t.opacity)}function MP(t,n,r,e){this.l=+t,this.a=+n,this.b=+r,this.opacity=+e}function NP(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/(6/29*3*(6/29))+4/29}function LP(t){return t>6/29?t*t*t:6/29*3*(6/29)*(t-4/29)}function kP(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function EP(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function AP(t){if(t instanceof TP)return new TP(t.h,t.c,t.l,t.opacity);if(t instanceof MP||(t=gP(t)),0===t.a&&0===t.b)return new TP(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*yP;return new TP(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function TP(t,n,r,e){this.h=+t,this.c=+n,this.l=+r,this.opacity=+e}function xP(t){if(isNaN(t.h))return new MP(t.l,0,0,t.opacity);var n=t.h*mP;return new MP(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}function SP(t){if(t instanceof OP)return new OP(t.h,t.s,t.l,t.opacity);t instanceof fP||(t=cP(t));var n=t.g/255,r=t.b/255,e=(-.6557636667999999*r+t.r/255*-1.7884503806-3.5172982438*n)/-5.9615122912,i=r-e,u=(1.97294*(n-e)- -.29227*i)/-.90649,o=Math.sqrt(u*u+i*i)/(1.97294*e*(1-e)),a=o?Math.atan2(u,i)*yP-120:NaN;return new OP(a<0?a+360:a,o,e,t.opacity)}function OP(t,n,r,e){this.h=+t,this.s=+n,this.l=+r,this.opacity=+e}function IP(t,n){var r;return("number"==typeof n?xu:n instanceof oP?ku:(r=oP(n))?(n=r,ku):Ru)(t,n)}function RP(t){return function(){this.removeAttribute(t)}}function FP(t){return function(){this.removeAttributeNS(t.space,t.local)}}function CP(t,n,r){var e,i,u=r+"";return function(){var o=this.getAttribute(t);return o===u?null:o===e?i:i=n(e=o,r)}}function DP(t,n,r){var e,i,u=r+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===u?null:o===e?i:i=n(e=o,r)}}function HP(t,n,r){var e,i,u;return function(){var o,a,s=r(this);if(null!=s)return(o=this.getAttribute(t))===(a=s+"")?null:o===e&&a===i?u:(i=a,u=n(e=o,s));this.removeAttribute(t)}}function jP(t,n,r){var e,i,u;return function(){var o,a,s=r(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===(a=s+"")?null:o===e&&a===i?u:(i=a,u=n(e=o,s));this.removeAttributeNS(t.space,t.local)}}function UP(t,n){return function(r){this.setAttribute(t,n.call(this,r))}}function _P(t,n){return function(r){this.setAttributeNS(t.space,t.local,n.call(this,r))}}function PP(t,n){var r,e;function i(){var i=n.apply(this,arguments);return i!==e&&(r=(e=i)&&_P(t,i)),r}return i._value=n,i}function WP(t,n){var r,e;function i(){var i=n.apply(this,arguments);return i!==e&&(r=(e=i)&&UP(t,i)),r}return i._value=n,i}function BP(t,n){return function(){j_(this,t).delay=+n.apply(this,arguments)}}function $P(t,n){return n=+n,function(){j_(this,t).delay=n}}function YP(t,n){return function(){U_(this,t).duration=+n.apply(this,arguments)}}function qP(t,n){return n=+n,function(){U_(this,t).duration=n}}function zP(t,n){if("function"!=typeof n)throw new Error;return function(){U_(this,t).ease=n}}function VP(t,n,r){var e,i,u=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?j_:U_;return function(){var o=u(this,t),a=o.on;a!==e&&(i=(e=a).copy()).on(n,r),o.on=i}}Y_(MP,(function(t,n,r,e){return 1===arguments.length?gP(t):new MP(t,n,r,null==e?1:e)}),q_(z_,{brighter:function(t){return new MP(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new MP(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return new fP(kP(3.1338561*(n=.96422*LP(n))-1.6168667*(t=1*LP(t))-.4906146*(r=.82521*LP(r))),kP(-.9787684*n+1.9161415*t+.033454*r),kP(.0719453*n-.2289914*t+1.4052427*r),this.opacity)}})),Y_(TP,(function(t,n,r,e){return 1===arguments.length?AP(t):new TP(t,n,r,null==e?1:e)}),q_(z_,{brighter:function(t){return new TP(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new TP(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return xP(this).rgb()}})),Y_(OP,(function(t,n,r,e){return 1===arguments.length?SP(t):new OP(t,n,r,null==e?1:e)}),q_(z_,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new OP(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new OP(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*mP,n=+this.l,r=isNaN(this.s)?0:this.s*n*(1-n),e=Math.cos(t),i=Math.sin(t);return new fP(255*(n+r*(-.14861*e+1.78277*i)),255*(n+r*(-.29227*e+-.90649*i)),255*(n+r*(1.97294*e)),this.opacity)}}));var GP=vt.prototype.constructor;function ZP(t){return function(){this.style.removeProperty(t)}}function XP(t,n,r){return function(e){this.style.setProperty(t,n.call(this,e),r)}}function KP(t,n,r){var e,i;function u(){var u=n.apply(this,arguments);return u!==i&&(e=(i=u)&&XP(t,u,r)),e}return u._value=n,u}function JP(t){return function(n){this.textContent=t.call(this,n)}}function QP(t){var n,r;function e(){var e=t.apply(this,arguments);return e!==r&&(n=(r=e)&&JP(e)),n}return e._value=t,e}var tW=0;function nW(t,n,r,e){this._groups=t,this._parents=n,this._name=r,this._id=e}function rW(){return++tW}var eW=vt.prototype;nW.prototype=function(t){return vt().transition(t)}.prototype={constructor:nW,select:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=l(t));for(var e=this._groups,i=e.length,u=new Array(i),o=0;o<i;++o)for(var a,s,c=e[o],f=c.length,h=u[o]=new Array(f),d=0;d<f;++d)(a=c[d])&&(s=t.call(a,a.__data__,d,c))&&("__data__"in a&&(s.__data__=a.__data__),h[d]=s,H_(h[d],n,r,d,h,__(a,r)));return new nW(u,this._parents,n,r)},selectAll:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=v(t));for(var e=this._groups,i=e.length,u=[],o=[],a=0;a<i;++a)for(var s,c=e[a],f=c.length,h=0;h<f;++h)if(s=c[h]){for(var l,d=t.call(s,s.__data__,h,c),p=__(s,r),b=0,w=d.length;b<w;++b)(l=d[b])&&H_(l,n,r,b,d,p);u.push(d),o.push(s)}return new nW(u,o,n,r)},filter:function(t){"function"!=typeof t&&(t=p(t));for(var n=this._groups,r=n.length,e=new Array(r),i=0;i<r;++i)for(var u,o=n[i],a=o.length,s=e[i]=[],c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&s.push(u);return new nW(e,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,r=t._groups,e=n.length,i=Math.min(e,r.length),u=new Array(e),o=0;o<i;++o)for(var a,s=n[o],c=r[o],f=s.length,h=u[o]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;o<e;++o)u[o]=n[o];return new nW(u,this._parents,this._name,this._id)},selection:function(){return new GP(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,r=rW(),e=this._groups,i=e.length,u=0;u<i;++u)for(var o,a=e[u],s=a.length,c=0;c<s;++c)if(o=a[c]){var f=__(o,n);H_(o,t,r,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new nW(e,this._parents,t,r)},call:eW.call,nodes:eW.nodes,node:eW.node,size:eW.size,empty:eW.empty,each:eW.each,on:function(t,n){var r=this._id;return arguments.length<2?__(this.node(),r).on.on(t):this.each(VP(r,t,n))},attr:function(t,n){var r=a(t),e="transform"===r?Yu:IP;return this.attrTween(t,"function"==typeof n?(r.local?jP:HP)(r,e,$_(this,"attr."+t,n)):null==n?(r.local?FP:RP)(r):(r.local?DP:CP)(r,e,n))},attrTween:function(t,n){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;var e=a(t);return this.tween(r,(e.local?PP:WP)(e,n))},style:function(t,n,r){var e="transform"==(t+="")?$u:IP;return null==n?this.styleTween(t,function(t,n){var r,e,i;return function(){var u=I(this,t),o=(this.style.removeProperty(t),I(this,t));return u===o?null:u===r&&o===e?i:i=n(r=u,e=o)}}(t,e)).on("end.style."+t,ZP(t)):"function"==typeof n?this.styleTween(t,function(t,n,r){var e,i,u;return function(){var o=I(this,t),a=r(this),s=a+"";return null==a&&(this.style.removeProperty(t),s=a=I(this,t)),o===s?null:o===e&&s===i?u:(i=s,u=n(e=o,a))}}(t,e,$_(this,"style."+t,n))).each(function(t,n){var r,e,i,u,o="style."+n,a="end."+o;return function(){var s=U_(this,t),c=s.on,f=null==s.value[o]?u||(u=ZP(n)):void 0;c===r&&i===f||(e=(r=c).copy()).on(a,i=f),s.on=e}}(this._id,t)):this.styleTween(t,function(t,n,r){var e,i,u=r+"";return function(){var o=I(this,t);return o===u?null:o===e?i:i=n(e=o,r)}}(t,e,n),r).on("end.style."+t,null)},styleTween:function(t,n,r){var e="style."+(t+="");if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;return this.tween(e,KP(t,n,null==r?"":r))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}($_(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,QP(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var r=this._id;if(t+="",arguments.length<2){for(var e,i=__(this.node(),r).tween,u=0,o=i.length;u<o;++u)if((e=i[u]).name===t)return e.value;return null}return this.each((null==n?W_:B_)(r,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?BP:$P)(n,t)):__(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?YP:qP)(n,t)):__(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(zP(n,t)):__(this.node(),n).ease},end:function(){var t,n,r=this,e=r._id,i=r.size();return new Promise((function(u,o){var a={value:o},s={value:function(){0==--i&&u()}};r.each((function(){var r=U_(this,e),i=r.on;i!==t&&((n=(t=i).copy())._.cancel.push(a),n._.interrupt.push(a),n._.end.push(s)),r.on=n}))}))}};var iW={time:null,delay:0,duration:250,ease:aa};function uW(t,n){for(var r;!(r=t.__transition)||!(r=r[n]);)if(!(t=t.parentNode))return iW.time=hi(),iW;return r}function oW(t){return function(){return t}}function aW(t,n,r){this.target=t,this.type=n,this.transform=r}function sW(t,n,r){this.k=t,this.x=n,this.y=r}vt.prototype.interrupt=function(t){return this.each((function(){P_(this,t)}))},vt.prototype.transition=function(t){var n,r;t instanceof nW?(n=t._id,t=t._name):(n=rW(),(r=iW).time=hi(),t=null==t?null:t+"");for(var e=this._groups,i=e.length,u=0;u<i;++u)for(var o,a=e[u],s=a.length,c=0;c<s;++c)(o=a[c])&&H_(o,t,n,c,a,r||uW(o,n));return new nW(e,this._parents,t,n)},sW.prototype={constructor:sW,scale:function(t){return 1===t?this:new sW(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new sW(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var cW=new sW(1,0,0);function fW(t){return t.__zoom||cW}function hW(){rt.stopImmediatePropagation()}function lW(){rt.preventDefault(),rt.stopImmediatePropagation()}function dW(){return!rt.button}function vW(){var t,n,r=this;return r instanceof SVGElement?(t=(r=r.ownerSVGElement||r).width.baseVal.value,n=r.height.baseVal.value):(t=r.clientWidth,n=r.clientHeight),[[0,0],[t,n]]}function pW(){return this.__zoom||cW}function bW(){return-rt.deltaY*(rt.deltaMode?120:1)/500}function wW(){return"ontouchstart"in this}function mW(t,n,r){var e=t.invertX(n[0][0])-r[0][0],i=t.invertX(n[1][0])-r[1][0],u=t.invertY(n[0][1])-r[0][1],o=t.invertY(n[1][1])-r[1][1];return t.translate(i>e?(e+i)/2:Math.min(0,e)||Math.max(0,i),o>u?(u+o)/2:Math.min(0,u)||Math.max(0,o))}fW.prototype=sW.prototype;var yW=Object.freeze({__proto__:null,version:"4.13.0",bisect:zf,bisectRight:zf,bisectLeft:Vf,ascending:$f,bisector:Yf,cross:function(t,n,r){var e,i,u,o,a=t.length,s=n.length,c=new Array(a*s);for(null==r&&(r=Gf),e=u=0;e<a;++e)for(o=t[e],i=0;i<s;++i,++u)c[u]=r(o,n[i]);return c},descending:function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},deviation:Kf,extent:Jf,histogram:function(){var t=eh,n=Jf,r=fh;function e(e){var i,u,o=e.length,a=new Array(o);for(i=0;i<o;++i)a[i]=t(e[i],i,e);var s=n(a),c=s[0],f=s[1],h=r(a,c,f);Array.isArray(h)||(h=ch(c,f,h),h=ih(Math.ceil(c/h)*h,Math.floor(f/h)*h,h));for(var l=h.length;h[0]<=c;)h.shift(),--l;for(;h[l-1]>f;)h.pop(),--l;var d,v=new Array(l+1);for(i=0;i<=l;++i)(d=v[i]=[]).x0=i>0?h[i-1]:c,d.x1=i<l?h[i]:f;for(i=0;i<o;++i)c<=(u=a[i])&&u<=f&&v[zf(h,u,0,l)].push(e[i]);return v}return e.value=function(n){return arguments.length?(t="function"==typeof n?n:rh(n),e):t},e.domain=function(t){return arguments.length?(n="function"==typeof t?t:rh([t[0],t[1]]),e):n},e.thresholds=function(t){return arguments.length?(r="function"==typeof t?t:Array.isArray(t)?rh(th.call(t)):rh(t),e):r},e},thresholdFreedmanDiaconis:function(t,n,r){return t=nh.call(t,Zf).sort($f),Math.ceil((r-n)/(2*(hh(t,.75)-hh(t,.25))*Math.pow(t.length,-1/3)))},thresholdScott:function(t,n,r){return Math.ceil((r-n)/(3.5*Kf(t)*Math.pow(t.length,-1/3)))},thresholdSturges:fh,max:function(t,n){var r,e,i=t.length,u=-1;if(null==n){for(;++u<i;)if(null!=(r=t[u])&&r>=r)for(e=r;++u<i;)null!=(r=t[u])&&r>e&&(e=r)}else for(;++u<i;)if(null!=(r=n(t[u],u,t))&&r>=r)for(e=r;++u<i;)null!=(r=n(t[u],u,t))&&r>e&&(e=r);return e},mean:function(t,n){var r,e=t.length,i=e,u=-1,o=0;if(null==n)for(;++u<e;)isNaN(r=Zf(t[u]))?--i:o+=r;else for(;++u<e;)isNaN(r=Zf(n(t[u],u,t)))?--i:o+=r;if(i)return o/i},median:function(t,n){var r,e=t.length,i=-1,u=[];if(null==n)for(;++i<e;)isNaN(r=Zf(t[i]))||u.push(r);else for(;++i<e;)isNaN(r=Zf(n(t[i],i,t)))||u.push(r);return hh(u.sort($f),.5)},merge:function(t){for(var n,r,e,i=t.length,u=-1,o=0;++u<i;)o+=t[u].length;for(r=new Array(o);--i>=0;)for(n=(e=t[i]).length;--n>=0;)r[--o]=e[n];return r},min:lh,pairs:function(t,n){null==n&&(n=Gf);for(var r=0,e=t.length-1,i=t[0],u=new Array(e<0?0:e);r<e;)u[r]=n(i,i=t[++r]);return u},permute:function(t,n){for(var r=n.length,e=new Array(r);r--;)e[r]=t[n[r]];return e},quantile:hh,range:ih,scan:function(t,n){if(r=t.length){var r,e,i=0,u=0,o=t[u];for(null==n&&(n=$f);++i<r;)(n(e=t[i],o)<0||0!==n(o,o))&&(o=e,u=i);return 0===n(o,o)?u:void 0}},shuffle:function(t,n,r){for(var e,i,u=(null==r?t.length:r)-(n=null==n?0:+n);u;)i=Math.random()*u--|0,e=t[u+n],t[u+n]=t[i+n],t[i+n]=e;return t},sum:function(t,n){var r,e=t.length,i=-1,u=0;if(null==n)for(;++i<e;)(r=+t[i])&&(u+=r);else for(;++i<e;)(r=+n(t[i],i,t))&&(u+=r);return u},ticks:function(t,n,r){var e,i,u,o,a=-1;if(r=+r,(t=+t)==(n=+n)&&r>0)return[t];if((e=n<t)&&(i=t,t=n,n=i),0===(o=sh(t,n,r))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),n=Math.floor(n/o),u=new Array(i=Math.ceil(n-t+1));++a<i;)u[a]=(t+a)*o;else for(t=Math.floor(t*o),n=Math.ceil(n*o),u=new Array(i=Math.ceil(t-n+1));++a<i;)u[a]=(t-a)/o;return e&&u.reverse(),u},tickIncrement:sh,tickStep:ch,transpose:dh,variance:Xf,zip:function(){return dh(arguments)},axisTop:function(t){return Nh(1,t)},axisRight:function(t){return Nh(2,t)},axisBottom:function(t){return Nh(3,t)},axisLeft:function(t){return Nh(4,t)},brush:function(){return yd(sd)},brushX:function(){return yd(od)},brushY:function(){return yd(ad)},brushSelection:function(t){var n=t.__brush;return n?n.dim.output(n.selection):null},chord:function(){var t=0,n=null,r=null,e=null;function i(i){var u,o,a,s,c,f,h=i.length,l=[],d=pa(h),v=[],p=[],b=p.groups=new Array(h),w=new Array(h*h);for(u=0,c=-1;++c<h;){for(o=0,f=-1;++f<h;)o+=i[c][f];l.push(o),v.push(pa(h)),u+=o}for(n&&d.sort((function(t,r){return n(l[t],l[r])})),r&&v.forEach((function(t,n){t.sort((function(t,e){return r(i[n][t],i[n][e])}))})),s=(u=Ed(0,kd-t*h)/u)?t:kd/h,o=0,c=-1;++c<h;){for(a=o,f=-1;++f<h;){var m=d[c],y=v[m][f],g=i[m][y],M=o,N=o+=g*u;w[y*h+m]={index:m,subindex:y,startAngle:M,endAngle:N,value:g}}b[m]={index:m,startAngle:a,endAngle:o,value:l[m]},o+=s}for(c=-1;++c<h;)for(f=c-1;++f<h;){var L=w[f*h+c],k=w[c*h+f];(L.value||k.value)&&p.push(L.value<k.value?{source:k,target:L}:{source:L,target:k})}return e?p.sort(e):p}return i.padAngle=function(n){return arguments.length?(t=Ed(0,n),i):t},i.sortGroups=function(t){return arguments.length?(n=t,i):n},i.sortSubgroups=function(t){return arguments.length?(r=t,i):r},i.sortChords=function(t){return arguments.length?(null==t?e=null:(e=Ad(t))._=t,i):e&&e._},i},ribbon:function(){var t=Sd,n=Od,r=Id,e=Rd,i=Fd,u=null;function o(){var o,a=Td.call(arguments),s=t.apply(this,a),c=n.apply(this,a),f=+r.apply(this,(a[0]=s,a)),h=e.apply(this,a)-Ld,l=i.apply(this,a)-Ld,d=f*gd(h),v=f*Md(h),p=+r.apply(this,(a[0]=c,a)),b=e.apply(this,a)-Ld,w=i.apply(this,a)-Ld;if(u||(u=o=Kt()),u.moveTo(d,v),u.arc(0,0,f,h,l),h===b&&l===w||(u.quadraticCurveTo(0,0,p*gd(b),p*Md(b)),u.arc(0,0,p,b,w)),u.quadraticCurveTo(0,0,d,v),u.closePath(),o)return u=null,o+""||null}return o.radius=function(t){return arguments.length?(r="function"==typeof t?t:xd(+t),o):r},o.startAngle=function(t){return arguments.length?(e="function"==typeof t?t:xd(+t),o):e},o.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:xd(+t),o):i},o.source=function(n){return arguments.length?(t=n,o):t},o.target=function(t){return arguments.length?(n=t,o):n},o.context=function(t){return arguments.length?(u=null==t?null:t,o):u},o},nest:function(){var t,n,r,e=[],i=[];function u(r,i,o,a){if(i>=e.length)return null!=t&&r.sort(t),null!=n?n(r):r;for(var s,c,f,h=-1,l=r.length,d=e[i++],v=Dd(),p=o();++h<l;)(f=v.get(s=d(c=r[h])+""))?f.push(c):v.set(s,[c]);return v.each((function(t,n){a(p,n,u(t,i,o,a))})),p}return r={object:function(t){return u(t,0,Hd,jd)},map:function(t){return u(t,0,Ud,_d)},entries:function(t){return function t(r,u){if(++u>e.length)return r;var o,a=i[u-1];return null!=n&&u>=e.length?o=r.entries():(o=[],r.each((function(n,r){o.push({key:r,values:t(n,u)})}))),null!=a?o.sort((function(t,n){return a(t.key,n.key)})):o}(u(t,0,Ud,_d),0)},key:function(t){return e.push(t),r},sortKeys:function(t){return i[e.length-1]=t,r},sortValues:function(n){return t=n,r},rollup:function(t){return n=t,r}}},set:Bd,map:Dd,keys:function(t){var n=[];for(var r in t)n.push(r);return n},values:function(t){var n=[];for(var r in t)n.push(t[r]);return n},entries:function(t){var n=[];for(var r in t)n.push({key:r,value:t[r]});return n},color:iv,rgb:sv,hsl:lv,lab:mv,hcl:Ev,cubehelix:xv,dispatch:Iv,drag:function(){var t,n,r,e,i=ob,u=ab,o=sb,a=cb,s={},c=jv("start","drag","end"),f=0,h=0;function l(t){t.on("mousedown.drag",d).filter(a).on("touchstart.drag",b).on("touchmove.drag",w).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!e&&i.apply(this,arguments)){var o=y("mouse",u.apply(this,arguments),Jp,this,arguments);o&&(Zp(jp.view).on("mousemove.drag",v,!0).on("mouseup.drag",p,!0),rb(jp.view),tb(),r=!1,t=jp.clientX,n=jp.clientY,o("start"))}}function v(){if(nb(),!r){var e=jp.clientX-t,i=jp.clientY-n;r=e*e+i*i>h}s.mouse("drag")}function p(){Zp(jp.view).on("mousemove.drag mouseup.drag",null),eb(jp.view,r),nb(),s.mouse("end")}function b(){if(i.apply(this,arguments)){var t,n,r=jp.changedTouches,e=u.apply(this,arguments),o=r.length;for(t=0;t<o;++t)(n=y(r[t].identifier,e,Qp,this,arguments))&&(tb(),n("start"))}}function w(){var t,n,r=jp.changedTouches,e=r.length;for(t=0;t<e;++t)(n=s[r[t].identifier])&&(nb(),n("drag"))}function m(){var t,n,r=jp.changedTouches,i=r.length;for(e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),t=0;t<i;++t)(n=s[r[t].identifier])&&(tb(),n("end"))}function y(t,n,r,e,i){var u,a,h,d=r(n,t),v=c.copy();if($p(new ub(l,"beforestart",u,t,f,d[0],d[1],0,0,v),(function(){return null!=(jp.subject=u=o.apply(e,i))&&(a=u.x-d[0]||0,h=u.y-d[1]||0,!0)})))return function o(c){var p,b=d;switch(c){case"start":s[t]=o,p=f++;break;case"end":delete s[t],--f;case"drag":d=r(n,t),p=f}$p(new ub(l,c,u,t,p,d[0]+a,d[1]+h,d[0]-b[0],d[1]-b[1],v),v.apply,v,[c,e,i])}}return l.filter=function(t){return arguments.length?(i="function"==typeof t?t:ib(!!t),l):i},l.container=function(t){return arguments.length?(u="function"==typeof t?t:ib(t),l):u},l.subject=function(t){return arguments.length?(o="function"==typeof t?t:ib(t),l):o},l.touchable=function(t){return arguments.length?(a="function"==typeof t?t:ib(!!t),l):a},l.on=function(){var t=c.on.apply(c,arguments);return t===c?l:t},l.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,l):Math.sqrt(h)},l},dragDisable:rb,dragEnable:eb,dsvFormat:db,csvParse:pb,csvParseRows:bb,csvFormat:wb,csvFormatRows:mb,tsvParse:gb,tsvParseRows:Mb,tsvFormat:Nb,tsvFormatRows:Lb,easeLinear:function(t){return+t},easeQuad:kb,easeQuadIn:function(t){return t*t},easeQuadOut:function(t){return t*(2-t)},easeQuadInOut:kb,easeCubic:Eb,easeCubicIn:function(t){return t*t*t},easeCubicOut:function(t){return--t*t*t+1},easeCubicInOut:Eb,easePoly:xb,easePolyIn:Ab,easePolyOut:Tb,easePolyInOut:xb,easeSin:Ib,easeSinIn:function(t){return 1-Math.cos(t*Ob)},easeSinOut:function(t){return Math.sin(t*Ob)},easeSinInOut:Ib,easeExp:Rb,easeExpIn:function(t){return Math.pow(2,10*t-10)},easeExpOut:function(t){return 1-Math.pow(2,-10*t)},easeExpInOut:Rb,easeCircle:Fb,easeCircleIn:function(t){return 1-Math.sqrt(1-t*t)},easeCircleOut:function(t){return Math.sqrt(1- --t*t)},easeCircleInOut:Fb,easeBounce:Db,easeBounceIn:function(t){return 1-Db(1-t)},easeBounceOut:Db,easeBounceInOut:function(t){return((t*=2)<=1?1-Db(1-t):Db(t-1)+1)/2},easeBack:Ub,easeBackIn:Hb,easeBackOut:jb,easeBackInOut:Ub,easeElastic:Wb,easeElasticIn:Pb,easeElasticOut:Wb,easeElasticInOut:Bb,forceCenter:function(t,n){var r;function e(){var e,i,u=r.length,o=0,a=0;for(e=0;e<u;++e)o+=(i=r[e]).x,a+=i.y;for(o=o/u-t,a=a/u-n,e=0;e<u;++e)(i=r[e]).x-=o,i.y-=a}return null==t&&(t=0),null==n&&(n=0),e.initialize=function(t){r=t},e.x=function(n){return arguments.length?(t=+n,e):t},e.y=function(t){return arguments.length?(n=+t,e):n},e},forceCollide:function(t){var n,r,e=1,i=1;function u(){for(var t,u,a,s,c,f,h,l=n.length,d=0;d<i;++d)for(u=Zb(n,Qb,tw).visitAfter(o),t=0;t<l;++t)h=(f=r[(a=n[t]).index])*f,s=a.x+a.vx,c=a.y+a.vy,u.visit(v);function v(t,n,r,i,u){var o=t.data,l=t.r,d=f+l;if(!o)return n>s+d||i<s-d||r>c+d||u<c-d;if(o.index>a.index){var v=s-o.x-o.vx,p=c-o.y-o.vy,b=v*v+p*p;b<d*d&&(0===v&&(b+=(v=Yb())*v),0===p&&(b+=(p=Yb())*p),b=(d-(b=Math.sqrt(b)))/b*e,a.vx+=(v*=b)*(d=(l*=l)/(h+l)),a.vy+=(p*=b)*d,o.vx-=v*(d=1-d),o.vy-=p*d)}}}function o(t){if(t.data)return t.r=r[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function a(){if(n){var e,i,u=n.length;for(r=new Array(u),e=0;e<u;++e)r[(i=n[e]).index]=+t(i,e,n)}}return"function"!=typeof t&&(t=$b(null==t?1:+t)),u.initialize=function(t){n=t,a()},u.iterations=function(t){return arguments.length?(i=+t,u):i},u.strength=function(t){return arguments.length?(e=+t,u):e},u.radius=function(n){return arguments.length?(t="function"==typeof n?n:$b(+n),a(),u):t},u},forceLink:function(t){var n,r,e,i,u,o=nw,a=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},s=$b(30),c=1;function f(e){for(var i=0,o=t.length;i<c;++i)for(var a,s,f,h,l,d,v,p=0;p<o;++p)h=(f=(a=t[p]).target).x+f.vx-(s=a.source).x-s.vx||Yb(),l=f.y+f.vy-s.y-s.vy||Yb(),l*=d=((d=Math.sqrt(h*h+l*l))-r[p])/d*e*n[p],f.vx-=(h*=d)*(v=u[p]),f.vy-=l*v,s.vx+=h*(v=1-v),s.vy+=l*v}function h(){if(e){var a,s,c=e.length,f=t.length,h=Aa(e,o);for(a=0,i=new Array(c);a<f;++a)(s=t[a]).index=a,"object"!=typeof s.source&&(s.source=rw(h,s.source)),"object"!=typeof s.target&&(s.target=rw(h,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(a=0,u=new Array(f);a<f;++a)u[a]=i[(s=t[a]).source.index]/(i[s.source.index]+i[s.target.index]);n=new Array(f),l(),r=new Array(f),d()}}function l(){if(e)for(var r=0,i=t.length;r<i;++r)n[r]=+a(t[r],r,t)}function d(){if(e)for(var n=0,i=t.length;n<i;++n)r[n]=+s(t[n],n,t)}return null==t&&(t=[]),f.initialize=function(t){e=t,h()},f.links=function(n){return arguments.length?(t=n,h(),f):t},f.id=function(t){return arguments.length?(o=t,f):o},f.iterations=function(t){return arguments.length?(c=+t,f):c},f.strength=function(t){return arguments.length?(a="function"==typeof t?t:$b(+t),l(),f):a},f.distance=function(t){return arguments.length?(s="function"==typeof t?t:$b(+t),d(),f):s},f},forceManyBody:function(){var t,n,r,e,i=$b(-30),u=1,o=1/0,a=.81;function s(e){var i,u=t.length,o=Zb(t,ew,iw).visitAfter(f);for(r=e,i=0;i<u;++i)n=t[i],o.visit(h)}function c(){if(t){var n,r,u=t.length;for(e=new Array(u),n=0;n<u;++n)e[(r=t[n]).index]=+i(r,n,t)}}function f(t){var n,r,i,u,o,a=0,s=0;if(t.length){for(i=u=o=0;o<4;++o)(n=t[o])&&(r=Math.abs(n.value))&&(a+=n.value,s+=r,i+=r*n.x,u+=r*n.y);t.x=i/s,t.y=u/s}else{(n=t).x=n.data.x,n.y=n.data.y;do{a+=e[n.data.index]}while(n=n.next)}t.value=a}function h(t,i,s,c){if(!t.value)return!0;var f=t.x-n.x,h=t.y-n.y,l=c-i,d=f*f+h*h;if(l*l/a<d)return d<o&&(0===f&&(d+=(f=Yb())*f),0===h&&(d+=(h=Yb())*h),d<u&&(d=Math.sqrt(u*d)),n.vx+=f*t.value*r/d,n.vy+=h*t.value*r/d),!0;if(!(t.length||d>=o)){(t.data!==n||t.next)&&(0===f&&(d+=(f=Yb())*f),0===h&&(d+=(h=Yb())*h),d<u&&(d=Math.sqrt(u*d)));do{t.data!==n&&(n.vx+=f*(l=e[t.data.index]*r/d),n.vy+=h*l)}while(t=t.next)}}return s.initialize=function(n){t=n,c()},s.strength=function(t){return arguments.length?(i="function"==typeof t?t:$b(+t),c(),s):i},s.distanceMin=function(t){return arguments.length?(u=t*t,s):Math.sqrt(u)},s.distanceMax=function(t){return arguments.length?(o=t*t,s):Math.sqrt(o)},s.theta=function(t){return arguments.length?(a=t*t,s):Math.sqrt(a)},s},forceRadial:function(t,n,r){var e,i,u,o=$b(.1);function a(t){for(var o=0,a=e.length;o<a;++o){var s=e[o],c=s.x-n||1e-6,f=s.y-r||1e-6,h=Math.sqrt(c*c+f*f),l=(u[o]-h)*i[o]*t/h;s.vx+=c*l,s.vy+=f*l}}function s(){if(e){var n,r=e.length;for(i=new Array(r),u=new Array(r),n=0;n<r;++n)u[n]=+t(e[n],n,e),i[n]=isNaN(u[n])?0:+o(e[n],n,e)}}return"function"!=typeof t&&(t=$b(+t)),null==n&&(n=0),null==r&&(r=0),a.initialize=function(t){e=t,s()},a.strength=function(t){return arguments.length?(o="function"==typeof t?t:$b(+t),s(),a):o},a.radius=function(n){return arguments.length?(t="function"==typeof n?n:$b(+n),s(),a):t},a.x=function(t){return arguments.length?(n=+t,a):n},a.y=function(t){return arguments.length?(r=+t,a):r},a},forceSimulation:function(t){var n,r=1,e=.001,i=1-Math.pow(e,1/300),u=0,o=.6,a=Aa(),s=vi(f),c=Xe("tick","end");function f(){h(),c.call("tick",n),r<e&&(s.stop(),c.call("end",n))}function h(){var n,e,s=t.length;for(r+=(u-r)*i,a.each((function(t){t(r)})),n=0;n<s;++n)null==(e=t[n]).fx?e.x+=e.vx*=o:(e.x=e.fx,e.vx=0),null==e.fy?e.y+=e.vy*=o:(e.y=e.fy,e.vy=0)}function l(){for(var n,r=0,e=t.length;r<e;++r){if((n=t[r]).index=r,isNaN(n.x)||isNaN(n.y)){var i=10*Math.sqrt(r),u=r*ow;n.x=i*Math.cos(u),n.y=i*Math.sin(u)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),l(),n={tick:h,restart:function(){return s.restart(f),n},stop:function(){return s.stop(),n},nodes:function(r){return arguments.length?(t=r,l(),a.each(d),n):t},alpha:function(t){return arguments.length?(r=+t,n):r},alphaMin:function(t){return arguments.length?(e=+t,n):e},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(u=+t,n):u},velocityDecay:function(t){return arguments.length?(o=1-t,n):1-o},force:function(t,r){return arguments.length>1?(null==r?a.remove(t):a.set(t,d(r)),n):a.get(t)},find:function(n,r,e){var i,u,o,a,s,c=0,f=t.length;for(null==e?e=1/0:e*=e,c=0;c<f;++c)(o=(i=n-(a=t[c]).x)*i+(u=r-a.y)*u)<e&&(s=a,e=o);return s},on:function(t,r){return arguments.length>1?(c.on(t,r),n):c.on(t)}}},forceX:function(t){var n,r,e,i=$b(.1);function u(t){for(var i,u=0,o=n.length;u<o;++u)(i=n[u]).vx+=(e[u]-i.x)*r[u]*t}function o(){if(n){var u,o=n.length;for(r=new Array(o),e=new Array(o),u=0;u<o;++u)r[u]=isNaN(e[u]=+t(n[u],u,n))?0:+i(n[u],u,n)}}return"function"!=typeof t&&(t=$b(null==t?0:+t)),u.initialize=function(t){n=t,o()},u.strength=function(t){return arguments.length?(i="function"==typeof t?t:$b(+t),o(),u):i},u.x=function(n){return arguments.length?(t="function"==typeof n?n:$b(+n),o(),u):t},u},forceY:function(t){var n,r,e,i=$b(.1);function u(t){for(var i,u=0,o=n.length;u<o;++u)(i=n[u]).vy+=(e[u]-i.y)*r[u]*t}function o(){if(n){var u,o=n.length;for(r=new Array(o),e=new Array(o),u=0;u<o;++u)r[u]=isNaN(e[u]=+t(n[u],u,n))?0:+i(n[u],u,n)}}return"function"!=typeof t&&(t=$b(null==t?0:+t)),u.initialize=function(t){n=t,o()},u.strength=function(t){return arguments.length?(i="function"==typeof t?t:$b(+t),o(),u):i},u.y=function(n){return arguments.length?(t="function"==typeof n?n:$b(+n),o(),u):t},u},formatDefaultLocale:gw,get format(){return bw},get formatPrefix(){return ww},formatLocale:yw,formatSpecifier:lw,precisionFixed:function(t){return Math.max(0,-sw(Math.abs(t)))},precisionPrefix:function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(sw(n)/3)))-sw(Math.abs(t)))},precisionRound:function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,sw(n)-sw(t))+1},geoArea:function(t){return um.reset(),Jw(t,om),2*um},geoBounds:function(t){var n,r,e,i,u,o,a;if(Mm=gm=-(mm=ym=1/0),Am=[],Jw(t,qm),r=Am.length){for(Am.sort(ty),n=1,u=[e=Am[0]];n<r;++n)ny(e,(i=Am[n])[0])||ny(e,i[1])?(Qm(e[0],i[1])>Qm(e[0],e[1])&&(e[1]=i[1]),Qm(i[0],e[1])>Qm(e[0],e[1])&&(e[0]=i[0])):u.push(e=i);for(o=-1/0,n=0,e=u[r=u.length-1];n<=r;e=i,++n)(a=Qm(e[1],(i=u[n])[0]))>o&&(o=a,mm=i[0],gm=e[1])}return Am=Tm=null,mm===1/0||ym===1/0?[[NaN,NaN],[NaN,NaN]]:[[mm,ym],[gm,Mm]]},geoCentroid:function(t){xm=Sm=Om=Im=Rm=Fm=Cm=Dm=Hm=jm=Um=0,Jw(t,ry);var n=Hm,r=jm,e=Um,i=n*n+r*r+e*e;return i<1e-12&&(n=Fm,r=Cm,e=Dm,Sm<1e-6&&(n=Om,r=Im,e=Rm),(i=n*n+r*r+e*e)<1e-12)?[NaN,NaN]:[Fw(r,n)*Sw,Yw(e/Ww(i))*Sw]},geoCircle:function(){var t,n,r=dy([0,0]),e=dy(90),i=dy(6),u={point:function(r,e){t.push(r=n(r,e)),r[0]*=Sw,r[1]*=Sw}};function o(){var o=r.apply(this,arguments),a=e.apply(this,arguments)*Ow,s=i.apply(this,arguments)*Ow;return t=[],n=by(-o[0]*Ow,-o[1]*Ow,0).invert,My(u,a,s,1),o={type:"Polygon",coordinates:[t]},t=n=null,o}return o.center=function(t){return arguments.length?(r="function"==typeof t?t:dy([+t[0],+t[1]]),o):r},o.radius=function(t){return arguments.length?(e="function"==typeof t?t:dy(+t),o):e},o.precision=function(t){return arguments.length?(i="function"==typeof t?t:dy(+t),o):i},o},geoClipAntimeridian:Fy,geoClipCircle:Cy,geoClipExtent:function(){var t,n,r,e=0,i=0,u=960,o=500;return r={stream:function(r){return t&&n===r?t:t=Dy(e,i,u,o)(n=r)},extent:function(a){return arguments.length?(e=+a[0][0],i=+a[0][1],u=+a[1][0],o=+a[1][1],t=n=null,r):[[e,i],[u,o]]}}},geoClipRectangle:Dy,geoContains:function(t,n){return(t&&Gy.hasOwnProperty(t.type)?Gy[t.type]:Xy)(t,n)},geoDistance:Vy,geoGraticule:ig,geoGraticule10:function(){return ig()()},geoInterpolate:function(t,n){var r=t[0]*Ow,e=t[1]*Ow,i=n[0]*Ow,u=n[1]*Ow,o=Cw(e),a=_w(e),s=Cw(u),c=_w(u),f=o*Cw(r),h=o*_w(r),l=s*Cw(i),d=s*_w(i),v=2*Yw(Ww(qw(u-e)+o*s*qw(i-r))),p=_w(v),b=v?function(t){var n=_w(t*=v)/p,r=_w(v-t)/p,e=r*f+n*l,i=r*h+n*d,u=r*a+n*c;return[Fw(i,e)*Sw,Fw(u,Ww(e*e+i*i))*Sw]}:function(){return[r*Sw,e*Sw]};return b.distance=v,b},geoLength:Yy,geoPath:function(t,n){var r,e,i=4.5;function u(t){return t&&("function"==typeof i&&e.pointRadius(+i.apply(this,arguments)),Jw(t,r(e))),e.result()}return u.area=function(t){return Jw(t,r(lg)),lg.result()},u.measure=function(t){return Jw(t,r(Jg)),Jg.result()},u.bounds=function(t){return Jw(t,r(Eg)),Eg.result()},u.centroid=function(t){return Jw(t,r(Dg)),Dg.result()},u.projection=function(n){return arguments.length?(r=null==n?(t=null,ug):(t=n).stream,u):t},u.context=function(t){return arguments.length?(e=null==t?(n=null,new nM):new qg(n=t),"function"!=typeof i&&e.pointRadius(i),u):n},u.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(e.pointRadius(+t),+t),u):i},u.projection(t).context(n)},geoAlbers:mM,geoAlbersUsa:function(){var t,n,r,e,i,u,o=mM(),a=wM().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=wM().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,n){u=[t,n]}};function f(t){var n=t[0],o=t[1];return u=null,r.point(n,o),u||(e.point(n,o),u)||(i.point(n,o),u)}function h(){return t=n=null,f}return f.invert=function(t){var n=o.scale(),r=o.translate(),e=(t[0]-r[0])/n,i=(t[1]-r[1])/n;return(i>=.12&&i<.234&&e>=-.425&&e<-.214?a:i>=.166&&i<.234&&e>=-.214&&e<-.115?s:o).invert(t)},f.stream=function(r){return t&&n===r?t:(e=[o.stream(n=r),a.stream(r),s.stream(r)],i=e.length,t={point:function(t,n){for(var r=-1;++r<i;)e[r].point(t,n)},sphere:function(){for(var t=-1;++t<i;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)e[t].polygonEnd()}});var e,i},f.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),s.precision(t),h()):o.precision()},f.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),s.scale(t),f.translate(o.translate())):o.scale()},f.translate=function(t){if(!arguments.length)return o.translate();var n=o.scale(),u=+t[0],f=+t[1];return r=o.translate(t).clipExtent([[u-.455*n,f-.238*n],[u+.455*n,f+.238*n]]).stream(c),e=a.translate([u-.307*n,f+.201*n]).clipExtent([[u-.425*n+1e-6,f+.12*n+1e-6],[u-.214*n-1e-6,f+.234*n-1e-6]]).stream(c),i=s.translate([u-.205*n,f+.212*n]).clipExtent([[u-.214*n+1e-6,f+.166*n+1e-6],[u-.115*n-1e-6,f+.234*n-1e-6]]).stream(c),h()},f.fitExtent=function(t,n){return oM(f,t,n)},f.fitSize=function(t,n){return aM(f,t,n)},f.fitWidth=function(t,n){return sM(f,t,n)},f.fitHeight=function(t,n){return cM(f,t,n)},f.scale(1070)},geoAzimuthalEqualArea:function(){return dM(MM).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:MM,geoAzimuthalEquidistant:function(){return dM(NM).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:NM,geoConicConformal:function(){return pM(AM).scale(109.5).parallels([30,30])},geoConicConformalRaw:AM,geoConicEqualArea:wM,geoConicEqualAreaRaw:bM,geoConicEquidistant:function(){return pM(xM).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:xM,geoEquirectangular:function(){return dM(TM).scale(152.63)},geoEquirectangularRaw:TM,geoGnomonic:function(){return dM(SM).scale(144.049).clipAngle(60)},geoGnomonicRaw:SM,geoIdentity:function(){var t,n,r,e,i,u,o=1,a=0,s=0,c=1,f=1,h=ug,l=null,d=ug;function v(){return e=i=null,u}return u={stream:function(t){return e&&i===t?e:e=h(d(i=t))},postclip:function(e){return arguments.length?(d=e,l=t=n=r=null,v()):d},clipExtent:function(e){return arguments.length?(d=null==e?(l=t=n=r=null,ug):Dy(l=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),v()):null==l?null:[[l,t],[n,r]]},scale:function(t){return arguments.length?(h=OM((o=+t)*c,o*f,a,s),v()):o},translate:function(t){return arguments.length?(h=OM(o*c,o*f,a=+t[0],s=+t[1]),v()):[a,s]},reflectX:function(t){return arguments.length?(h=OM(o*(c=t?-1:1),o*f,a,s),v()):c<0},reflectY:function(t){return arguments.length?(h=OM(o*c,o*(f=t?-1:1),a,s),v()):f<0},fitExtent:function(t,n){return oM(u,t,n)},fitSize:function(t,n){return aM(u,t,n)},fitWidth:function(t,n){return sM(u,t,n)},fitHeight:function(t,n){return cM(u,t,n)}}},geoProjection:dM,geoProjectionMutator:vM,geoMercator:function(){return kM(LM).scale(961/xw)},geoMercatorRaw:LM,geoNaturalEarth1:function(){return dM(IM).scale(175.295)},geoNaturalEarth1Raw:IM,geoOrthographic:function(){return dM(RM).scale(249.5).clipAngle(90+1e-6)},geoOrthographicRaw:RM,geoStereographic:function(){return dM(FM).scale(250).clipAngle(142)},geoStereographicRaw:FM,geoTransverseMercator:function(){var t=kM(CM),n=t.center,r=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?r([t[0],t[1],t.length>2?t[2]+90:90]):[(t=r())[0],t[1],t[2]-90]},r([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:CM,geoRotation:gy,geoStream:Jw,geoTransform:function(t){return{stream:eM(t)}},cluster:function(){var t=DM,n=1,r=1,e=!1;function i(i){var u,o=0;i.eachAfter((function(n){var r=n.children;r?(n.x=function(t){return t.reduce(HM,0)/t.length}(r),n.y=function(t){return 1+t.reduce(jM,0)}(r)):(n.x=u?o+=t(n,u):0,n.y=0,u=n)}));var a=function(t){for(var n;n=t.children;)t=n[0];return t}(i),s=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(i),c=a.x-t(a,s)/2,f=s.x+t(s,a)/2;return i.eachAfter(e?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*r}:function(t){t.x=(t.x-c)/(f-c)*n,t.y=(1-(i.y?t.y/i.y:1))*r})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(e=!1,n=+t[0],r=+t[1],i):e?null:[n,r]},i.nodeSize=function(t){return arguments.length?(e=!0,n=+t[0],r=+t[1],i):e?[n,r]:null},i},hierarchy:_M,pack:function(){var t=null,n=1,r=1,e=oN;function i(i){return i.x=n/2,i.y=r/2,t?i.eachBefore(cN(t)).eachAfter(fN(e,.5)).eachBefore(hN(1)):i.eachBefore(cN(sN)).eachAfter(fN(oN,1)).eachAfter(fN(e,i.r/Math.min(n,r))).eachBefore(hN(Math.min(n,r)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=iN(n),i):t},i.size=function(t){return arguments.length?(n=+t[0],r=+t[1],i):[n,r]},i.padding=function(t){return arguments.length?(e="function"==typeof t?t:aN(+t),i):e},i},packSiblings:function(t){return eN(t),t},packEnclose:qM,partition:function(){var t=1,n=1,r=0,e=!1;function i(i){var u=i.height+1;return i.x0=i.y0=r,i.x1=t,i.y1=n/u,i.eachBefore(function(t,n){return function(e){e.children&&dN(e,e.x0,t*(e.depth+1)/n,e.x1,t*(e.depth+2)/n);var i=e.x0,u=e.y0,o=e.x1-r,a=e.y1-r;o<i&&(i=o=(i+o)/2),a<u&&(u=a=(u+a)/2),e.x0=i,e.y0=u,e.x1=o,e.y1=a}}(n,u)),e&&i.eachBefore(lN),i}return i.round=function(t){return arguments.length?(e=!!t,i):e},i.size=function(r){return arguments.length?(t=+r[0],n=+r[1],i):[t,n]},i.padding=function(t){return arguments.length?(r=+t,i):r},i},stratify:function(){var t=bN,n=wN;function r(r){var e,i,u,o,a,s,c,f=r.length,h=new Array(f),l={};for(i=0;i<f;++i)a=h[i]=new $M(e=r[i]),null!=(s=t(e,i,r))&&(s+="")&&(l[c="$"+(a.id=s)]=c in l?pN:a);for(i=0;i<f;++i)if(a=h[i],null!=(s=n(r[i],i,r))&&(s+="")){if(!(o=l["$"+s]))throw new Error("missing: "+s);if(o===pN)throw new Error("ambiguous: "+s);o.children?o.children.push(a):o.children=[a],a.parent=o}else{if(u)throw new Error("multiple roots");u=a}if(!u)throw new Error("no root");if(u.parent=vN,u.eachBefore((function(t){t.depth=t.parent.depth+1,--f})).eachBefore(BM),u.parent=null,f>0)throw new Error("cycle");return u}return r.id=function(n){return arguments.length?(t=uN(n),r):t},r.parentId=function(t){return arguments.length?(n=uN(t),r):n},r},tree:function(){var t=mN,n=1,r=1,e=null;function i(i){var s=function(t){for(var n,r,e,i,u,o=new LN(t,0),a=[o];n=a.pop();)if(e=n._.children)for(n.children=new Array(u=e.length),i=u-1;i>=0;--i)a.push(r=n.children[i]=new LN(e[i],i)),r.parent=n;return(o.parent=new LN(null,0)).children=[o],o}(i);if(s.eachAfter(u),s.parent.m=-s.z,s.eachBefore(o),e)i.eachBefore(a);else{var c=i,f=i,h=i;i.eachBefore((function(t){t.x<c.x&&(c=t),t.x>f.x&&(f=t),t.depth>h.depth&&(h=t)}));var l=c===f?1:t(c,f)/2,d=l-c.x,v=n/(f.x+l+d),p=r/(h.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*v,t.y=t.depth*p}))}return i}function u(n){var r=n.children,e=n.parent.children,i=n.i?e[n.i-1]:null;if(r){!function(t){for(var n,r=0,e=0,i=t.children,u=i.length;--u>=0;)(n=i[u]).z+=r,n.m+=r,r+=n.s+(e+=n.c)}(n);var u=(r[0].z+r[r.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-u):n.z=u}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,r,e){if(r){for(var i,u=n,o=n,a=r,s=u.parent.children[0],c=u.m,f=o.m,h=a.m,l=s.m;a=gN(a),u=yN(u),a&&u;)s=yN(s),(o=gN(o)).a=n,(i=a.z+h-u.z-c+t(a._,u._))>0&&(MN(NN(a,n,e),n,i),c+=i,f+=i),h+=a.m,c+=u.m,l+=s.m,f+=o.m;a&&!gN(o)&&(o.t=a,o.m+=h-f),u&&!yN(s)&&(s.t=u,s.m+=c-l,e=n)}return e}(n,i,n.parent.A||e[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=n,t.y=t.depth*r}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(e=!1,n=+t[0],r=+t[1],i):e?null:[n,r]},i.nodeSize=function(t){return arguments.length?(e=!0,n=+t[0],r=+t[1],i):e?[n,r]:null},i},treemap:function(){var t=TN,n=!1,r=1,e=1,i=[0],u=oN,o=oN,a=oN,s=oN,c=oN;function f(t){return t.x0=t.y0=0,t.x1=r,t.y1=e,t.eachBefore(h),i=[0],n&&t.eachBefore(lN),t}function h(n){var r=i[n.depth],e=n.x0+r,f=n.y0+r,h=n.x1-r,l=n.y1-r;h<e&&(e=h=(e+h)/2),l<f&&(f=l=(f+l)/2),n.x0=e,n.y0=f,n.x1=h,n.y1=l,n.children&&(r=i[n.depth+1]=u(n)/2,e+=c(n)-r,f+=o(n)-r,(h-=a(n)-r)<e&&(e=h=(e+h)/2),(l-=s(n)-r)<f&&(f=l=(f+l)/2),t(n,e,f,h,l))}return f.round=function(t){return arguments.length?(n=!!t,f):n},f.size=function(t){return arguments.length?(r=+t[0],e=+t[1],f):[r,e]},f.tile=function(n){return arguments.length?(t=uN(n),f):t},f.padding=function(t){return arguments.length?f.paddingInner(t).paddingOuter(t):f.paddingInner()},f.paddingInner=function(t){return arguments.length?(u="function"==typeof t?t:aN(+t),f):u},f.paddingOuter=function(t){return arguments.length?f.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):f.paddingTop()},f.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:aN(+t),f):o},f.paddingRight=function(t){return arguments.length?(a="function"==typeof t?t:aN(+t),f):a},f.paddingBottom=function(t){return arguments.length?(s="function"==typeof t?t:aN(+t),f):s},f.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:aN(+t),f):c},f},treemapBinary:function(t,n,r,e,i){var u,o,a=t.children,s=a.length,c=new Array(s+1);for(c[0]=o=u=0;u<s;++u)c[u+1]=o+=a[u].value;!function t(n,r,e,i,u,o,s){if(n>=r-1){var f=a[n];return f.x0=i,f.y0=u,f.x1=o,void(f.y1=s)}for(var h=c[n],l=e/2+h,d=n+1,v=r-1;d<v;){var p=d+v>>>1;c[p]<l?d=p+1:v=p}l-c[d-1]<c[d]-l&&n+1<d&&--d;var b=c[d]-h,w=e-b;if(o-i>s-u){var m=(i*w+o*b)/e;t(n,d,b,i,u,m,s),t(d,r,w,m,u,o,s)}else{var y=(u*w+s*b)/e;t(n,d,b,i,u,o,y),t(d,r,w,i,y,o,s)}}(0,s,t.value,n,r,e,i)},treemapDice:dN,treemapSlice:kN,treemapSliceDice:function(t,n,r,e,i){(1&t.depth?kN:dN)(t,n,r,e,i)},treemapSquarify:TN,treemapResquarify:xN,interpolate:_L,interpolateArray:RL,interpolateBasis:NL,interpolateBasisClosed:LL,interpolateDate:FL,interpolateNumber:CL,interpolateObject:DL,interpolateRound:function(t,n){return n-=t=+t,function(r){return Math.round(t+n*r)}},interpolateString:UL,interpolateTransformCss:GL,interpolateTransformSvg:ZL,interpolateZoom:function(t,n){var r,e,i=t[0],u=t[1],o=t[2],a=n[2],s=n[0]-i,c=n[1]-u,f=s*s+c*c;if(f<1e-12)e=Math.log(a/o)/XL,r=function(t){return[i+t*s,u+t*c,o*Math.exp(XL*t*e)]};else{var h=Math.sqrt(f),l=(a*a-o*o+4*f)/(2*o*2*h),d=(a*a-o*o-4*f)/(2*a*2*h),v=Math.log(Math.sqrt(l*l+1)-l),p=Math.log(Math.sqrt(d*d+1)-d);e=(p-v)/XL,r=function(t){var n=t*e,r=KL(v),a=o/(2*h)*(r*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(XL*n+v)-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[i+a*s,u+a*c,o*r/KL(XL*n+v)]}}return r.duration=1e3*e,r},interpolateRgb:xL,interpolateRgbBasis:OL,interpolateRgbBasisClosed:IL,interpolateHsl:QL,interpolateHslLong:tk,interpolateLab:function(t,n){var r=TL((t=sL(t)).l,(n=sL(n)).l),e=TL(t.a,n.a),i=TL(t.b,n.b),u=TL(t.opacity,n.opacity);return function(n){return t.l=r(n),t.a=e(n),t.b=i(n),t.opacity=u(n),t+""}},interpolateHcl:rk,interpolateHclLong:ek,interpolateCubehelix:uk,interpolateCubehelixLong:ok,quantize:function(t,n){for(var r=new Array(n),e=0;e<n;++e)r[e]=t(e/(n-1));return r},path:hk,polygonArea:function(t){for(var n,r=-1,e=t.length,i=t[e-1],u=0;++r<e;)u+=(n=i)[1]*(i=t[r])[0]-n[0]*i[1];return u/2},polygonCentroid:function(t){for(var n,r,e=-1,i=t.length,u=0,o=0,a=t[i-1],s=0;++e<i;)s+=r=(n=a)[0]*(a=t[e])[1]-a[0]*n[1],u+=(n[0]+a[0])*r,o+=(n[1]+a[1])*r;return[u/(s*=3),o/s]},polygonHull:function(t){if((r=t.length)<3)return null;var n,r,e=new Array(r),i=new Array(r);for(n=0;n<r;++n)e[n]=[+t[n][0],+t[n][1],n];for(e.sort(dk),n=0;n<r;++n)i[n]=[e[n][0],-e[n][1]];var u=vk(e),o=vk(i),a=o[0]===u[0],s=o[o.length-1]===u[u.length-1],c=[];for(n=u.length-1;n>=0;--n)c.push(t[e[u[n]][2]]);for(n=+a;n<o.length-s;++n)c.push(t[e[o[n]][2]]);return c},polygonContains:function(t,n){for(var r,e,i=t.length,u=t[i-1],o=n[0],a=n[1],s=u[0],c=u[1],f=!1,h=0;h<i;++h)r=(u=t[h])[0],(e=u[1])>a!=c>a&&o<(s-r)*(a-e)/(c-e)+r&&(f=!f),s=r,c=e;return f},polygonLength:function(t){for(var n,r,e=-1,i=t.length,u=t[i-1],o=u[0],a=u[1],s=0;++e<i;)n=o,r=a,n-=o=(u=t[e])[0],r-=a=u[1],s+=Math.sqrt(n*n+r*r);return s},quadtree:yk,queue:Ok,randomUniform:Rk,randomNormal:Fk,randomLogNormal:Ck,randomBates:Hk,randomIrwinHall:Dk,randomExponential:jk,request:Uk,html:Pk,json:Wk,text:Bk,xml:$k,csv:tE,tsv:nE,scaleBand:gE,scalePoint:function(){return function t(n){var r=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return t(r())},n}(gE().paddingInner(1))},scaleIdentity:function t(){var n=[0,1];function r(t){return+t}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(n=bE.call(t,TA),r):n.slice()},r.copy=function(){return t().domain(n)},GA(r)},scaleLinear:ZA,scaleLog:function t(){var n=FA(KA,JA).domain([1,10]),r=n.domain,e=10,i=nT(10),u=tT(10);function o(){return i=nT(e),u=tT(e),r()[0]<0&&(i=rT(i),u=rT(u)),n}return n.base=function(t){return arguments.length?(e=+t,o()):e},n.domain=function(t){return arguments.length?(r(t),o()):r()},n.ticks=function(t){var n,o=r(),a=o[0],s=o[o.length-1];(n=s<a)&&(l=a,a=s,s=l);var c,f,h,l=i(a),d=i(s),v=null==t?10:+t,p=[];if(!(e%1)&&d-l<v){if(l=Math.round(l)-1,d=Math.round(d)+1,a>0){for(;l<d;++l)for(f=1,c=u(l);f<e;++f)if(!((h=c*f)<a)){if(h>s)break;p.push(h)}}else for(;l<d;++l)for(f=e-1,c=u(l);f>=1;--f)if(!((h=c*f)<a)){if(h>s)break;p.push(h)}}else p=cE(l,d,Math.min(d-l,v)).map(u);return n?p.reverse():p},n.tickFormat=function(t,r){if(null==r&&(r=10===e?".0e":","),"function"!=typeof r&&(r=YA(r)),t===1/0)return r;null==t&&(t=10);var o=Math.max(1,e*t/n.ticks().length);return function(t){var n=t/u(Math.round(i(t)));return n*e<e-.5&&(n*=e),n<=o?r(t):""}},n.nice=function(){return r(XA(r(),{floor:function(t){return u(Math.floor(i(t)))},ceil:function(t){return u(Math.ceil(i(t)))}}))},n.copy=function(){return RA(n,t().base(e))},n},scaleOrdinal:yE,scaleImplicit:mE,scalePow:iT,scaleSqrt:function(){return iT().exponent(.5)},scaleQuantile:function t(){var n=[],r=[],e=[];function i(){var t=0,i=Math.max(1,r.length);for(e=new Array(i-1);++t<i;)e[t-1]=lE(n,t/i);return u}function u(t){if(!isNaN(t=+t))return r[iE(e,t)]}return u.invertExtent=function(t){var i=r.indexOf(t);return i<0?[NaN,NaN]:[i>0?e[i-1]:n[0],i<e.length?e[i]:n[n.length-1]]},u.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var r,e=0,u=t.length;e<u;++e)null==(r=t[e])||isNaN(r=+r)||n.push(r);return n.sort(rE),i()},u.range=function(t){return arguments.length?(r=wE.call(t),i()):r.slice()},u.quantiles=function(){return e.slice()},u.copy=function(){return t().domain(n).range(r)},u},scaleQuantize:function t(){var n=0,r=1,e=1,i=[.5],u=[0,1];function o(t){if(t<=t)return u[iE(i,t,0,e)]}function a(){var t=-1;for(i=new Array(e);++t<e;)i[t]=((t+1)*r-(t-e)*n)/(e+1);return o}return o.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],a()):[n,r]},o.range=function(t){return arguments.length?(e=(u=wE.call(t)).length-1,a()):u.slice()},o.invertExtent=function(t){var o=u.indexOf(t);return o<0?[NaN,NaN]:o<1?[n,i[0]]:o>=e?[i[e-1],r]:[i[o-1],i[o]]},o.copy=function(){return t().domain([n,r]).range(u)},GA(o)},scaleThreshold:function t(){var n=[.5],r=[0,1],e=1;function i(t){if(t<=t)return r[iE(n,t,0,e)]}return i.domain=function(t){return arguments.length?(n=wE.call(t),e=Math.min(n.length,r.length-1),i):n.slice()},i.range=function(t){return arguments.length?(r=wE.call(t),e=Math.min(n.length,r.length-1),i):r.slice()},i.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},i.copy=function(){return t().domain(n).range(r)},i},scaleTime:function(){return tS(mT,wT,vT,lT,hT,fT,cT,sT,RT).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},scaleUtc:function(){return tS(TT,AT,LT,MT,gT,yT,cT,sT,FT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},schemeCategory10:rS,schemeCategory20b:eS,schemeCategory20c:iS,schemeCategory20:uS,interpolateCubehelixDefault:oS,interpolateRainbow:function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return cS.h=360*t-100,cS.s=1.5-1.5*n,cS.l=.8-.9*n,cS+""},interpolateWarm:aS,interpolateCool:sS,interpolateViridis:hS,interpolateMagma:lS,interpolateInferno:dS,interpolatePlasma:vS,scaleSequential:function t(n){var r=0,e=1,i=!1;function u(t){var u=(t-r)/(e-r);return n(i?Math.max(0,Math.min(1,u)):u)}return u.domain=function(t){return arguments.length?(r=+t[0],e=+t[1],u):[r,e]},u.clamp=function(t){return arguments.length?(i=!!t,u):i},u.interpolator=function(t){return arguments.length?(n=t,u):n},u.copy=function(){return t(n).domain([r,e]).clamp(i)},GA(u)},create:function(t){return TO(gS(t).call(document.documentElement))},creator:gS,local:SO,matcher:xS,mouse:function(t){var n=IO();return n.changedTouches&&(n=n.changedTouches[0]),RO(t,n)},namespace:wS,namespaces:bS,clientPoint:RO,select:TO,selectAll:function(t){return"string"==typeof t?new EO([document.querySelectorAll(t)],[document.documentElement]):new EO([null==t?[]:t],kO)},selection:AO,selector:NS,selectorAll:kS,style:YS,touch:function(t,n,r){arguments.length<3&&(r=n,n=IO().changedTouches);for(var e,i=0,u=n?n.length:0;i<u;++i)if((e=n[i]).identifier===r)return RO(t,e);return null},touches:function(t,n){null==n&&(n=IO().touches);for(var r=0,e=n?n.length:0,i=new Array(e);r<e;++r)i[r]=RO(t,n[r]);return i},window:PS,get event(){return pO},customEvent:function(t,n,r,e){var i=pO;t.sourceEvent=pO,pO=t;try{return n.apply(r,e)}finally{pO=i}},arc:function(){var t=KO,n=JO,r=UO(0),e=null,i=QO,u=tI,o=nI,a=null;function s(){var s,c,f=+t.apply(this,arguments),h=+n.apply(this,arguments),l=i.apply(this,arguments)-VO,d=u.apply(this,arguments)-VO,v=_O(d-l),p=d>l;if(a||(a=s=jO()),h<f&&(c=h,h=f,f=c),h>1e-12)if(v>GO-1e-12)a.moveTo(h*WO(l),h*YO(l)),a.arc(0,0,h,l,d,!p),f>1e-12&&(a.moveTo(f*WO(d),f*YO(d)),a.arc(0,0,f,d,l,p));else{var b,w,m=l,y=d,g=l,M=d,N=v,L=v,k=o.apply(this,arguments)/2,E=k>1e-12&&(e?+e.apply(this,arguments):qO(f*f+h*h)),A=$O(_O(h-f)/2,+r.apply(this,arguments)),T=A,x=A;if(E>1e-12){var S=XO(E/f*YO(k)),O=XO(E/h*YO(k));(N-=2*S)>1e-12?(g+=S*=p?1:-1,M-=S):(N=0,g=M=(l+d)/2),(L-=2*O)>1e-12?(m+=O*=p?1:-1,y-=O):(L=0,m=y=(l+d)/2)}var I=h*WO(m),R=h*YO(m),F=f*WO(M),C=f*YO(M);if(A>1e-12){var D=h*WO(y),H=h*YO(y),j=f*WO(g),U=f*YO(g);if(v<zO){var _=N>1e-12?rI(I,R,j,U,D,H,F,C):[F,C],P=I-_[0],W=R-_[1],B=D-_[0],$=H-_[1],Y=1/YO(ZO((P*B+W*$)/(qO(P*P+W*W)*qO(B*B+$*$)))/2),q=qO(_[0]*_[0]+_[1]*_[1]);T=$O(A,(f-q)/(Y-1)),x=$O(A,(h-q)/(Y+1))}}L>1e-12?x>1e-12?(b=eI(j,U,I,R,h,x,p),w=eI(D,H,F,C,h,x,p),a.moveTo(b.cx+b.x01,b.cy+b.y01),x<A?a.arc(b.cx,b.cy,x,PO(b.y01,b.x01),PO(w.y01,w.x01),!p):(a.arc(b.cx,b.cy,x,PO(b.y01,b.x01),PO(b.y11,b.x11),!p),a.arc(0,0,h,PO(b.cy+b.y11,b.cx+b.x11),PO(w.cy+w.y11,w.cx+w.x11),!p),a.arc(w.cx,w.cy,x,PO(w.y11,w.x11),PO(w.y01,w.x01),!p))):(a.moveTo(I,R),a.arc(0,0,h,m,y,!p)):a.moveTo(I,R),f>1e-12&&N>1e-12?T>1e-12?(b=eI(F,C,D,H,f,-T,p),w=eI(I,R,j,U,f,-T,p),a.lineTo(b.cx+b.x01,b.cy+b.y01),T<A?a.arc(b.cx,b.cy,T,PO(b.y01,b.x01),PO(w.y01,w.x01),!p):(a.arc(b.cx,b.cy,T,PO(b.y01,b.x01),PO(b.y11,b.x11),!p),a.arc(0,0,f,PO(b.cy+b.y11,b.cx+b.x11),PO(w.cy+w.y11,w.cx+w.x11),p),a.arc(w.cx,w.cy,T,PO(w.y11,w.x11),PO(w.y01,w.x01),!p))):a.arc(0,0,f,M,g,p):a.lineTo(F,C)}else a.moveTo(0,0);if(a.closePath(),s)return a=null,s+""||null}return s.centroid=function(){var r=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,e=(+i.apply(this,arguments)+ +u.apply(this,arguments))/2-zO/2;return[WO(e)*r,YO(e)*r]},s.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:UO(+n),s):t},s.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:UO(+t),s):n},s.cornerRadius=function(t){return arguments.length?(r="function"==typeof t?t:UO(+t),s):r},s.padRadius=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:UO(+t),s):e},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:UO(+t),s):i},s.endAngle=function(t){return arguments.length?(u="function"==typeof t?t:UO(+t),s):u},s.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:UO(+t),s):o},s.context=function(t){return arguments.length?(a=null==t?null:t,s):a},s},area:cI,line:sI,pie:function(){var t=hI,n=fI,r=null,e=UO(0),i=UO(GO),u=UO(0);function o(o){var a,s,c,f,h,l=o.length,d=0,v=new Array(l),p=new Array(l),b=+e.apply(this,arguments),w=Math.min(GO,Math.max(-GO,i.apply(this,arguments)-b)),m=Math.min(Math.abs(w)/l,u.apply(this,arguments)),y=m*(w<0?-1:1);for(a=0;a<l;++a)(h=p[v[a]=a]=+t(o[a],a,o))>0&&(d+=h);for(null!=n?v.sort((function(t,r){return n(p[t],p[r])})):null!=r&&v.sort((function(t,n){return r(o[t],o[n])})),a=0,c=d?(w-l*y)/d:0;a<l;++a,b=f)p[s=v[a]]={data:o[s],index:a,value:h=p[s],startAngle:b,endAngle:f=b+(h>0?h*c:0)+y,padAngle:m};return p}return o.value=function(n){return arguments.length?(t="function"==typeof n?n:UO(+n),o):t},o.sortValues=function(t){return arguments.length?(n=t,r=null,o):n},o.sort=function(t){return arguments.length?(r=t,n=null,o):r},o.startAngle=function(t){return arguments.length?(e="function"==typeof t?t:UO(+t),o):e},o.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:UO(+t),o):i},o.padAngle=function(t){return arguments.length?(u="function"==typeof t?t:UO(+t),o):u},o},areaRadial:wI,radialArea:wI,lineRadial:bI,radialLine:bI,pointRadial:mI,linkHorizontal:function(){return NI(LI)},linkVertical:function(){return NI(kI)},linkRadial:function(){var t=NI(EI);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},symbol:function(){var t=UO(AI),n=UO(64),r=null;function e(){var e;if(r||(r=e=jO()),t.apply(this,arguments).draw(r,+n.apply(this,arguments)),e)return r=null,e+""||null}return e.type=function(n){return arguments.length?(t="function"==typeof n?n:UO(n),e):t},e.size=function(t){return arguments.length?(n="function"==typeof t?t:UO(+t),e):n},e.context=function(t){return arguments.length?(r=null==t?null:t,e):r},e},symbols:$I,symbolCircle:AI,symbolCross:TI,symbolDiamond:OI,symbolSquare:DI,symbolStar:CI,symbolTriangle:jI,symbolWye:BI,curveBasisClosed:function(t){return new VI(t)},curveBasisOpen:function(t){return new GI(t)},curveBasis:function(t){return new zI(t)},curveBundle:XI,curveCardinalClosed:nR,curveCardinalOpen:eR,curveCardinal:QI,curveCatmullRomClosed:sR,curveCatmullRomOpen:fR,curveCatmullRom:oR,curveLinearClosed:function(t){return new hR(t)},curveLinear:uI,curveMonotoneX:function(t){return new bR(t)},curveMonotoneY:function(t){return new wR(t)},curveNatural:function(t){return new yR(t)},curveStep:function(t){return new MR(t,.5)},curveStepAfter:function(t){return new MR(t,1)},curveStepBefore:function(t){return new MR(t,0)},stack:function(){var t=UO([]),n=LR,r=NR,e=kR;function i(i){var u,o,a=t.apply(this,arguments),s=i.length,c=a.length,f=new Array(c);for(u=0;u<c;++u){for(var h,l=a[u],d=f[u]=new Array(s),v=0;v<s;++v)d[v]=h=[0,+e(i[v],l,v,i)],h.data=i[v];d.key=l}for(u=0,o=n(f);u<c;++u)f[o[u]].index=u;return r(f,o),f}return i.keys=function(n){return arguments.length?(t="function"==typeof n?n:UO(yI.call(n)),i):t},i.value=function(t){return arguments.length?(e="function"==typeof t?t:UO(+t),i):e},i.order=function(t){return arguments.length?(n=null==t?LR:"function"==typeof t?t:UO(yI.call(t)),i):n},i.offset=function(t){return arguments.length?(r=null==t?NR:t,i):r},i},stackOffsetExpand:function(t,n){if((e=t.length)>0){for(var r,e,i,u=0,o=t[0].length;u<o;++u){for(i=r=0;r<e;++r)i+=t[r][u][1]||0;if(i)for(r=0;r<e;++r)t[r][u][1]/=i}NR(t,n)}},stackOffsetDiverging:function(t,n){if((a=t.length)>1)for(var r,e,i,u,o,a,s=0,c=t[n[0]].length;s<c;++s)for(u=o=0,r=0;r<a;++r)(i=(e=t[n[r]][s])[1]-e[0])>=0?(e[0]=u,e[1]=u+=i):i<0?(e[1]=o,e[0]=o+=i):e[0]=u},stackOffsetNone:NR,stackOffsetSilhouette:function(t,n){if((r=t.length)>0){for(var r,e=0,i=t[n[0]],u=i.length;e<u;++e){for(var o=0,a=0;o<r;++o)a+=t[o][e][1]||0;i[e][1]+=i[e][0]=-a/2}NR(t,n)}},stackOffsetWiggle:function(t,n){if((i=t.length)>0&&(e=(r=t[n[0]]).length)>0){for(var r,e,i,u=0,o=1;o<e;++o){for(var a=0,s=0,c=0;a<i;++a){for(var f=t[n[a]],h=f[o][1]||0,l=(h-(f[o-1][1]||0))/2,d=0;d<a;++d){var v=t[n[d]];l+=(v[o][1]||0)-(v[o-1][1]||0)}s+=h,c+=l*h}r[o-1][1]+=r[o-1][0]=u,s&&(u-=c/s)}r[o-1][1]+=r[o-1][0]=u,NR(t,n)}},stackOrderAscending:ER,stackOrderDescending:function(t){return ER(t).reverse()},stackOrderInsideOut:function(t){var n,r,e=t.length,i=t.map(AR),u=LR(t).sort((function(t,n){return i[n]-i[t]})),o=0,a=0,s=[],c=[];for(n=0;n<e;++n)r=u[n],o<a?(o+=i[r],s.push(r)):(a+=i[r],c.push(r));return c.reverse().concat(s)},stackOrderNone:LR,stackOrderReverse:function(t){return LR(t).reverse()},timeInterval:SR,timeMillisecond:OR,timeMilliseconds:IR,utcMillisecond:OR,utcMilliseconds:IR,timeSecond:RR,timeSeconds:FR,utcSecond:RR,utcSeconds:FR,timeMinute:CR,timeMinutes:DR,timeHour:HR,timeHours:jR,timeDay:UR,timeDays:_R,timeWeek:WR,timeWeeks:GR,timeSunday:WR,timeSundays:GR,timeMonday:BR,timeMondays:ZR,timeTuesday:$R,timeTuesdays:XR,timeWednesday:YR,timeWednesdays:KR,timeThursday:qR,timeThursdays:JR,timeFriday:zR,timeFridays:QR,timeSaturday:VR,timeSaturdays:tF,timeMonth:nF,timeMonths:rF,timeYear:eF,timeYears:iF,utcMinute:uF,utcMinutes:oF,utcHour:aF,utcHours:sF,utcDay:cF,utcDays:fF,utcWeek:lF,utcWeeks:yF,utcSunday:lF,utcSundays:yF,utcMonday:dF,utcMondays:gF,utcTuesday:vF,utcTuesdays:MF,utcWednesday:pF,utcWednesdays:NF,utcThursday:bF,utcThursdays:LF,utcFriday:wF,utcFridays:kF,utcSaturday:mF,utcSaturdays:EF,utcMonth:AF,utcMonths:TF,utcYear:xF,utcYears:SF,timeFormatDefaultLocale:hD,get timeFormat(){return KF},get timeParse(){return JF},get utcFormat(){return QF},get utcParse(){return tC},timeFormatLocale:ZF,isoFormat:vD,isoParse:pD,now:kD,timer:TD,timerFlush:xD,timeout:function(t,n,r){var e=new AD;return e.restart((function(r){e.stop(),t(r+n)}),n=null==n?0:+n,r),e},interval:function(t,n,r){var e=new AD,i=n;return null==n?(e.restart(t,n,r),e):(n=+n,r=null==r?kD():+r,e.restart((function u(o){o+=i,e.restart(u,i+=n,r),t(o)}),n,r),e)},transition:YU,active:function(t,n){var r,e,i=t.__transition;if(i)for(e in n=null==n?null:n+"",i)if((r=i[e]).state>1&&r.name===n)return new $U([[t]],ZU,n,+e);return null},interrupt:bj,voronoi:function(){var t=KU,n=JU,r=null;function e(e){return new F_(e.map((function(r,i){var u=[Math.round(t(r,i,e)/S_)*S_,Math.round(n(r,i,e)/S_)*S_];return u.index=i,u.data=r,u})),r)}return e.polygons=function(t){return e(t).polygons()},e.links=function(t){return e(t).links()},e.triangles=function(t){return e(t).triangles()},e.x=function(n){return arguments.length?(t="function"==typeof n?n:XU(+n),e):t},e.y=function(t){return arguments.length?(n="function"==typeof t?t:XU(+t),e):n},e.extent=function(t){return arguments.length?(r=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],e):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},e.size=function(t){return arguments.length?(r=null==t?null:[[0,0],[+t[0],+t[1]]],e):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},e},zoom:function(){var t,n,r=dW,e=vW,i=mW,u=bW,o=wW,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],c=250,f=Vu,h=[],l=Xe("start","zoom","end"),d=0;function v(t){t.property("__zoom",pW).on("wheel.zoom",M).on("mousedown.zoom",N).on("dblclick.zoom",L).filter(o).on("touchstart.zoom",k).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(t,n){return(n=Math.max(a[0],Math.min(a[1],n)))===t.k?t:new sW(n,t.x,t.y)}function b(t,n,r){var e=n[0]-r[0]*t.k,i=n[1]-r[1]*t.k;return e===t.x&&i===t.y?t:new sW(t.k,e,i)}function w(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function m(t,n,r){t.on("start.zoom",(function(){y(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){y(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,u=y(t,i),o=e.apply(t,i),a=r||w(o),s=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),c=t.__zoom,h="function"==typeof n?n.apply(t,i):n,l=f(c.invert(a).concat(s/c.k),h.invert(a).concat(s/h.k));return function(t){if(1===t)t=h;else{var n=l(t),r=s/n[2];t=new sW(r,a[0]-n[0]*r,a[1]-n[1]*r)}u.zoom(null,t)}}))}function y(t,n){for(var r,e=0,i=h.length;e<i;++e)if((r=h[e]).that===t)return r;return new g(t,n)}function g(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=e.apply(t,n)}function M(){if(r.apply(this,arguments)){var t=y(this,arguments),n=this.__zoom,e=Math.max(a[0],Math.min(a[1],n.k*Math.pow(2,u.apply(this,arguments)))),o=mt(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=n.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(n.k===e)return;t.mouse=[o,n.invert(o)],P_(this),t.start()}lW(),t.wheel=setTimeout(c,150),t.zoom("mouse",i(b(p(n,e),t.mouse[0],t.mouse[1]),t.extent,s))}function c(){t.wheel=null,t.end()}}function N(){if(!n&&r.apply(this,arguments)){var t=y(this,arguments),e=pt(rt.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",f,!0),u=mt(this),o=rt.clientX,a=rt.clientY;kh(rt.view),hW(),t.mouse=[u,this.__zoom.invert(u)],P_(this),t.start()}function c(){if(lW(),!t.moved){var n=rt.clientX-o,r=rt.clientY-a;t.moved=n*n+r*r>d}t.zoom("mouse",i(b(t.that.__zoom,t.mouse[0]=mt(t.that),t.mouse[1]),t.extent,s))}function f(){e.on("mousemove.zoom mouseup.zoom",null),Eh(rt.view,t.moved),lW(),t.end()}}function L(){if(r.apply(this,arguments)){var t=this.__zoom,n=mt(this),u=t.invert(n),o=t.k*(rt.shiftKey?.5:2),a=i(b(p(t,o),n,u),e.apply(this,arguments),s);lW(),c>0?pt(this).transition().duration(c).call(m,a,n):pt(this).call(v.transform,a)}}function k(){if(r.apply(this,arguments)){var n,e,i,u,o=y(this,arguments),a=rt.changedTouches,s=a.length;for(hW(),e=0;e<s;++e)u=[u=yt(this,a,(i=a[e]).identifier),this.__zoom.invert(u),i.identifier],o.touch0?o.touch1||(o.touch1=u):(o.touch0=u,n=!0);if(t&&(t=clearTimeout(t),!o.touch1))return o.end(),void((u=pt(this).on("dblclick.zoom"))&&u.apply(this,arguments));n&&(t=setTimeout((function(){t=null}),500),P_(this),o.start())}}function E(){var n,r,e,u,o=y(this,arguments),a=rt.changedTouches,c=a.length;for(lW(),t&&(t=clearTimeout(t)),n=0;n<c;++n)e=yt(this,a,(r=a[n]).identifier),o.touch0&&o.touch0[2]===r.identifier?o.touch0[0]=e:o.touch1&&o.touch1[2]===r.identifier&&(o.touch1[0]=e);if(r=o.that.__zoom,o.touch1){var f=o.touch0[0],h=o.touch0[1],l=o.touch1[0],d=o.touch1[1],v=(v=l[0]-f[0])*v+(v=l[1]-f[1])*v,w=(w=d[0]-h[0])*w+(w=d[1]-h[1])*w;r=p(r,Math.sqrt(v/w)),e=[(f[0]+l[0])/2,(f[1]+l[1])/2],u=[(h[0]+d[0])/2,(h[1]+d[1])/2]}else{if(!o.touch0)return;e=o.touch0[0],u=o.touch0[1]}o.zoom("touch",i(b(r,e,u),o.extent,s))}function A(){var t,r,e=y(this,arguments),i=rt.changedTouches,u=i.length;for(hW(),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),t=0;t<u;++t)r=i[t],e.touch0&&e.touch0[2]===r.identifier?delete e.touch0:e.touch1&&e.touch1[2]===r.identifier&&delete e.touch1;e.touch1&&!e.touch0&&(e.touch0=e.touch1,delete e.touch1),e.touch0?e.touch0[1]=this.__zoom.invert(e.touch0[0]):e.end()}return v.transform=function(t,n){var r=t.selection?t.selection():t;r.property("__zoom",pW),t!==r?m(t,n):r.interrupt().each((function(){y(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},v.scaleBy=function(t,n){v.scaleTo(t,(function(){var t=this.__zoom.k,r="function"==typeof n?n.apply(this,arguments):n;return t*r}))},v.scaleTo=function(t,n){v.transform(t,(function(){var t=e.apply(this,arguments),r=this.__zoom,u=w(t),o=r.invert(u),a="function"==typeof n?n.apply(this,arguments):n;return i(b(p(r,a),u,o),t,s)}))},v.translateBy=function(t,n,r){v.transform(t,(function(){return i(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof r?r.apply(this,arguments):r),e.apply(this,arguments),s)}))},v.translateTo=function(t,n,r){v.transform(t,(function(){var t=e.apply(this,arguments),u=this.__zoom,o=w(t);return i(cW.translate(o[0],o[1]).scale(u.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof r?-r.apply(this,arguments):-r),t,s)}))},g.prototype={start:function(){return 1==++this.active&&(this.index=h.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(h.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){st(new aW(v,t,this.that.__zoom),l.apply,l,[t,this.that,this.args])}},v.wheelDelta=function(t){return arguments.length?(u="function"==typeof t?t:oW(+t),v):u},v.filter=function(t){return arguments.length?(r="function"==typeof t?t:oW(!!t),v):r},v.touchable=function(t){return arguments.length?(o="function"==typeof t?t:oW(!!t),v):o},v.extent=function(t){return arguments.length?(e="function"==typeof t?t:oW([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):e},v.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],v):[a[0],a[1]]},v.translateExtent=function(t){return arguments.length?(s[0][0]=+t[0][0],s[1][0]=+t[1][0],s[0][1]=+t[0][1],s[1][1]=+t[1][1],v):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},v.constrain=function(t){return arguments.length?(i=t,v):i},v.duration=function(t){return arguments.length?(c=+t,v):c},v.interpolate=function(t){return arguments.length?(f=t,v):f},v.on=function(){var t=l.on.apply(l,arguments);return t===l?v:t},v.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,v):Math.sqrt(d)},v},zoomTransform:fW,zoomIdentity:cW}),gW="http://www.w3.org/1999/xhtml",MW={svg:"http://www.w3.org/2000/svg",xhtml:gW,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function NW(t){var n=t+="",r=n.indexOf(":");return r>=0&&"xmlns"!==(n=t.slice(0,r))&&(t=t.slice(r+1)),MW.hasOwnProperty(n)?{space:MW[n],local:t}:t}function LW(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===gW&&n.documentElement.namespaceURI===gW?n.createElement(t):n.createElementNS(r,t)}}function kW(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function EW(t){var n=NW(t);return(n.local?kW:LW)(n)}function AW(){}function TW(t){return null==t?AW:function(){return this.querySelector(t)}}function xW(){return[]}function SW(t){return new Array(t.length)}function OW(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function IW(t,n,r,e,i,u){for(var o,a=0,s=n.length,c=u.length;a<c;++a)(o=n[a])?(o.__data__=u[a],e[a]=o):r[a]=new OW(t,u[a]);for(;a<s;++a)(o=n[a])&&(i[a]=o)}function RW(t,n,r,e,i,u,o){var a,s,c,f={},h=n.length,l=u.length,d=new Array(h);for(a=0;a<h;++a)(s=n[a])&&(d[a]=c="$"+o.call(s,s.__data__,a,n),c in f?i[a]=s:f[c]=s);for(a=0;a<l;++a)(s=f[c="$"+o.call(t,u[a],a,u)])?(e[a]=s,s.__data__=u[a],f[c]=null):r[a]=new OW(t,u[a]);for(a=0;a<h;++a)(s=n[a])&&f[d[a]]===s&&(i[a]=s)}function FW(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function CW(t){return function(){this.removeAttribute(t)}}function DW(t){return function(){this.removeAttributeNS(t.space,t.local)}}function HW(t,n){return function(){this.setAttribute(t,n)}}function jW(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function UW(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}function _W(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function PW(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function WW(t){return function(){this.style.removeProperty(t)}}function BW(t,n,r){return function(){this.style.setProperty(t,n,r)}}function $W(t,n,r){return function(){var e=n.apply(this,arguments);null==e?this.style.removeProperty(t):this.style.setProperty(t,e,r)}}function YW(t,n){return t.style.getPropertyValue(n)||PW(t).getComputedStyle(t,null).getPropertyValue(n)}function qW(t){return function(){delete this[t]}}function zW(t,n){return function(){this[t]=n}}function VW(t,n){return function(){var r=n.apply(this,arguments);null==r?delete this[t]:this[t]=r}}function GW(t){return t.trim().split(/^|\s+/)}function ZW(t){return t.classList||new XW(t)}function XW(t){this._node=t,this._names=GW(t.getAttribute("class")||"")}function KW(t,n){for(var r=ZW(t),e=-1,i=n.length;++e<i;)r.add(n[e])}function JW(t,n){for(var r=ZW(t),e=-1,i=n.length;++e<i;)r.remove(n[e])}function QW(t){return function(){KW(this,t)}}function tB(t){return function(){JW(this,t)}}function nB(t,n){return function(){(n.apply(this,arguments)?KW:JW)(this,t)}}function rB(){this.textContent=""}function eB(t){return function(){this.textContent=t}}function iB(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function uB(){this.innerHTML=""}function oB(t){return function(){this.innerHTML=t}}function aB(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function sB(){this.nextSibling&&this.parentNode.appendChild(this)}function cB(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fB(){return null}function hB(){var t=this.parentNode;t&&t.removeChild(this)}function lB(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function dB(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}OW.prototype={constructor:OW,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},XW.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var vB={},pB=null;function bB(t,n,r){return t=wB(t,n,r),function(n){var r=n.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||t.call(this,n)}}function wB(t,n,r){return function(e){var i=pB;pB=e;try{t.call(this,this.__data__,n,r)}finally{pB=i}}}function mB(t){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}}))}function yB(t){return function(){var n=this.__on;if(n){for(var r,e=0,i=-1,u=n.length;e<u;++e)r=n[e],t.type&&r.type!==t.type||r.name!==t.name?n[++i]=r:this.removeEventListener(r.type,r.listener,r.capture);++i?n.length=i:delete this.__on}}}function gB(t,n,r){var e=vB.hasOwnProperty(t.type)?bB:wB;return function(i,u,o){var a,s=this.__on,c=e(n,u,o);if(s)for(var f=0,h=s.length;f<h;++f)if((a=s[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=r),void(a.value=n);this.addEventListener(t.type,c,r),a={type:t.type,name:t.name,value:n,listener:c,capture:r},s?s.push(a):this.__on=[a]}}function MB(t,n,r){var e=PW(t),i=e.CustomEvent;"function"==typeof i?i=new i(n,r):(i=e.document.createEvent("Event"),r?(i.initEvent(n,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function NB(t,n){return function(){return MB(this,t,n)}}function LB(t,n){return function(){return MB(this,t,n.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(vB={mouseenter:"mouseover",mouseleave:"mouseout"}));var kB=[null];function EB(t,n){this._groups=t,this._parents=n}function AB(t){return"string"==typeof t?new EB([[document.querySelector(t)]],[document.documentElement]):new EB([[t]],kB)}EB.prototype=function(){return new EB([[document.documentElement]],kB)}.prototype={constructor:EB,select:function(t){"function"!=typeof t&&(t=TW(t));for(var n=this._groups,r=n.length,e=new Array(r),i=0;i<r;++i)for(var u,o,a=n[i],s=a.length,c=e[i]=new Array(s),f=0;f<s;++f)(u=a[f])&&(o=t.call(u,u.__data__,f,a))&&("__data__"in u&&(o.__data__=u.__data__),c[f]=o);return new EB(e,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?xW:function(){return this.querySelectorAll(t)}}(t));for(var n=this._groups,r=n.length,e=[],i=[],u=0;u<r;++u)for(var o,a=n[u],s=a.length,c=0;c<s;++c)(o=a[c])&&(e.push(t.call(o,o.__data__,c,a)),i.push(o));return new EB(e,i)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var n=this._groups,r=n.length,e=new Array(r),i=0;i<r;++i)for(var u,o=n[i],a=o.length,s=e[i]=[],c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&s.push(u);return new EB(e,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var r=n?RW:IW,e=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var u=i.length,o=new Array(u),a=new Array(u),s=new Array(u),c=0;c<u;++c){var f=e[c],h=i[c],l=h.length,d=t.call(f,f&&f.__data__,c,e),v=d.length,p=a[c]=new Array(v),b=o[c]=new Array(v);r(f,h,p,b,s[c]=new Array(l),d,n);for(var w,m,y=0,g=0;y<v;++y)if(w=p[y]){for(y>=g&&(g=y+1);!(m=b[g])&&++g<v;);w._next=m||null}}return(o=new EB(o,e))._enter=a,o._exit=s,o},enter:function(){return new EB(this._enter||this._groups.map(SW),this._parents)},exit:function(){return new EB(this._exit||this._groups.map(SW),this._parents)},join:function(t,n,r){var e=this.enter(),i=this,u=this.exit();return e="function"==typeof t?t(e):e.append(t+""),null!=n&&(i=n(i)),null==r?u.remove():r(u),e&&i?e.merge(i).order():i},merge:function(t){for(var n=this._groups,r=t._groups,e=n.length,i=Math.min(e,r.length),u=new Array(e),o=0;o<i;++o)for(var a,s=n[o],c=r[o],f=s.length,h=u[o]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;o<e;++o)u[o]=n[o];return new EB(u,this._parents)},order:function(){for(var t=this._groups,n=-1,r=t.length;++n<r;)for(var e,i=t[n],u=i.length-1,o=i[u];--u>=0;)(e=i[u])&&(o&&4^e.compareDocumentPosition(o)&&o.parentNode.insertBefore(e,o),o=e);return this},sort:function(t){function n(n,r){return n&&r?t(n.__data__,r.__data__):!n-!r}t||(t=FW);for(var r=this._groups,e=r.length,i=new Array(e),u=0;u<e;++u){for(var o,a=r[u],s=a.length,c=i[u]=new Array(s),f=0;f<s;++f)(o=a[f])&&(c[f]=o);c.sort(n)}return new EB(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var e=t[n],i=0,u=e.length;i<u;++i){var o=e[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,r=0,e=n.length;r<e;++r)for(var i,u=n[r],o=0,a=u.length;o<a;++o)(i=u[o])&&t.call(i,i.__data__,o,u);return this},attr:function(t,n){var r=NW(t);if(arguments.length<2){var e=this.node();return r.local?e.getAttributeNS(r.space,r.local):e.getAttribute(r)}return this.each((null==n?r.local?DW:CW:"function"==typeof n?r.local?_W:UW:r.local?jW:HW)(r,n))},style:function(t,n,r){return arguments.length>1?this.each((null==n?WW:"function"==typeof n?$W:BW)(t,n,null==r?"":r)):YW(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?qW:"function"==typeof n?VW:zW)(t,n)):this.node()[t]},classed:function(t,n){var r=GW(t+"");if(arguments.length<2){for(var e=ZW(this.node()),i=-1,u=r.length;++i<u;)if(!e.contains(r[i]))return!1;return!0}return this.each(("function"==typeof n?nB:n?QW:tB)(r,n))},text:function(t){return arguments.length?this.each(null==t?rB:("function"==typeof t?iB:eB)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?uB:("function"==typeof t?aB:oB)(t)):this.node().innerHTML},raise:function(){return this.each(sB)},lower:function(){return this.each(cB)},append:function(t){var n="function"==typeof t?t:EW(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var r="function"==typeof t?t:EW(t),e=null==n?fB:"function"==typeof n?n:TW(n);return this.select((function(){return this.insertBefore(r.apply(this,arguments),e.apply(this,arguments)||null)}))},remove:function(){return this.each(hB)},clone:function(t){return this.select(t?dB:lB)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,r){var e,i,u=mB(t+""),o=u.length;if(!(arguments.length<2)){for(a=n?gB:yB,null==r&&(r=!1),e=0;e<o;++e)this.each(a(u[e],n,r));return this}var a=this.node().__on;if(a)for(var s,c=0,f=a.length;c<f;++c)for(e=0,s=a[c];e<o;++e)if((i=u[e]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?LB:NB)(t,n))}};var TB={value:function(){}};function xB(){for(var t,n=0,r=arguments.length,e={};n<r;++n){if(!(t=arguments[n]+"")||t in e||/[\s.]/.test(t))throw new Error("illegal type: "+t);e[t]=[]}return new SB(e)}function SB(t){this._=t}function OB(t,n){return t.trim().split(/^|\s+/).map((function(t){var r="",e=t.indexOf(".");if(e>=0&&(r=t.slice(e+1),t=t.slice(0,e)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function IB(t,n){for(var r,e=0,i=t.length;e<i;++e)if((r=t[e]).name===n)return r.value}function RB(t,n,r){for(var e=0,i=t.length;e<i;++e)if(t[e].name===n){t[e]=TB,t=t.slice(0,e).concat(t.slice(e+1));break}return null!=r&&t.push({name:n,value:r}),t}SB.prototype=xB.prototype={constructor:SB,on:function(t,n){var r,e=this._,i=OB(t+"",e),u=-1,o=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++u<o;)if(r=(t=i[u]).type)e[r]=RB(e[r],t.name,n);else if(null==n)for(r in e)e[r]=RB(e[r],t.name,null);return this}for(;++u<o;)if((r=(t=i[u]).type)&&(r=IB(e[r],t.name)))return r},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new SB(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var r,e,i=new Array(r),u=0;u<r;++u)i[u]=arguments[u+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=0,r=(e=this._[t]).length;u<r;++u)e[u].value.apply(n,i)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var e=this._[t],i=0,u=e.length;i<u;++i)e[i].value.apply(n,r)}};var FB="http://www.w3.org/1999/xhtml",CB={svg:"http://www.w3.org/2000/svg",xhtml:FB,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function DB(t){var n=t+="",r=n.indexOf(":");return r>=0&&"xmlns"!==(n=t.slice(0,r))&&(t=t.slice(r+1)),CB.hasOwnProperty(n)?{space:CB[n],local:t}:t}function HB(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===FB&&n.documentElement.namespaceURI===FB?n.createElement(t):n.createElementNS(r,t)}}function jB(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function UB(t){var n=DB(t);return(n.local?jB:HB)(n)}function _B(){}function PB(t){return null==t?_B:function(){return this.querySelector(t)}}function WB(){return[]}function BB(t){return new Array(t.length)}function $B(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function YB(t,n,r,e,i,u){for(var o,a=0,s=n.length,c=u.length;a<c;++a)(o=n[a])?(o.__data__=u[a],e[a]=o):r[a]=new $B(t,u[a]);for(;a<s;++a)(o=n[a])&&(i[a]=o)}function qB(t,n,r,e,i,u,o){var a,s,c,f={},h=n.length,l=u.length,d=new Array(h);for(a=0;a<h;++a)(s=n[a])&&(d[a]=c="$"+o.call(s,s.__data__,a,n),c in f?i[a]=s:f[c]=s);for(a=0;a<l;++a)(s=f[c="$"+o.call(t,u[a],a,u)])?(e[a]=s,s.__data__=u[a],f[c]=null):r[a]=new $B(t,u[a]);for(a=0;a<h;++a)(s=n[a])&&f[d[a]]===s&&(i[a]=s)}function zB(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function VB(t){return function(){this.removeAttribute(t)}}function GB(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ZB(t,n){return function(){this.setAttribute(t,n)}}function XB(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function KB(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}function JB(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function QB(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function t$(t){return function(){this.style.removeProperty(t)}}function n$(t,n,r){return function(){this.style.setProperty(t,n,r)}}function r$(t,n,r){return function(){var e=n.apply(this,arguments);null==e?this.style.removeProperty(t):this.style.setProperty(t,e,r)}}function e$(t,n){return t.style.getPropertyValue(n)||QB(t).getComputedStyle(t,null).getPropertyValue(n)}function i$(t){return function(){delete this[t]}}function u$(t,n){return function(){this[t]=n}}function o$(t,n){return function(){var r=n.apply(this,arguments);null==r?delete this[t]:this[t]=r}}function a$(t){return t.trim().split(/^|\s+/)}function s$(t){return t.classList||new c$(t)}function c$(t){this._node=t,this._names=a$(t.getAttribute("class")||"")}function f$(t,n){for(var r=s$(t),e=-1,i=n.length;++e<i;)r.add(n[e])}function h$(t,n){for(var r=s$(t),e=-1,i=n.length;++e<i;)r.remove(n[e])}function l$(t){return function(){f$(this,t)}}function d$(t){return function(){h$(this,t)}}function v$(t,n){return function(){(n.apply(this,arguments)?f$:h$)(this,t)}}function p$(){this.textContent=""}function b$(t){return function(){this.textContent=t}}function w$(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function m$(){this.innerHTML=""}function y$(t){return function(){this.innerHTML=t}}function g$(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function M$(){this.nextSibling&&this.parentNode.appendChild(this)}function N$(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function L$(){return null}function k$(){var t=this.parentNode;t&&t.removeChild(this)}function E$(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function A$(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}$B.prototype={constructor:$B,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},c$.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var T$={},x$=null;function S$(t,n,r){return t=O$(t,n,r),function(n){var r=n.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||t.call(this,n)}}function O$(t,n,r){return function(e){var i=x$;x$=e;try{t.call(this,this.__data__,n,r)}finally{x$=i}}}function I$(t){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}}))}function R$(t){return function(){var n=this.__on;if(n){for(var r,e=0,i=-1,u=n.length;e<u;++e)r=n[e],t.type&&r.type!==t.type||r.name!==t.name?n[++i]=r:this.removeEventListener(r.type,r.listener,r.capture);++i?n.length=i:delete this.__on}}}function F$(t,n,r){var e=T$.hasOwnProperty(t.type)?S$:O$;return function(i,u,o){var a,s=this.__on,c=e(n,u,o);if(s)for(var f=0,h=s.length;f<h;++f)if((a=s[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=r),void(a.value=n);this.addEventListener(t.type,c,r),a={type:t.type,name:t.name,value:n,listener:c,capture:r},s?s.push(a):this.__on=[a]}}function C$(t,n,r,e){var i=x$;t.sourceEvent=x$,x$=t;try{return n.apply(r,e)}finally{x$=i}}function D$(t,n,r){var e=QB(t),i=e.CustomEvent;"function"==typeof i?i=new i(n,r):(i=e.document.createEvent("Event"),r?(i.initEvent(n,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function H$(t,n){return function(){return D$(this,t,n)}}function j$(t,n){return function(){return D$(this,t,n.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(T$={mouseenter:"mouseover",mouseleave:"mouseout"}));var U$=[null];function _$(t,n){this._groups=t,this._parents=n}function P$(t){return"string"==typeof t?new _$([[document.querySelector(t)]],[document.documentElement]):new _$([[t]],U$)}function W$(){for(var t,n=x$;t=n.sourceEvent;)n=t;return n}function B$(t,n){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var e=r.createSVGPoint();return e.x=n.clientX,e.y=n.clientY,[(e=e.matrixTransform(t.getScreenCTM().inverse())).x,e.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function $$(t){var n=W$();return n.changedTouches&&(n=n.changedTouches[0]),B$(t,n)}function Y$(t,n,r){arguments.length<3&&(r=n,n=W$().changedTouches);for(var e,i=0,u=n?n.length:0;i<u;++i)if((e=n[i]).identifier===r)return B$(t,e);return null}function q$(){x$.stopImmediatePropagation()}function z$(){x$.preventDefault(),x$.stopImmediatePropagation()}function V$(t){var n=t.document.documentElement,r=P$(t).on("dragstart.drag",z$,!0);"onselectstart"in n?r.on("selectstart.drag",z$,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function G$(t){return function(){return t}}function Z$(t,n,r,e,i,u,o,a,s,c){this.target=t,this.type=n,this.subject=r,this.identifier=e,this.active=i,this.x=u,this.y=o,this.dx=a,this.dy=s,this._=c}function X$(){return!x$.button}function K$(){return this.parentNode}function J$(t){return null==t?{x:x$.x,y:x$.y}:t}function Q$(){return"ontouchstart"in this}function tY(){var t,n,r,e,i=X$,u=K$,o=J$,a=Q$,s={},c=xB("start","drag","end"),f=0,h=0;function l(t){t.on("mousedown.drag",d).filter(a).on("touchstart.drag",b).on("touchmove.drag",w).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!e&&i.apply(this,arguments)){var o=y("mouse",u.apply(this,arguments),$$,this,arguments);o&&(P$(x$.view).on("mousemove.drag",v,!0).on("mouseup.drag",p,!0),V$(x$.view),q$(),r=!1,t=x$.clientX,n=x$.clientY,o("start"))}}function v(){if(z$(),!r){var e=x$.clientX-t,i=x$.clientY-n;r=e*e+i*i>h}s.mouse("drag")}function p(){P$(x$.view).on("mousemove.drag mouseup.drag",null),function(t,n){var r=t.document.documentElement,e=P$(t).on("dragstart.drag",null);n&&(e.on("click.drag",z$,!0),setTimeout((function(){e.on("click.drag",null)}),0)),"onselectstart"in r?e.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}(x$.view,r),z$(),s.mouse("end")}function b(){if(i.apply(this,arguments)){var t,n,r=x$.changedTouches,e=u.apply(this,arguments),o=r.length;for(t=0;t<o;++t)(n=y(r[t].identifier,e,Y$,this,arguments))&&(q$(),n("start"))}}function w(){var t,n,r=x$.changedTouches,e=r.length;for(t=0;t<e;++t)(n=s[r[t].identifier])&&(z$(),n("drag"))}function m(){var t,n,r=x$.changedTouches,i=r.length;for(e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),t=0;t<i;++t)(n=s[r[t].identifier])&&(q$(),n("end"))}function y(t,n,r,e,i){var u,a,h,d=r(n,t),v=c.copy();if(C$(new Z$(l,"beforestart",u,t,f,d[0],d[1],0,0,v),(function(){return null!=(x$.subject=u=o.apply(e,i))&&(a=u.x-d[0]||0,h=u.y-d[1]||0,!0)})))return function o(c){var p,b=d;switch(c){case"start":s[t]=o,p=f++;break;case"end":delete s[t],--f;case"drag":d=r(n,t),p=f}C$(new Z$(l,c,u,t,p,d[0]+a,d[1]+h,d[0]-b[0],d[1]-b[1],v),v.apply,v,[c,e,i])}}return l.filter=function(t){return arguments.length?(i="function"==typeof t?t:G$(!!t),l):i},l.container=function(t){return arguments.length?(u="function"==typeof t?t:G$(t),l):u},l.subject=function(t){return arguments.length?(o="function"==typeof t?t:G$(t),l):o},l.touchable=function(t){return arguments.length?(a="function"==typeof t?t:G$(!!t),l):a},l.on=function(){var t=c.on.apply(c,arguments);return t===c?l:t},l.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,l):Math.sqrt(h)},l}function nY(t){return function(){return t}}_$.prototype=function(){return new _$([[document.documentElement]],U$)}.prototype={constructor:_$,select:function(t){"function"!=typeof t&&(t=PB(t));for(var n=this._groups,r=n.length,e=new Array(r),i=0;i<r;++i)for(var u,o,a=n[i],s=a.length,c=e[i]=new Array(s),f=0;f<s;++f)(u=a[f])&&(o=t.call(u,u.__data__,f,a))&&("__data__"in u&&(o.__data__=u.__data__),c[f]=o);return new _$(e,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?WB:function(){return this.querySelectorAll(t)}}(t));for(var n=this._groups,r=n.length,e=[],i=[],u=0;u<r;++u)for(var o,a=n[u],s=a.length,c=0;c<s;++c)(o=a[c])&&(e.push(t.call(o,o.__data__,c,a)),i.push(o));return new _$(e,i)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var n=this._groups,r=n.length,e=new Array(r),i=0;i<r;++i)for(var u,o=n[i],a=o.length,s=e[i]=[],c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&s.push(u);return new _$(e,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var r=n?qB:YB,e=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var u=i.length,o=new Array(u),a=new Array(u),s=new Array(u),c=0;c<u;++c){var f=e[c],h=i[c],l=h.length,d=t.call(f,f&&f.__data__,c,e),v=d.length,p=a[c]=new Array(v),b=o[c]=new Array(v);r(f,h,p,b,s[c]=new Array(l),d,n);for(var w,m,y=0,g=0;y<v;++y)if(w=p[y]){for(y>=g&&(g=y+1);!(m=b[g])&&++g<v;);w._next=m||null}}return(o=new _$(o,e))._enter=a,o._exit=s,o},enter:function(){return new _$(this._enter||this._groups.map(BB),this._parents)},exit:function(){return new _$(this._exit||this._groups.map(BB),this._parents)},join:function(t,n,r){var e=this.enter(),i=this,u=this.exit();return e="function"==typeof t?t(e):e.append(t+""),null!=n&&(i=n(i)),null==r?u.remove():r(u),e&&i?e.merge(i).order():i},merge:function(t){for(var n=this._groups,r=t._groups,e=n.length,i=Math.min(e,r.length),u=new Array(e),o=0;o<i;++o)for(var a,s=n[o],c=r[o],f=s.length,h=u[o]=new Array(f),l=0;l<f;++l)(a=s[l]||c[l])&&(h[l]=a);for(;o<e;++o)u[o]=n[o];return new _$(u,this._parents)},order:function(){for(var t=this._groups,n=-1,r=t.length;++n<r;)for(var e,i=t[n],u=i.length-1,o=i[u];--u>=0;)(e=i[u])&&(o&&4^e.compareDocumentPosition(o)&&o.parentNode.insertBefore(e,o),o=e);return this},sort:function(t){function n(n,r){return n&&r?t(n.__data__,r.__data__):!n-!r}t||(t=zB);for(var r=this._groups,e=r.length,i=new Array(e),u=0;u<e;++u){for(var o,a=r[u],s=a.length,c=i[u]=new Array(s),f=0;f<s;++f)(o=a[f])&&(c[f]=o);c.sort(n)}return new _$(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var e=t[n],i=0,u=e.length;i<u;++i){var o=e[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,r=0,e=n.length;r<e;++r)for(var i,u=n[r],o=0,a=u.length;o<a;++o)(i=u[o])&&t.call(i,i.__data__,o,u);return this},attr:function(t,n){var r=DB(t);if(arguments.length<2){var e=this.node();return r.local?e.getAttributeNS(r.space,r.local):e.getAttribute(r)}return this.each((null==n?r.local?GB:VB:"function"==typeof n?r.local?JB:KB:r.local?XB:ZB)(r,n))},style:function(t,n,r){return arguments.length>1?this.each((null==n?t$:"function"==typeof n?r$:n$)(t,n,null==r?"":r)):e$(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?i$:"function"==typeof n?o$:u$)(t,n)):this.node()[t]},classed:function(t,n){var r=a$(t+"");if(arguments.length<2){for(var e=s$(this.node()),i=-1,u=r.length;++i<u;)if(!e.contains(r[i]))return!1;return!0}return this.each(("function"==typeof n?v$:n?l$:d$)(r,n))},text:function(t){return arguments.length?this.each(null==t?p$:("function"==typeof t?w$:b$)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?m$:("function"==typeof t?g$:y$)(t)):this.node().innerHTML},raise:function(){return this.each(M$)},lower:function(){return this.each(N$)},append:function(t){var n="function"==typeof t?t:UB(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var r="function"==typeof t?t:UB(t),e=null==n?L$:"function"==typeof n?n:PB(n);return this.select((function(){return this.insertBefore(r.apply(this,arguments),e.apply(this,arguments)||null)}))},remove:function(){return this.each(k$)},clone:function(t){return this.select(t?A$:E$)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,r){var e,i,u=I$(t+""),o=u.length;if(!(arguments.length<2)){for(a=n?F$:R$,null==r&&(r=!1),e=0;e<o;++e)this.each(a(u[e],n,r));return this}var a=this.node().__on;if(a)for(var s,c=0,f=a.length;c<f;++c)for(e=0,s=a[c];e<o;++e)if((i=u[e]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?j$:H$)(t,n))}},Z$.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var rY=Math.PI,eY=rY/2,iY=2*rY;function uY(t){return t.innerRadius}function oY(t){return t.outerRadius}function aY(t){return t.startAngle}function sY(t){return t.endAngle}function cY(t){return t&&t.padAngle}function fY(t){return t>=1?eY:t<=-1?-eY:Math.asin(t)}function hY(t,n,r,e,i,u,o,a){var s=r-t,c=e-n,f=o-i,h=a-u,l=(f*(n-u)-h*(t-i))/(h*s-f*c);return[t+l*s,n+l*c]}function lY(t,n,r,e,i,u,o){var a=t-r,s=n-e,c=(o?u:-u)/Math.sqrt(a*a+s*s),f=c*s,h=-c*a,l=t+f,d=n+h,v=r+f,p=e+h,b=(l+v)/2,w=(d+p)/2,m=v-l,y=p-d,g=m*m+y*y,M=i-u,N=l*p-v*d,L=(y<0?-1:1)*Math.sqrt(Math.max(0,M*M*g-N*N)),k=(N*y-m*L)/g,E=(-N*m-y*L)/g,A=(N*y+m*L)/g,T=(-N*m+y*L)/g,x=k-b,S=E-w,O=A-b,I=T-w;return x*x+S*S>O*O+I*I&&(k=A,E=T),{cx:k,cy:E,x01:-f,y01:-h,x11:k*(i/M-1),y11:E*(i/M-1)}}function dY(t){this._context=t}function vY(t){return new dY(t)}function pY(t){return t[0]}function bY(t){return t[1]}function wY(t,n,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function mY(t,n){this._context=t,this._k=(1-n)/6}function yY(t,n){this._context=t,this._alpha=n}dY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}},mY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:wY(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:wY(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},yY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var r=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:!function(t,n,r){var e=t._x1,i=t._y1,u=t._x2,o=t._y2;if(t._l01_a>1e-12){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);e=(e*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>1e-12){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);u=(u*c+t._x1*t._l23_2a-n*t._l12_2a)/f,o=(o*c+t._y1*t._l23_2a-r*t._l12_2a)/f}t._context.bezierCurveTo(e,i,u,o,t._x2,t._y2)}(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var gY=function t(n){function r(t){return n?new yY(t,n):new mY(t,0)}return r.alpha=function(n){return t(+n)},r}(.5);function MY(t){return t<0?-1:1}function NY(t,n,r){var e=t._x1-t._x0,i=n-t._x1,u=(t._y1-t._y0)/(e||i<0&&-0),o=(r-t._y1)/(i||e<0&&-0),a=(u*i+o*e)/(e+i);return(MY(u)+MY(o))*Math.min(Math.abs(u),Math.abs(o),.5*Math.abs(a))||0}function LY(t,n){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-n)/2:n}function kY(t,n,r){var e=t._x0,i=t._x1,u=t._y1,o=(i-e)/3;t._context.bezierCurveTo(e+o,t._y0+o*n,i-o,u-o*r,i,u)}function EY(t){this._context=t}function AY(t){this._context=t}EY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kY(this,this._t0,LY(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var r=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,kY(this,LY(this,r=NY(this,t,n)),r);break;default:kY(this,this._t0,r=NY(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=r}}},(function(t){this._context=new AY(t)}.prototype=Object.create(EY.prototype)).point=function(t,n){EY.prototype.point.call(this,n,t)},AY.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,r,e,i,u){this._context.bezierCurveTo(n,t,e,r,u,i)}};var TY={value:function(){}};function xY(){for(var t,n=0,r=arguments.length,e={};n<r;++n){if(!(t=arguments[n]+"")||t in e)throw new Error("illegal type: "+t);e[t]=[]}return new SY(e)}function SY(t){this._=t}function OY(t,n){return t.trim().split(/^|\s+/).map((function(t){var r="",e=t.indexOf(".");if(e>=0&&(r=t.slice(e+1),t=t.slice(0,e)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function IY(t,n){for(var r,e=0,i=t.length;e<i;++e)if((r=t[e]).name===n)return r.value}function RY(t,n,r){for(var e=0,i=t.length;e<i;++e)if(t[e].name===n){t[e]=TY,t=t.slice(0,e).concat(t.slice(e+1));break}return null!=r&&t.push({name:n,value:r}),t}SY.prototype=xY.prototype={constructor:SY,on:function(t,n){var r,e=this._,i=OY(t+"",e),u=-1,o=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++u<o;)if(r=(t=i[u]).type)e[r]=RY(e[r],t.name,n);else if(null==n)for(r in e)e[r]=RY(e[r],t.name,null);return this}for(;++u<o;)if((r=(t=i[u]).type)&&(r=IY(e[r],t.name)))return r},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new SY(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var r,e,i=new Array(r),u=0;u<r;++u)i[u]=arguments[u+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=0,r=(e=this._[t]).length;u<r;++u)e[u].value.apply(n,i)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var e=this._[t],i=0,u=e.length;i<u;++i)e[i].value.apply(n,r)}};var FY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CY=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},DY=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),HY=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},jY=function t(n,r,e){null===n&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,r);if(void 0===i){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,r,e)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(e):void 0},UY=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)},_Y=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n},PY=function(){function t(n){var r=n.x,e=void 0===r?0:r,i=n.y,u=void 0===i?0:i,o=n.nx,a=n.ny,s=n.dy,c=void 0===s?0:s,f=n.dx,h=void 0===f?0:f,l=n.color,d=void 0===l?"grey":l,v=n.data,p=n.type,b=n.subject,w=n.connector,m=n.note,y=n.disable,g=n.id,M=n.className;CY(this,t),this._dx=void 0!==o?o-e:h,this._dy=void 0!==a?a-u:c,this._x=e,this._y=u,this._color=d,this.id=g,this._className=M||"",this._type=p||"",this.data=v,this.note=m||{},this.connector=w||{},this.subject=b||{},this.disable=y||[]}return DY(t,[{key:"updatePosition",value:function(){this.type.setPosition&&(this.type.setPosition(),this.type.subject&&0!==this.type.subject.selectAll(":not(.handle)").nodes().length&&this.type.redrawSubject())}},{key:"clearComponents",value:function(){this.type.clearComponents&&this.type.clearComponents()}},{key:"updateOffset",value:function(){this.type.setOffset&&(this.type.setOffset(),0!==this.type.connector.selectAll(":not(.handle)").nodes().length&&this.type.redrawConnector(),this.type.redrawNote())}},{key:"className",get:function(){return this._className},set:function(t){this._className=t,this.type.setClassName&&this.type.setClassName()}},{key:"type",get:function(){return this._type},set:function(t){this._type=t,this.clearComponents()}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this.updatePosition()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this.updatePosition()}},{key:"color",get:function(){return this._color},set:function(t){this._color=t,this.updatePosition()}},{key:"dx",get:function(){return this._dx},set:function(t){this._dx=t,this.updateOffset()}},{key:"dy",get:function(){return this._dy},set:function(t){this._dy=t,this.updateOffset()}},{key:"nx",set:function(t){this._dx=t-this._x,this.updateOffset()}},{key:"ny",set:function(t){this._dy=t-this._y,this.updateOffset()}},{key:"offset",get:function(){return{x:this._dx,y:this._dy}},set:function(t){var n=t.y;this._dx=t.x,this._dy=n,this.updateOffset()}},{key:"position",get:function(){return{x:this._x,y:this._y}},set:function(t){var n=t.y;this._x=t.x,this._y=n,this.updatePosition()}},{key:"translation",get:function(){return{x:this._x+this._dx,y:this._y+this._dy}}},{key:"json",get:function(){var t={x:this._x,y:this._y,dx:this._dx,dy:this._dy};return this.data&&Object.keys(this.data).length>0&&(t.data=this.data),this.type&&(t.type=this.type),this._className&&(t.className=this._className),Object.keys(this.connector).length>0&&(t.connector=this.connector),Object.keys(this.subject).length>0&&(t.subject=this.subject),Object.keys(this.note).length>0&&(t.note=this.note),t}}]),t}(),WY=function(){function t(n){var r=n.annotations,e=n.accessors,i=n.accessorsInverse;CY(this,t),this.accessors=e,this.accessorsInverse=i,this.annotations=r}return DY(t,[{key:"clearTypes",value:function(t){this.annotations.forEach((function(n){n.type=void 0,n.subject=t&&t.subject||n.subject,n.connector=t&&t.connector||n.connector,n.note=t&&t.note||n.note}))}},{key:"setPositionWithAccessors",value:function(){var t=this;this.annotations.forEach((function(n){n.type.setPositionWithAccessors(t.accessors)}))}},{key:"editMode",value:function(t){this.annotations.forEach((function(n){n.type&&(n.type.editMode=t,n.type.updateEditMode())}))}},{key:"updateDisable",value:function(t){this.annotations.forEach((function(n){n.disable=t,n.type&&t.forEach((function(t){n.type[t]&&(n.type[t].remove&&n.type[t].remove(),n.type[t]=void 0)}))}))}},{key:"updateTextWrap",value:function(t){this.annotations.forEach((function(n){n.type&&n.type.updateTextWrap&&n.type.updateTextWrap(t)}))}},{key:"updateText",value:function(){this.annotations.forEach((function(t){t.type&&t.type.drawText&&t.type.drawText()}))}},{key:"updateNotePadding",value:function(t){this.annotations.forEach((function(n){n.type&&(n.type.notePadding=t)}))}},{key:"json",get:function(){var t=this;return this.annotations.map((function(n){var r=n.json;return t.accessorsInverse&&n.data&&(r.data={},Object.keys(t.accessorsInverse).forEach((function(e){r.data[e]=t.accessorsInverse[e]({x:n.x,y:n.y})}))),r}))}},{key:"noteNodes",get:function(){return this.annotations.map((function(t){return HY({},t.type.getNoteBBoxOffset(),{positionX:t.x,positionY:t.y})}))}}]),t}(),BY=function(t,n){return"dynamic"!==t&&"left"!==t&&"right"!==t||(t=n<0?"top":"bottom"),t},$Y=function(t,n){return"dynamic"!==t&&"top"!==t&&"bottom"!==t||(t=n<0?"right":"left"),t},YY=["topBottom","top","bottom"],qY=["leftRight","left","right"],zY=function(t){var n=t.data,r=t.curve,e=void 0===r?vY:r,i=t.canvasContext,u=t.className,o=t.classID,a=function(){var t=pY,n=bY,r=nY(!0),e=null,i=vY,u=null;function o(o){var a,s,c,f=o.length,h=!1;for(null==e&&(u=i(c=Kt())),a=0;a<=f;++a)!(a<f&&r(s=o[a],a,o))===h&&((h=!h)?u.lineStart():u.lineEnd()),h&&u.point(+t(s,a,o),+n(s,a,o));if(c)return u=null,c+""||null}return o.x=function(n){return arguments.length?(t="function"==typeof n?n:nY(+n),o):t},o.y=function(t){return arguments.length?(n="function"==typeof t?t:nY(+t),o):n},o.defined=function(t){return arguments.length?(r="function"==typeof t?t:nY(!!t),o):r},o.curve=function(t){return arguments.length?(i=t,null!=e&&(u=i(e)),o):i},o.context=function(t){return arguments.length?(null==t?e=u=null:u=i(e=t),o):e},o}().curve(e),s={type:"path",className:u,classID:o,data:n};return i?(a.context(i),s.pathMethods=a):s.attrs={d:a(n)},s},VY=function(t){var n=t.data,r=t.canvasContext,e={type:"path",className:t.className,classID:t.classID,data:n},i=function(){var t=uY,n=oY,r=nY(0),e=null,i=aY,u=sY,o=cY,a=null;function s(){var s,c,f=+t.apply(this,arguments),h=+n.apply(this,arguments),l=i.apply(this,arguments)-eY,d=u.apply(this,arguments)-eY,v=Math.abs(d-l),p=d>l;if(a||(a=s=Kt()),h<f&&(c=h,h=f,f=c),h>1e-12)if(v>iY-1e-12)a.moveTo(h*Math.cos(l),h*Math.sin(l)),a.arc(0,0,h,l,d,!p),f>1e-12&&(a.moveTo(f*Math.cos(d),f*Math.sin(d)),a.arc(0,0,f,d,l,p));else{var b,w,m=l,y=d,g=l,M=d,N=v,L=v,k=o.apply(this,arguments)/2,E=k>1e-12&&(e?+e.apply(this,arguments):Math.sqrt(f*f+h*h)),A=Math.min(Math.abs(h-f)/2,+r.apply(this,arguments)),T=A,x=A;if(E>1e-12){var S=fY(E/f*Math.sin(k)),O=fY(E/h*Math.sin(k));(N-=2*S)>1e-12?(g+=S*=p?1:-1,M-=S):(N=0,g=M=(l+d)/2),(L-=2*O)>1e-12?(m+=O*=p?1:-1,y-=O):(L=0,m=y=(l+d)/2)}var I=h*Math.cos(m),R=h*Math.sin(m),F=f*Math.cos(M),C=f*Math.sin(M);if(A>1e-12){var D=h*Math.cos(y),H=h*Math.sin(y),j=f*Math.cos(g),U=f*Math.sin(g);if(v<rY){var _=N>1e-12?hY(I,R,j,U,D,H,F,C):[F,C],P=I-_[0],W=R-_[1],B=D-_[0],$=H-_[1],Y=1/Math.sin(Math.acos((P*B+W*$)/(Math.sqrt(P*P+W*W)*Math.sqrt(B*B+$*$)))/2),q=Math.sqrt(_[0]*_[0]+_[1]*_[1]);T=Math.min(A,(f-q)/(Y-1)),x=Math.min(A,(h-q)/(Y+1))}}L>1e-12?x>1e-12?(b=lY(j,U,I,R,h,x,p),w=lY(D,H,F,C,h,x,p),a.moveTo(b.cx+b.x01,b.cy+b.y01),x<A?a.arc(b.cx,b.cy,x,Math.atan2(b.y01,b.x01),Math.atan2(w.y01,w.x01),!p):(a.arc(b.cx,b.cy,x,Math.atan2(b.y01,b.x01),Math.atan2(b.y11,b.x11),!p),a.arc(0,0,h,Math.atan2(b.cy+b.y11,b.cx+b.x11),Math.atan2(w.cy+w.y11,w.cx+w.x11),!p),a.arc(w.cx,w.cy,x,Math.atan2(w.y11,w.x11),Math.atan2(w.y01,w.x01),!p))):(a.moveTo(I,R),a.arc(0,0,h,m,y,!p)):a.moveTo(I,R),f>1e-12&&N>1e-12?T>1e-12?(b=lY(F,C,D,H,f,-T,p),w=lY(I,R,j,U,f,-T,p),a.lineTo(b.cx+b.x01,b.cy+b.y01),T<A?a.arc(b.cx,b.cy,T,Math.atan2(b.y01,b.x01),Math.atan2(w.y01,w.x01),!p):(a.arc(b.cx,b.cy,T,Math.atan2(b.y01,b.x01),Math.atan2(b.y11,b.x11),!p),a.arc(0,0,f,Math.atan2(b.cy+b.y11,b.cx+b.x11),Math.atan2(w.cy+w.y11,w.cx+w.x11),p),a.arc(w.cx,w.cy,T,Math.atan2(w.y11,w.x11),Math.atan2(w.y01,w.x01),!p))):a.arc(0,0,f,M,g,p):a.lineTo(F,C)}else a.moveTo(0,0);if(a.closePath(),s)return a=null,s+""||null}return s.centroid=function(){var r=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,e=(+i.apply(this,arguments)+ +u.apply(this,arguments))/2-rY/2;return[Math.cos(e)*r,Math.sin(e)*r]},s.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:nY(+n),s):t},s.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:nY(+t),s):n},s.cornerRadius=function(t){return arguments.length?(r="function"==typeof t?t:nY(+t),s):r},s.padRadius=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:nY(+t),s):e},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:nY(+t),s):i},s.endAngle=function(t){return arguments.length?(u="function"==typeof t?t:nY(+t),s):u},s.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:nY(+t),s):o},s.context=function(t){return arguments.length?(a=null==t?null:t,s):a},s}().innerRadius(n.innerRadius||0).outerRadius(n.outerRadius||n.radius||2).startAngle(n.startAngle||0).endAngle(n.endAngle||2*Math.PI);return r?(i.context(r),e.pathMethods=lineGen):e.attrs={d:i()},e},GY=function(t){var n=t.align,r=t.x,e=void 0===r?0:r,i=t.y,u=void 0===i?0:i,o=t.bbox;return"top"===(n=BY(n,t.offset.y))?u-=o.height:"middle"===n&&(u-=o.height/2),{components:[zY({data:[[e,u],[e,u+o.height]],className:"note-line"})]}},ZY=function(t){var n=t.align,r=t.x,e=void 0===r?0:r,i=t.y,u=void 0===i?0:i,o=t.bbox;return"right"===(n=$Y(n,t.offset.x))?e-=o.width:"middle"===n&&(e-=o.width/2),{components:[zY({data:[[e,u],[e+o.width,u]],className:"note-line"})]}},XY=function(t){var n=t.subjectType,r=t.type.annotation,e=r.position,i=r.x-e.x,u=i+r.dx,o=r.y-e.y,a=o+r.dy,s=r.subject;if("circle"===n&&(s.outerRadius||s.radius)){var c=Math.sqrt((i-u)*(i-u)+(o-a)*(o-a)),f=Math.asin(-a/c),h=s.outerRadius||s.radius+(s.radiusPadding||0);i=Math.abs(Math.cos(f)*h)*(u<0?-1:1),o=Math.abs(Math.sin(f)*h)*(a<0?-1:1)}if("rect"===n){var l=s.width,d=s.height;(l>0&&r.dx>0||l<0&&r.dx<0)&&(i=Math.abs(l)>Math.abs(r.dx)?l/2:l),(d>0&&r.dy>0||d<0&&r.dy<0)&&(o=Math.abs(d)>Math.abs(r.dy)?d/2:d),i===l/2&&o===d/2&&(i=u,o=a)}return[[i,o],[u,a]]},KY=function(t){var n=XY(t);return{components:[zY({data:n,className:"connector"})]}},JY=function(t){var n=t.subjectType,r=t.type.annotation,e=r.position,i=r.x-e.x,u=i+r.dx,o=r.y-e.y,a=o+r.dy,s=r.subject;if("rect"===n){var c=s.width,f=s.height;(c>0&&r.dx>0||c<0&&r.dx<0)&&(i=Math.abs(c)>Math.abs(r.dx)?c/2:c),(f>0&&r.dy>0||f<0&&r.dy<0)&&(o=Math.abs(f)>Math.abs(r.dy)?f/2:f),i===c/2&&o===f/2&&(i=u,o=a)}var h=[[i,o],[u,a]],l=a-o,d=u-i,v=u,p=a,b=a<o&&u>i||u<i&&a>o?-1:1;if(Math.abs(d)<Math.abs(l)?(v=u,p=o+d*b):(p=a,v=i+l*b),"circle"===n&&(s.outerRadius||s.radius)){var w=(s.outerRadius||s.radius)+(s.radiusPadding||0),m=w/Math.sqrt(2);if(Math.abs(d)>m&&Math.abs(l)>m)h=[[i=m*(u<0?-1:1),o=m*(a<0?-1:1)],[v,p],[u,a]];else if(Math.abs(d)>Math.abs(l)){var y=Math.asin(-a/w);h=[[i=Math.abs(Math.cos(y)*w)*(u<0?-1:1),a],[u,a]]}else{var g=Math.acos(u/w);h=[[u,o=Math.abs(Math.sin(g)*w)*(a<0?-1:1)],[u,a]]}}else h=[[i,o],[v,p],[u,a]];return{components:[zY({data:h,className:"connector"})]}},QY=function(t){var n=t.type,r=t.connectorData,e=t.subjectType;r||(r={}),r.points&&"number"!=typeof r.points||(r.points=tq(n.annotation.offset,r.points)),r.curve||(r.curve=gY);var i=[];if(n.editMode){var u=r.points.map((function(t,n){return HY({},function(t){var n=t.cx,r=t.cy;return{move:{x:void 0===n?0:n,y:void 0===r?0:r}}}({cx:t[0],cy:t[1]}),{index:n})})),o=function(t){r.points[t][0]+=pB.dx,r.points[t][1]+=pB.dy,n.redrawConnector()};i=n.mapHandles(u.map((function(t){return HY({},t.move,{drag:o.bind(n,t.index)})})))}var a=XY({type:n,subjectType:e});return a=[a[0]].concat(function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}return Array.from(t)}(r.points),[a[1]]),{components:[zY({data:a,curve:r.curve,className:"connector"})],handles:i}},tq=function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r={x:t.x/(n+1),y:t.y/(n+1)},e=[],i=1;i<=n;i++)e.push([r.x*i+i%2*20,r.y*i-i%2*20]);return e},nq=function(t){var n=t.annotation,r=t.start,e=t.end,i=t.scale,u=n.position;r=r?[-e[0]+r[0],-e[1]+r[1]]:[n.dx,n.dy],e||(e=[n.x-u.x,n.y-u.y]);var o=e[0],a=e[1],s=r[0],c=10*(void 0===i?1:i),f=16/180*Math.PI,h=Math.atan(r[1]/s);s<0&&(h+=Math.PI);var l=[[o,a],[Math.cos(h+f)*c+o,Math.sin(h+f)*c+a],[Math.cos(h-f)*c+o,Math.sin(h-f)*c+a],[o,a]];return{components:[zY({data:l,className:"connector-end connector-arrow",classID:"connector-end"})]}},rq=function(t){var n=t.line,r=t.scale,e=VY({className:"connector-end connector-dot",classID:"connector-end",data:{radius:3*Math.sqrt(void 0===r?1:r)}});return e.attrs.transform="translate("+n.data[0][0]+", "+n.data[0][1]+")",{components:[e]}},eq=function(t){var n=t.subjectData,r=t.type;n.radius||n.outerRadius||(n.radius=20);var e=[],i=VY({data:n,className:"subject"});if(r.editMode){var u=function(t){var n=t.cx,r=void 0===n?0:n,e=t.cy,i=void 0===e?0:e,u=t.r1,o=t.r2,a=t.padding,s={move:{x:r,y:i}};return void 0!==u&&(s.r1={x:r+u/Math.sqrt(2),y:i+u/Math.sqrt(2)}),void 0!==o&&(s.r2={x:r+o/Math.sqrt(2),y:i+o/Math.sqrt(2)}),void 0!==a&&(s.padding={x:r+u+a,y:i}),s}({r1:i.data.outerRadius||i.data.radius,r2:i.data.innerRadius,padding:n.radiusPadding}),o=function(t){var e=n[t]+pB.dx*Math.sqrt(2);n[t]=e,r.redrawSubject(),r.redrawConnector()},a=[HY({},u.r1,{drag:o.bind(r,void 0!==n.outerRadius?"outerRadius":"radius")})];n.innerRadius&&a.push(HY({},u.r2,{drag:o.bind(r,"innerRadius")})),e=r.mapHandles(a)}return i.attrs["fill-opacity"]=0,{components:[i],handles:e}},iq=function(t){var n=t.subjectData,r=t.type;n.width||(n.width=100),n.height||(n.height=100);var e=[],i=n.width,u=n.height,o=zY({data:[[0,0],[i,0],[i,u],[0,u],[0,0]],className:"subject"});if(r.editMode){var a=[{x:i,y:u/2,drag:function(){n.width=pB.x,r.redrawSubject(),r.redrawConnector()}.bind(r)},{x:i/2,y:u,drag:function(){n.height=pB.y,r.redrawSubject(),r.redrawConnector()}.bind(r)}];e=r.mapHandles(a)}return o.attrs["fill-opacity"]=.1,{components:[o],handles:e}},uq=function(t){var n=t.subjectData,r=t.type.annotation.position;return{components:[zY({data:[[(void 0!==n.x1?n.x1:r.x)-r.x,(void 0!==n.y1?n.y1:r.y)-r.y],[(void 0!==n.x2?n.x2:r.x)-r.x,(void 0!==n.y2?n.y2:r.y)-r.y]],className:"subject"})]}},oq=function(t){var n=t.subjectData,r=void 0===n?{}:n,e=t.type,i=void 0===e?{}:e,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.typeSettings&&i.typeSettings.subject;r.radius||(r.radius=o&&o.radius?o.radius:14),r.x||o&&o.x&&(r.x=o.x),r.y||o&&o.y&&(r.y=o.y);var a=[],s=[],c=r.radius,f=.7*c,h=0,l=0,d=Math.sqrt(2)*c,v={xleftcorner:-c,xrightcorner:c,ytopcorner:-c,ybottomcorner:c,xleft:-d,xright:d,ytop:-d,ybottom:d};r.x&&!r.y?h=v["x"+r.x]:r.y&&!r.x?l=v["y"+r.y]:r.x&&r.y&&(h=v["x"+r.x+"corner"],l=v["y"+r.y+"corner"]);var p="translate("+h+", "+l+")",b=VY({className:"subject",data:{radius:c}});b.attrs.transform=p,b.attrs.fill=u.color,b.attrs["stroke-linecap"]="round",b.attrs["stroke-width"]="3px";var w=VY({className:"subject-ring",data:{outerRadius:c,innerRadius:f}});w.attrs.transform=p,w.attrs["stroke-width"]="3px",w.attrs.fill="white";var m=void 0;if(h&&l||!h&&!l)m=zY({className:"subject-pointer",data:[[0,0],[h||0,0],[0,l||0],[0,0]]});else if(h||l){var y=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t&&t/Math.sqrt(2)/Math.sqrt(2)||n*c/Math.sqrt(2)};m=zY({className:"subject-pointer",data:[[0,0],[y(h),y(l)],[y(h,-1),y(l,-1)],[0,0]]})}if(m&&(m.attrs.fill=u.color,m.attrs["stroke-linecap"]="round",m.attrs["stroke-width"]="3px",s.push(m)),i.editMode){var g=function(){r.x=pB.x<2*-c?"left":pB.x>2*c?"right":void 0,r.y=pB.y<2*-c?"top":pB.y>2*c?"bottom":void 0,i.redrawSubject()},M={x:2*h,y:2*l,drag:g.bind(i)};M.x||M.y||(M.y=-c),a=i.mapHandles([M])}var N=void 0;return r.text&&(N={type:"text",className:"badge-text",attrs:{fill:"white",stroke:"none","font-size":".7em",text:r.text,"text-anchor":"middle",dy:".25em",x:h,y:l}}),s.push(b),s.push(w),s.push(N),{components:s,handles:a}},aq=function(){function t(n){var r=n.a,e=n.annotation,i=n.editMode,u=n.dispatcher,o=n.notePadding,a=n.accessors;if(CY(this,t),this.a=r,this.note=-1===e.disable.indexOf("note")&&r.select("g.annotation-note"),this.noteContent=this.note&&r.select("g.annotation-note-content"),this.connector=-1===e.disable.indexOf("connector")&&r.select("g.annotation-connector"),this.subject=-1===e.disable.indexOf("subject")&&r.select("g.annotation-subject"),this.dispatcher=u,u){var s=yq.bind(null,u,e);s({component:this.note,name:"note"}),s({component:this.connector,name:"connector"}),s({component:this.subject,name:"subject"})}this.annotation=e,this.editMode=e.editMode||i,this.notePadding=void 0!==o?o:3,this.offsetCornerX=0,this.offsetCornerY=0,a&&e.data&&this.init(a)}return DY(t,[{key:"init",value:function(t){this.annotation.x||this.mapX(t),this.annotation.y||this.mapY(t)}},{key:"mapY",value:function(t){t.y&&(this.annotation.y=t.y(this.annotation.data))}},{key:"mapX",value:function(t){t.x&&(this.annotation.x=t.x(this.annotation.data))}},{key:"updateEditMode",value:function(){this.a.selectAll("circle.handle").remove()}},{key:"drawOnSVG",value:function(t,n){var r=this;Array.isArray(n)||(n=[n]),n.filter((function(t){return t})).forEach((function(n){var e,i,u,o,a,s,c=n.type,f=n.className,h=n.attrs,l=n.classID;if("handle"===c)u=(e={group:t,r:h&&h.r,handles:n.handles}).handles,a=void 0===(o=e.r)?10:o,(s=(i=e.group).selectAll("circle.handle").data(u)).enter().append("circle").attr("class","handle").attr("fill","grey").attr("fill-opacity",.1).attr("cursor","move").attr("stroke-dasharray",5).attr("stroke","grey").call(tY().container(AB("g.annotations").node()).on("start",(function(t){return t.start&&t.start(t)})).on("drag",(function(t){return t.drag&&t.drag(t)})).on("end",(function(t){return t.end&&t.end(t)}))),i.selectAll("circle.handle").attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).attr("r",(function(t){return t.r||a})).attr("class",(function(t){return"handle "+(t.className||"")})),s.exit().remove();else{mq(t,[r.annotation],c,f,l);for(var d=t.select(c+"."+(l||f)),v=Object.keys(h),p=[],b=d.node().attributes,w=b.length-1;w>=0;w--){var m=b[w].name;-1===v.indexOf(m)&&"class"!==m&&p.push(m)}v.forEach((function(t){"text"===t?d.text(h[t]):d.attr(t,h[t])})),p.forEach((function(t){return d.attr(t,null)}))}}))}},{key:"getNoteBBox",value:function(){return Mq(this.note,".annotation-note-content text")}},{key:"getNoteBBoxOffset",value:function(){var t=Mq(this.note,".annotation-note-content"),n=this.noteContent.attr("transform").split(/\(|\,|\)/g);return t.offsetCornerX=parseFloat(n[1])+this.annotation.dx,t.offsetCornerY=parseFloat(n[2])+this.annotation.dy,t.offsetX=this.annotation.dx,t.offsetY=this.annotation.dy,t}},{key:"drawSubject",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.annotation.subject,e=n.type,i={type:this,subjectData:r},u={};"circle"===e?u=eq(i):"rect"===e?u=iq(i):"threshold"===e?u=uq(i):"badge"===e&&(u=oq(i,this.annotation));var o=u,a=o.components,s=void 0===a?[]:a,c=o.handles,f=void 0===c?[]:c;return s.forEach((function(n){n&&n.attrs&&!n.attrs.stroke&&(n.attrs.stroke=t.annotation.color)})),this.editMode&&(f=f.concat(this.mapHandles([{drag:this.dragSubject.bind(this)}])),s.push({type:"handle",handles:f})),s}},{key:"drawConnector",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.annotation.connector,e=r.type||n.type,i={type:this,connectorData:r};i.subjectType=this.typeSettings&&this.typeSettings.subject&&this.typeSettings.subject.type;var u="curve"===e?QY(i):"elbow"===e?JY(i):KY(i),o=u.components,a=void 0===o?[]:o,s=u.handles,c=void 0===s?[]:s,f=a[0];f&&(f.attrs.stroke=this.annotation.color,f.attrs.fill="none");var h=r.end||n.end,l={};if("arrow"===h){var d=f.data[1],v=f.data[0],p=Math.sqrt(Math.pow(d[0]-v[0],2)+Math.pow(d[1]-v[1],2));p<5&&f.data[2]&&(d=f.data[2]),l=nq({annotation:this.annotation,start:d,end:v,scale:r.endScale})}else"dot"===h?l=rq({line:f,scale:r.endScale}):h&&"none"!==h||this.connector&&this.connector.select(".connector-end").remove();return l.components&&(l.components.forEach((function(n){n.attrs.fill=t.annotation.color,n.attrs.stroke=t.annotation.color})),a=a.concat(l.components)),this.editMode&&0!==c.length&&a.push({type:"handle",handles:c}),a}},{key:"drawNote",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.annotation.note,e=r.align||n.align||"dynamic",i={bbox:n.bbox,align:e,offset:this.annotation.offset},u=r.lineType||n.lineType,o={};"vertical"===u?o=GY(i):"horizontal"===u&&(o=ZY(i));var a=o,s=a.components,c=void 0===s?[]:s,f=a.handles,h=void 0===f?[]:f;if(c.forEach((function(n){n.attrs.stroke=t.annotation.color})),this.editMode){h=this.mapHandles([{x:0,y:0,drag:this.dragNote.bind(this)}]),c.push({type:"handle",handles:h});var l=this.dragNote.bind(this),d=this.dragstarted.bind(this),v=this.dragended.bind(this);this.note.call(tY().container(AB("g.annotations").node()).on("start",(function(t){return d(t)})).on("drag",(function(t){return l(t)})).on("end",(function(t){return v(t)})))}else this.note.on("mousedown.drag",null);return c}},{key:"drawNoteContent",value:function(t){var n=this.annotation.note,r=n.orientation||t.orientation||"topBottom",e=n.lineType||t.lineType;"vertical"===e?r="leftRight":"horizontal"===e&&(r="topBottom");var i=function(t){var n=t.padding,r=void 0===n?0:n,e=t.bbox,i=void 0===e?{x:0,y:0,width:0,height:0}:e,u=t.align,o=t.orientation,a=t.offset,s=void 0===a?{x:0,y:0}:a,c=-i.x,f=0;return-1!==YY.indexOf(o)?(u=$Y(u,s.x),s.y<0&&"topBottom"===o||"top"===o?f-=i.height+r:f+=r,"middle"===u?c-=i.width/2:"right"===u&&(c-=i.width)):-1!==qY.indexOf(o)&&(u=BY(u,s.y),s.x<0&&"leftRight"===o||"left"===o?c-=i.width+r:c+=r,"middle"===u?f-=i.height/2:"top"===u&&(f-=i.height)),{x:c,y:f}}({padding:void 0!==n.padding?n.padding:this.notePadding,bbox:t.bbox,offset:this.annotation.offset,orientation:r,align:n.align||t.align||"dynamic"}),u=i.x,o=i.y;return this.offsetCornerX=u+this.annotation.dx,this.offsetCornerY=o+this.annotation.dy,this.note&&this.noteContent.attr("transform","translate("+u+", "+o+")"),[]}},{key:"drawOnScreen",value:function(t,n){return this.drawOnSVG(t,n)}},{key:"redrawSubject",value:function(){this.subject&&this.drawOnScreen(this.subject,this.drawSubject())}},{key:"redrawConnector",value:function(){this.connector&&this.drawOnScreen(this.connector,this.drawConnector())}},{key:"redrawNote",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNoteBBox();this.noteContent&&this.drawOnScreen(this.noteContent,this.drawNoteContent({bbox:t})),this.note&&this.drawOnScreen(this.note,this.drawNote({bbox:t}))}},{key:"setPosition",value:function(){var t=this.annotation.position;this.a.attr("transform","translate("+t.x+", "+t.y+")")}},{key:"clearComponents",value:function(){this.subject&&this.subject.select("*").remove(),this.connector&&this.connector.select("*").remove()}},{key:"setOffset",value:function(){if(this.note){var t=this.annotation.offset;this.note.attr("transform","translate("+t.x+", "+t.y+")")}}},{key:"setPositionWithAccessors",value:function(t){t&&this.annotation.data&&(this.mapX(t),this.mapY(t)),this.setPosition()}},{key:"setClassName",value:function(){this.a.attr("class","annotation "+(this.className&&this.className())+" "+(this.editMode?"editable":"")+" "+(this.annotation.className||""))}},{key:"draw",value:function(){this.setClassName(),this.setPosition(),this.setOffset(),this.redrawSubject(),this.redrawConnector(),this.redrawNote()}},{key:"dragstarted",value:function(){pB.sourceEvent.stopPropagation(),this.dispatcher&&this.dispatcher.call("dragstart",this.a,this.annotation),this.a.classed("dragging",!0),this.a.selectAll("circle.handle").style("pointer-events","none")}},{key:"dragended",value:function(){this.dispatcher&&this.dispatcher.call("dragend",this.a,this.annotation),this.a.classed("dragging",!1),this.a.selectAll("circle.handle").style("pointer-events","all")}},{key:"dragSubject",value:function(){var t=this.annotation.position;t.x+=pB.dx,t.y+=pB.dy,this.annotation.position=t}},{key:"dragNote",value:function(){var t=this.annotation.offset;t.x+=pB.dx,t.y+=pB.dy,this.annotation.offset=t}},{key:"mapHandles",value:function(t){var n=this;return t.map((function(t){return HY({},t,{start:n.dragstarted.bind(n),end:n.dragended.bind(n)})}))}}]),t}(),sq=function(t,n,r){return function(t){function e(t){CY(this,e);var r=_Y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.typeSettings=n,n.disable&&n.disable.forEach((function(t){r[t]&&r[t].remove(),r[t]=void 0,"note"===t&&(r.noteContent=void 0)})),r}return UY(e,t),DY(e,[{key:"className",value:function(){return""+(n.className||jY(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"className",this)&&jY(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"className",this).call(this)||"")}},{key:"drawSubject",value:function(t){return this.typeSettings.subject=HY({},n.subject,this.typeSettings.subject),jY(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"drawSubject",this).call(this,HY({},t,this.typeSettings.subject))}},{key:"drawConnector",value:function(t){return this.typeSettings.connector=HY({},n.connector,this.typeSettings.connector),jY(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"drawConnector",this).call(this,HY({},t,n.connector,this.typeSettings.connector))}},{key:"drawNote",value:function(t){return this.typeSettings.note=HY({},n.note,this.typeSettings.note),jY(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"drawNote",this).call(this,HY({},t,n.note,this.typeSettings.note))}},{key:"drawNoteContent",value:function(t){return jY(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"drawNoteContent",this).call(this,HY({},t,n.note,this.typeSettings.note))}}],[{key:"init",value:function(t,n){return jY(e.__proto__||Object.getPrototypeOf(e),"init",this).call(this,t,n),r&&(t=r(t,n)),t}}]),e}(t)},cq=function(t){function n(t){CY(this,n);var r=_Y(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.textWrap=t.textWrap||120,r.drawText(),r}return UY(n,t),DY(n,[{key:"updateTextWrap",value:function(t){this.textWrap=t,this.drawText()}},{key:"drawText",value:function(){if(this.note){mq(this.note,[this.annotation],"g","annotation-note-content");var t=this.note.select("g.annotation-note-content");mq(t,[this.annotation],"rect","annotation-note-bg"),mq(t,[this.annotation],"text","annotation-note-label"),mq(t,[this.annotation],"text","annotation-note-title");var n={height:0},r=this.a.select("text.annotation-note-label"),e=this.annotation.note&&this.annotation.note.wrap||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrap||this.textWrap,i=this.annotation.note&&this.annotation.note.wrapSplitter||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrapSplitter,u=this.annotation.note&&this.annotation.note.bgPadding||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.bgPadding,o={top:0,bottom:0,left:0,right:0};if("number"==typeof u?o={top:u,bottom:u,left:u,right:u}:u&&"object"===(void 0===u?"undefined":FY(u))&&(o=HY(o,u)),this.annotation.note.title){var a=this.a.select("text.annotation-note-title");a.text(this.annotation.note.title),a.attr("fill",this.annotation.color),a.attr("font-weight","bold"),a.call(gq,e,i),n=a.node().getBBox()}r.text(this.annotation.note.label).attr("dx","0"),r.call(gq,e,i),r.attr("y",1.1*n.height||0),r.attr("fill",this.annotation.color);var s=this.getNoteBBox();this.a.select("rect.annotation-note-bg").attr("width",s.width+o.left+o.right).attr("height",s.height+o.top+o.bottom).attr("x",s.x-o.left).attr("y",-o.top).attr("fill","white").attr("fill-opacity",0)}}}]),n}(aq),fq=sq(cq,{className:"label",note:{align:"middle"}}),hq=sq(cq,{className:"callout",note:{lineType:"horizontal"}}),lq=sq(hq,{className:"callout elbow",connector:{type:"elbow"}}),dq=sq(hq,{className:"callout curve",connector:{type:"curve"}}),vq=sq(aq,{className:"badge",subject:{type:"badge"},disable:["connector","note"]}),pq=sq(cq,{className:"callout circle",subject:{type:"circle"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),bq=sq(cq,{className:"callout rect",subject:{type:"rect"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),wq=sq(function(t){function n(){return CY(this,n),_Y(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return UY(n,t),DY(n,[{key:"mapY",value:function(t){jY(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"mapY",this).call(this,t);var r=this.annotation;(r.subject.x1||r.subject.x2)&&r.data&&t.y&&(r.y=t.y(r.data)),!r.subject.x1&&!r.subject.x2||r.x||(r.x=r.subject.x1||r.subject.x2)}},{key:"mapX",value:function(t){jY(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"mapX",this).call(this,t);var r=this.annotation;(r.subject.y1||r.subject.y2)&&r.data&&t.x&&(r.x=t.x(r.data)),!r.subject.y1&&!r.subject.y2||r.y||(r.y=r.subject.y1||r.subject.y2)}}]),n}(hq),{className:"callout xythreshold",subject:{type:"threshold"}}),mq=function(t,n,r,e,i){var u=t.selectAll(r+"."+(i||e)).data(n);return u.enter().append(r).merge(u).attr("class",e),u.exit().remove(),t},yq=function(t,n,r){var e=r.component,i=r.name;e&&e.on("mouseover.annotations",(function(){t.call(i+"over",e,n)})).on("mouseout.annotations",(function(){return t.call(i+"out",e,n)})).on("click.annotations",(function(){return t.call(i+"click",e,n)}))},gq=function(t,n,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.2;t.each((function(){for(var t=AB(this),i=t.text().split(r||/[ \t\r\n]+/).reverse().filter((function(t){return""!==t})),u=void 0,o=[],a=t.text(null).append("tspan").attr("x",0).attr("dy","0.8em");u=i.pop();)o.push(u),a.text(o.join(" ")),a.node().getComputedTextLength()>n&&o.length>1&&(o.pop(),a.text(o.join(" ")),o=[u],a=t.append("tspan").attr("x",0).attr("dy",e+"em").text(u))}))},Mq=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":not(.handle)";return t?t.selectAll(n).nodes().reduce((function(t,n){var r=n.getBBox();t.x=Math.min(t.x,r.x),t.y=Math.min(t.y,r.y),t.width=Math.max(t.width,r.width);var e=n&&n.attributes&&n.attributes.y;return t.height=Math.max(t.height,(e&&parseFloat(e.value)||0)+r.height),t}),{x:0,y:0,width:0,height:0}):{x:0,y:0,width:0,height:0}};function Nq(){var t=[],n=void 0,r=void 0,e=[],i={},u={},o=!1,a=void 0,s=hq,c=void 0,f=void 0,h=xY("subjectover","subjectout","subjectclick","connectorover","connectorout","connectorclick","noteover","noteout","noteclick","dragend","dragstart"),l=void 0,d=function(r){l=r,o||r.selectAll("circle.handle").remove();var d=t.map((function(t){return t.type||(t.type=s),t.disable||(t.disable=e),new PY(t)}));n=n||new WY({annotations:d,accessors:i,accessorsInverse:u,ids:a}),r.selectAll("g").data([n]).enter().append("g").attr("class","annotations");var v=r.select("g.annotations");mq(v,n.annotations,"g","annotation"),v.selectAll("g.annotation").each((function(t){var n=AB(this);n.attr("class","annotation"),mq(n,[t],"g","annotation-connector"),mq(n,[t],"g","annotation-subject"),mq(n,[t],"g","annotation-note"),mq(n.select("g.annotation-note"),[t],"g","annotation-note-content"),t.type="[object Object]"===t.type.toString()?t.type:new t.type({a:n,annotation:t,textWrap:c,notePadding:f,editMode:o,dispatcher:h,accessors:i}),t.type.draw(),t.type.drawText&&t.type.drawText()}))};return d.json=function(){return console.log("Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.",n.json),window.copy(JSON.stringify(n.json.map((function(t){return delete t.type,t})))),d},d.update=function(){return t&&n&&(t=n.annotations.map((function(t){return t.type.draw(),t}))),d},d.updateText=function(){return n&&(n.updateText(c),t=n.annotations),d},d.updatedAccessors=function(){return n.setPositionWithAccessors(),t=n.annotations,d},d.disable=function(r){return arguments.length?(e=r,n&&(n.updateDisable(e),t=n.annotations),d):e},d.textWrap=function(r){return arguments.length?(c=r,n&&(n.updateTextWrap(c),t=n.annotations),d):c},d.notePadding=function(r){return arguments.length?(f=r,n&&(n.updateNotePadding(f),t=n.annotations),d):f},d.type=function(r,e){return arguments.length?(s=r,n&&(n.annotations.map((function(t){t.type.note&&t.type.note.selectAll("*:not(.annotation-note-content)").remove(),t.type.noteContent&&t.type.noteContent.selectAll("*").remove(),t.type.subject&&t.type.subject.selectAll("*").remove(),t.type.connector&&t.type.connector.selectAll("*").remove(),t.type.typeSettings={},t.type=s,t.subject=e&&e.subject||t.subject,t.connector=e&&e.connector||t.connector,t.note=e&&e.note||t.note})),t=n.annotations),d):s},d.annotations=function(r){if(!arguments.length)return n&&n.annotations||t;if(t=r,n&&n.annotations){var e=t.some((function(t){return!t.type||"[object Object]"!==t.type.toString()}));e?(n=null,d(l)):n.annotations=t}return d},d.context=function(t){return arguments.length?(r=t,d):r},d.accessors=function(t){return arguments.length?(i=t,d):i},d.accessorsInverse=function(t){return arguments.length?(u=t,d):u},d.ids=function(t){return arguments.length?(a=t,d):a},d.editMode=function(r){return arguments.length?(o=r,l&&l.selectAll("g.annotation").classed("editable",o),n&&(n.editMode(o),t=n.annotations),d):o},d.collection=function(t){return arguments.length?(n=t,d):n},d.on=function(){var t=h.on.apply(h,arguments);return t===h?d:t},d}var Lq={annotationLabel:fq,annotationCallout:hq,annotationCalloutElbow:lq,annotationCalloutCurve:dq,annotationCalloutCircle:pq,annotationCalloutRect:bq,annotationXYThreshold:wq,annotationBadge:vq};function kq(t,n,r,e){if(t)if(t instanceof Array){if(1===t.length)return Eq(n(Aq(t[0],e)));if(2===t.length)return Eq(n(Aq(t[0],e))-n(Aq(t[1],e)))}else if("string"==typeof t&&"%"===t.substring(t.length-1,t.length))return Eq(r(+t.substring(0,t.length-1)));return Eq(t)}function Eq(t){return 0===t?1e-9:t}function Aq(t,n){return n?"object"==typeof t&&"function"==typeof t.getMonth?t:new Date(t):t}function Tq(t,n,r,e,i,u){var o=pt(t).select(".vcl-annotation-group").select(".annotations");o.selectAll(".annotation").style("visibility",null),o.selectAll(".annotation-detect-collision").each((function(t,n,r){var u=r[n],o=xq(pt(u).attr("transform")),a=o&&o.translate||[0,0],s=pt(u).select(".annotation-note").attr("transform")&&xq(pt(u).select(".annotation-note").attr("transform")),c=s&&s.translate||[0,0],f=pt(u).select(".annotation-note").select(".annotation-note-content").attr("transform")&&xq(pt(u).select(".annotation-note").select(".annotation-note-content").attr("transform")),h=f&&f.translate||[0,0];pt(u).selectAll("path").each((function(t,n,r){var u=pt(r[n]),o=a[0]+e.left+i.left,s=a[1]+e.top+i.top;u.classed("note-line")&&(o+=c[0],s+=c[1]),u.attr("data-d",u.attr("d")).attr("data-translate-x",o).attr("data-translate-y",s)}));var l=0;pt(u).selectAll("text").each((function(t,n,r){var u=r[n],o=getComputedStyle(u),s=parseFloat(o.fontSize),f=Math.max(s-1,1),d=An(u.textContent,s,!0,o.fontFamily),v=pt(u),p=a[0]+c[0]+h[0]+e.left+i.left,b=a[1]+c[1]+h[1]+e.top+i.top;l=Math.max(d,l),v.attr("data-x",+v.attr("x")||0).attr("data-y",f/2+ +v.attr("y")||0).attr("data-ignore",0===d).attr("data-width",d).attr("data-height",f).attr("data-translate-x",p).attr("data-translate-y",b).attr("data-no-text-anchor",!0)})),0===l&&pt(u).attr("data-no-text",!0)})),u=or({bitmaps:u,labelSelection:pt(".nothing-exists-here"),avoidMarks:[o.selectAll(".annotation-detect-collision").selectAll("path")],validPositions:["middle"],offsets:[1],accessors:["cidx"],size:[qt(n,0),qt(r,0)]}),u=or({bitmaps:u,labelSelection:o.selectAll(".annotation-detect-collision text"),avoidMarks:[],validPositions:["middle"],offsets:[1],accessors:["cidx"],size:[qt(n,0),qt(r,0)]}),o.selectAll(".annotation-detect-collision").each((function(t,n,r){var e=r[n],i=!1;pt(e).selectAll("text").each((function(t,n,r){var e=r[n],u="false"===pt(e).attr("data-label-hidden")&&"false"===pt(e).attr("data-ignore");i=i||u})),i||"true"===pt(e).attr("data-no-text")?pt(e).style("visibility",null):pt(e).style("visibility","hidden")}))}function xq(t){var n={};return t.trim().replace(", ",",").split(" ").forEach((function(t){var r=t.split(")")[0].split(","),e=r[0].split("(");n[e[0]]=[],n[e[0]].push(+e[1],+r[1])})),n}function Sq(){return(Sq=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t}).apply(this,arguments)}var Oq=Object.prototype.hasOwnProperty;function Iq(t,n){return null!=t&&Oq.call(t,n)}var Rq=Array.isArray,Fq="object"==typeof n&&n&&n.Object===Object&&n,Cq="object"==typeof self&&self&&self.Object===Object&&self,Dq=Fq||Cq||Function("return this")(),Hq=Dq.Symbol,jq=Object.prototype,Uq=jq.hasOwnProperty,_q=jq.toString,Pq=Hq?Hq.toStringTag:void 0,Wq=Object.prototype.toString,Bq=Hq?Hq.toStringTag:void 0;function $q(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Bq&&Bq in Object(t)?function(t){var n=Uq.call(t,Pq),r=t[Pq];try{t[Pq]=void 0;var e=!0}catch(u){}var i=_q.call(t);return e&&(n?t[Pq]=r:delete t[Pq]),i}(t):function(t){return Wq.call(t)}(t)}function Yq(t){return null!=t&&"object"==typeof t}function qq(t){return"symbol"==typeof t||Yq(t)&&"[object Symbol]"==$q(t)}var zq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vq=/^\w*$/;function Gq(t,n){if(Rq(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!qq(t))||Vq.test(t)||!zq.test(t)||null!=n&&t in Object(n)}function Zq(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function Xq(t){if(!Zq(t))return!1;var n=$q(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}var Kq,Jq=Dq["__core-js_shared__"],Qq=(Kq=/[^.]+$/.exec(Jq&&Jq.keys&&Jq.keys.IE_PROTO||""))?"Symbol(src)_1."+Kq:"",tz=Function.prototype.toString;function nz(t){if(null!=t){try{return tz.call(t)}catch(n){}try{return t+""}catch(n){}}return""}var rz=/^\[object .+?Constructor\]$/,ez=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iz(t,n){var r=function(t,n){return null==t?void 0:t[n]}(t,n);return function(t){return!(!Zq(t)||(n=t,Qq&&Qq in n))&&(Xq(t)?ez:rz).test(nz(t));var n}(r)?r:void 0}var uz=iz(Object,"create"),oz=Object.prototype.hasOwnProperty,az=Object.prototype.hasOwnProperty;function sz(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function cz(t,n){return t===n||t!=t&&n!=n}function fz(t,n){for(var r=t.length;r--;)if(cz(t[r][0],n))return r;return-1}sz.prototype.clear=function(){this.__data__=uz?uz(null):{},this.size=0},sz.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},sz.prototype.get=function(t){var n=this.__data__;if(uz){var r=n[t];return"__lodash_hash_undefined__"===r?void 0:r}return oz.call(n,t)?n[t]:void 0},sz.prototype.has=function(t){var n=this.__data__;return uz?void 0!==n[t]:az.call(n,t)},sz.prototype.set=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=uz&&void 0===n?"__lodash_hash_undefined__":n,this};var hz=Array.prototype.splice;function lz(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}lz.prototype.clear=function(){this.__data__=[],this.size=0},lz.prototype.delete=function(t){var n=this.__data__,r=fz(n,t);return!(r<0||(r==n.length-1?n.pop():hz.call(n,r,1),--this.size,0))},lz.prototype.get=function(t){var n=this.__data__,r=fz(n,t);return r<0?void 0:n[r][1]},lz.prototype.has=function(t){return fz(this.__data__,t)>-1},lz.prototype.set=function(t,n){var r=this.__data__,e=fz(r,t);return e<0?(++this.size,r.push([t,n])):r[e][1]=n,this};var dz=iz(Dq,"Map");function vz(t,n){var r=t.__data__;return function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}(n)?r["string"==typeof n?"string":"hash"]:r.map}function pz(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function bz(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var r=function(){var e=arguments,i=n?n.apply(this,e):e[0],u=r.cache;if(u.has(i))return u.get(i);var o=t.apply(this,e);return r.cache=u.set(i,o)||u,o};return r.cache=new(bz.Cache||pz),r}pz.prototype.clear=function(){this.size=0,this.__data__={hash:new sz,map:new(dz||lz),string:new sz}},pz.prototype.delete=function(t){var n=vz(this,t).delete(t);return this.size-=n?1:0,n},pz.prototype.get=function(t){return vz(this,t).get(t)},pz.prototype.has=function(t){return vz(this,t).has(t)},pz.prototype.set=function(t,n){var r=vz(this,t),e=r.size;return r.set(t,n),this.size+=r.size==e?0:1,this},bz.Cache=pz;var wz,mz,yz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gz=/\\(\\)?/g,Mz=(wz=bz((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(yz,(function(t,r,e,i){n.push(e?i.replace(gz,"$1"):r||t)})),n}),(function(t){return 500===mz.size&&mz.clear(),t})),mz=wz.cache,wz);function Nz(t,n){for(var r=-1,e=null==t?0:t.length,i=Array(e);++r<e;)i[r]=n(t[r],r,t);return i}var Lz=Hq?Hq.prototype:void 0,kz=Lz?Lz.toString:void 0;function Ez(t){if("string"==typeof t)return t;if(Rq(t))return Nz(t,Ez)+"";if(qq(t))return kz?kz.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function Az(t){return null==t?"":Ez(t)}function Tz(t,n){return Rq(t)?t:Gq(t,n)?[t]:Mz(Az(t))}function xz(t){return Yq(t)&&"[object Arguments]"==$q(t)}var Sz=Object.prototype,Oz=Sz.hasOwnProperty,Iz=Sz.propertyIsEnumerable,Rz=xz(function(){return arguments}())?xz:function(t){return Yq(t)&&Oz.call(t,"callee")&&!Iz.call(t,"callee")},Fz=/^(?:0|[1-9]\d*)$/;function Cz(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&Fz.test(t))&&t>-1&&t%1==0&&t<n}function Dz(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Hz(t){if("string"==typeof t||qq(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function jz(t,n,r){for(var e=-1,i=(n=Tz(n,t)).length,u=!1;++e<i;){var o=Hz(n[e]);if(!(u=null!=t&&r(t,o)))break;t=t[o]}return u||++e!=i?u:!!(i=null==t?0:t.length)&&Dz(i)&&Cz(o,i)&&(Rq(t)||Rz(t))}function Uz(t,n){return null!=t&&jz(t,n,Iq)}function _z(t){var n=this.__data__=new lz(t);this.size=n.size}_z.prototype.clear=function(){this.__data__=new lz,this.size=0},_z.prototype.delete=function(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r},_z.prototype.get=function(t){return this.__data__.get(t)},_z.prototype.has=function(t){return this.__data__.has(t)},_z.prototype.set=function(t,n){var r=this.__data__;if(r instanceof lz){var e=r.__data__;if(!dz||e.length<199)return e.push([t,n]),this.size=++r.size,this;r=this.__data__=new pz(e)}return r.set(t,n),this.size=r.size,this};var Pz=function(){try{var t=iz(Object,"defineProperty");return t({},"",{}),t}catch(n){}}();function Wz(t,n,r){"__proto__"==n&&Pz?Pz(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}var Bz=Object.prototype.hasOwnProperty;function $z(t,n,r){var e=t[n];Bz.call(t,n)&&cz(e,r)&&(void 0!==r||n in t)||Wz(t,n,r)}function Yz(t,n,r,e){var i=!r;r||(r={});for(var u=-1,o=n.length;++u<o;){var a=n[u],s=e?e(r[a],t[a],a,r,t):void 0;void 0===s&&(s=t[a]),i?Wz(r,a,s):$z(r,a,s)}return r}var qz=r&&!r.nodeType&&r,zz=qz&&t&&!t.nodeType&&t,Vz=zz&&zz.exports===qz?Dq.Buffer:void 0,Gz=(Vz?Vz.isBuffer:void 0)||function(){return!1},Zz={};function Xz(t){return function(n){return t(n)}}Zz["[object Float32Array]"]=Zz["[object Float64Array]"]=Zz["[object Int8Array]"]=Zz["[object Int16Array]"]=Zz["[object Int32Array]"]=Zz["[object Uint8Array]"]=Zz["[object Uint8ClampedArray]"]=Zz["[object Uint16Array]"]=Zz["[object Uint32Array]"]=!0,Zz["[object Arguments]"]=Zz["[object Array]"]=Zz["[object ArrayBuffer]"]=Zz["[object Boolean]"]=Zz["[object DataView]"]=Zz["[object Date]"]=Zz["[object Error]"]=Zz["[object Function]"]=Zz["[object Map]"]=Zz["[object Number]"]=Zz["[object Object]"]=Zz["[object RegExp]"]=Zz["[object Set]"]=Zz["[object String]"]=Zz["[object WeakMap]"]=!1;var Kz=r&&!r.nodeType&&r,Jz=Kz&&t&&!t.nodeType&&t,Qz=Jz&&Jz.exports===Kz&&Fq.process,tV=function(){try{return Jz&&Jz.require&&Jz.require("util").types||Qz&&Qz.binding&&Qz.binding("util")}catch(t){}}(),nV=tV&&tV.isTypedArray,rV=nV?Xz(nV):function(t){return Yq(t)&&Dz(t.length)&&!!Zz[$q(t)]},eV=Object.prototype.hasOwnProperty;function iV(t,n){var r=Rq(t),e=!r&&Rz(t),i=!r&&!e&&Gz(t),u=!r&&!e&&!i&&rV(t),o=r||e||i||u,a=o?function(t,n){for(var r=-1,e=Array(t);++r<t;)e[r]=n(r);return e}(t.length,String):[],s=a.length;for(var c in t)!n&&!eV.call(t,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||u&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Cz(c,s))||a.push(c);return a}var uV=Object.prototype;function oV(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||uV)}function aV(t,n){return function(r){return t(n(r))}}var sV=aV(Object.keys,Object),cV=Object.prototype.hasOwnProperty;function fV(t){return null!=t&&Dz(t.length)&&!Xq(t)}function hV(t){return fV(t)?iV(t):function(t){if(!oV(t))return sV(t);var n=[];for(var r in Object(t))cV.call(t,r)&&"constructor"!=r&&n.push(r);return n}(t)}var lV=Object.prototype.hasOwnProperty;function dV(t){return fV(t)?iV(t,!0):function(t){if(!Zq(t))return function(t){var n=[];if(null!=t)for(var r in Object(t))n.push(r);return n}(t);var n=oV(t),r=[];for(var e in t)("constructor"!=e||!n&&lV.call(t,e))&&r.push(e);return r}(t)}var vV=r&&!r.nodeType&&r,pV=vV&&t&&!t.nodeType&&t,bV=pV&&pV.exports===vV?Dq.Buffer:void 0,wV=bV?bV.allocUnsafe:void 0;function mV(t,n){var r=-1,e=t.length;for(n||(n=Array(e));++r<e;)n[r]=t[r];return n}function yV(){return[]}var gV=Object.prototype.propertyIsEnumerable,MV=Object.getOwnPropertySymbols,NV=MV?function(t){return null==t?[]:(t=Object(t),function(n){for(var r=-1,e=null==n?0:n.length,i=0,u=[];++r<e;){var o=n[r];gV.call(t,o)&&(u[i++]=o)}return u}(MV(t)))}:yV;function LV(t,n){for(var r=-1,e=n.length,i=t.length;++r<e;)t[i+r]=n[r];return t}var kV=aV(Object.getPrototypeOf,Object),EV=Object.getOwnPropertySymbols?function(t){for(var n=[];t;)LV(n,NV(t)),t=kV(t);return n}:yV;function AV(t,n,r){var e=n(t);return Rq(t)?e:LV(e,r(t))}function TV(t){return AV(t,hV,NV)}function xV(t){return AV(t,dV,EV)}var SV=iz(Dq,"DataView"),OV=iz(Dq,"Promise"),IV=iz(Dq,"Set"),RV=iz(Dq,"WeakMap"),FV=nz(SV),CV=nz(dz),DV=nz(OV),HV=nz(IV),jV=nz(RV),UV=$q;(SV&&"[object DataView]"!=UV(new SV(new ArrayBuffer(1)))||dz&&"[object Map]"!=UV(new dz)||OV&&"[object Promise]"!=UV(OV.resolve())||IV&&"[object Set]"!=UV(new IV)||RV&&"[object WeakMap]"!=UV(new RV))&&(UV=function(t){var n=$q(t),r="[object Object]"==n?t.constructor:void 0,e=r?nz(r):"";if(e)switch(e){case FV:return"[object DataView]";case CV:return"[object Map]";case DV:return"[object Promise]";case HV:return"[object Set]";case jV:return"[object WeakMap]"}return n});var _V=UV,PV=Object.prototype.hasOwnProperty,WV=Dq.Uint8Array;function BV(t){var n=new t.constructor(t.byteLength);return new WV(n).set(new WV(t)),n}var $V=/\w*$/,YV=Hq?Hq.prototype:void 0,qV=YV?YV.valueOf:void 0,zV=Object.create,VV=function(){function t(){}return function(n){if(!Zq(n))return{};if(zV)return zV(n);t.prototype=n;var r=new t;return t.prototype=void 0,r}}(),GV=tV&&tV.isMap,ZV=GV?Xz(GV):function(t){return Yq(t)&&"[object Map]"==_V(t)},XV=tV&&tV.isSet,KV=XV?Xz(XV):function(t){return Yq(t)&&"[object Set]"==_V(t)},JV={};function QV(t,n,r,e,i,u){var o,a=1&n,s=2&n,c=4&n;if(r&&(o=i?r(t,e,i,u):r(t)),void 0!==o)return o;if(!Zq(t))return t;var f=Rq(t);if(f){if(o=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&PV.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!a)return mV(t,o)}else{var h=_V(t),l="[object Function]"==h||"[object GeneratorFunction]"==h;if(Gz(t))return function(t,n){if(n)return t.slice();var r=t.length,e=wV?wV(r):new t.constructor(r);return t.copy(e),e}(t,a);if("[object Object]"==h||"[object Arguments]"==h||l&&!i){if(o=s||l?{}:function(t){return"function"!=typeof t.constructor||oV(t)?{}:VV(kV(t))}(t),!a)return s?function(t,n){return Yz(t,EV(t),n)}(t,function(t,n){return t&&Yz(n,dV(n),t)}(o,t)):function(t,n){return Yz(t,NV(t),n)}(t,function(t,n){return t&&Yz(n,hV(n),t)}(o,t))}else{if(!JV[h])return i?t:{};o=function(t,n,r){var e,i=t.constructor;switch(n){case"[object ArrayBuffer]":return BV(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function(t,n){var r=n?BV(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,n){var r=n?BV(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return function(t){var n=new t.constructor(t.source,$V.exec(t));return n.lastIndex=t.lastIndex,n}(t);case"[object Set]":return new i;case"[object Symbol]":return e=t,qV?Object(qV.call(e)):{}}}(t,h,a)}}u||(u=new _z);var d=u.get(t);if(d)return d;u.set(t,o),KV(t)?t.forEach((function(e){o.add(QV(e,n,r,e,t,u))})):ZV(t)&&t.forEach((function(e,i){o.set(i,QV(e,n,r,i,t,u))}));var v=f?void 0:(c?s?xV:TV:s?dV:hV)(t);return function(t,n){for(var r=-1,e=null==t?0:t.length;++r<e&&!1!==n(t[r],r););}(v||t,(function(e,i){v&&(e=t[i=e]),$z(o,i,QV(e,n,r,i,t,u))})),o}function tG(t,n){return QV(t,5,n="function"==typeof n?n:void 0)}function nG(t){var n=-1,r=Array(t.size);return t.forEach((function(t,e){r[++n]=[e,t]})),r}function rG(t){var n=-1,r=Array(t.size);return t.forEach((function(t){r[++n]=t})),r}JV["[object Arguments]"]=JV["[object Array]"]=JV["[object ArrayBuffer]"]=JV["[object DataView]"]=JV["[object Boolean]"]=JV["[object Date]"]=JV["[object Float32Array]"]=JV["[object Float64Array]"]=JV["[object Int8Array]"]=JV["[object Int16Array]"]=JV["[object Int32Array]"]=JV["[object Map]"]=JV["[object Number]"]=JV["[object Object]"]=JV["[object RegExp]"]=JV["[object Set]"]=JV["[object String]"]=JV["[object Symbol]"]=JV["[object Uint8Array]"]=JV["[object Uint8ClampedArray]"]=JV["[object Uint16Array]"]=JV["[object Uint32Array]"]=!0,JV["[object Error]"]=JV["[object Function]"]=JV["[object WeakMap]"]=!1;var eG=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function iG(t){return eG.test(t)}var uG="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",oG="\\ud83c[\\udffb-\\udfff]",aG="[^\\ud800-\\udfff]",sG="(?:\\ud83c[\\udde6-\\uddff]){2}",cG="[\\ud800-\\udbff][\\udc00-\\udfff]",fG="(?:"+uG+"|"+oG+")?",hG="[\\ufe0e\\ufe0f]?"+fG+"(?:\\u200d(?:"+[aG,sG,cG].join("|")+")[\\ufe0e\\ufe0f]?"+fG+")*",lG="(?:"+[aG+uG+"?",uG,sG,cG,"[\\ud800-\\udfff]"].join("|")+")",dG=RegExp(oG+"(?="+oG+")|"+lG+hG,"g");function vG(t){return iG(t)?function(t){return t.match(dG)||[]}(t):function(t){return t.split("")}(t)}function pG(t){return null==t?[]:function(t,n){return Nz(n,(function(n){return t[n]}))}(t,hV(t))}var bG=Hq?Hq.iterator:void 0;function wG(t){if(!t)return[];if(fV(t))return function(t){return"string"==typeof t||!Rq(t)&&Yq(t)&&"[object String]"==$q(t)}(t)?vG(t):mV(t);if(bG&&t[bG])return function(t){for(var n,r=[];!(n=t.next()).done;)r.push(n.value);return r}(t[bG]());var n=_V(t);return("[object Map]"==n?nG:"[object Set]"==n?rG:pG)(t)}var mG=Object.prototype.toString,yG=Error.prototype.toString,gG=RegExp.prototype.toString,MG="undefined"!=typeof Symbol?Symbol.prototype.toString:function(){return""},NG=/^Symbol\((.*)\)(.*)$/;function LG(t,n){if(void 0===n&&(n=!1),null==t||!0===t||!1===t)return""+t;var r=typeof t;if("number"===r)return function(t){return t!=+t?"NaN":0===t&&1/t<0?"-0":""+t}(t);if("string"===r)return n?'"'+t+'"':t;if("function"===r)return"[Function "+(t.name||"anonymous")+"]";if("symbol"===r)return MG.call(t).replace(NG,"Symbol($1)");var e=mG.call(t).slice(8,-1);return"Date"===e?isNaN(t.getTime())?""+t:t.toISOString(t):"Error"===e||t instanceof Error?"["+yG.call(t)+"]":"RegExp"===e?gG.call(t):null}function kG(t,n){var r=LG(t,n);return null!==r?r:JSON.stringify(t,(function(t,r){var e=LG(this[t],n);return null!==e?e:r}),2)}var EG=function(t){var n=t.value,r=t.originalValue,e=null!=r&&r!==n,i=t.path+" must be a `"+t.type+"` type, but the final value was: `"+kG(n,!0)+"`"+(e?" (cast from the value `"+kG(r,!0)+"`).":".");return null===n&&(i+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),i},AG=function(t){return t&&t.__isYupSchema__},TG=function(){function t(t,n){if(this.refs=t,"function"!=typeof n){if(!Uz(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var r=n.is,e=n.then,i=n.otherwise,u="function"==typeof r?r:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.every((function(t){return t===r}))};this.fn=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n.pop(),a=n.pop(),s=u.apply(void 0,n)?e:i;if(s)return"function"==typeof s?s(a):a.concat(s.resolve(o))}}else this.fn=n}return t.prototype.resolve=function(t,n){var r=this.refs.map((function(t){return t.getValue(n)})),e=this.fn.apply(t,r.concat(t,n));if(void 0===e||e===t)return t;if(!AG(e))throw new TypeError("conditions must return a schema object");return e.resolve(n)},t}();function xG(t,n){if(null==t)return{};var r,e,i={},u=Object.keys(t);for(e=0;e<u.length;e++)n.indexOf(r=u[e])>=0||(i[r]=t[r]);return i}function SG(t){return Array.prototype.slice.apply(t)}function OG(t){this.status="pending",this._continuations=[],this._parent=null,this._paused=!1,t&&t.call(this,this._continueWith.bind(this),this._failWith.bind(this))}function IG(t){return t&&"function"==typeof t.then}function RG(t){return t}function FG(t){return"undefined"!=typeof window&&"AggregateError"in window?new window.AggregateError(t):{errors:t}}if(OG.prototype={then:function(t,n){var r=OG.unresolved()._setParent(this);if(this._isRejected()){if(this._paused)return this._continuations.push({promise:r,nextFn:t,catchFn:n}),r;if(n)try{var e=n(this._error);return IG(e)?(this._chainPromiseData(e,r),r):OG.resolve(e)._setParent(this)}catch(i){return OG.reject(i)._setParent(this)}return OG.reject(this._error)._setParent(this)}return this._continuations.push({promise:r,nextFn:t,catchFn:n}),this._runResolutions(),r},catch:function(t){if(this._isResolved())return OG.resolve(this._data)._setParent(this);var n=OG.unresolved()._setParent(this);return this._continuations.push({promise:n,catchFn:t}),this._runRejections(),n},finally:function(t){var n=!1;function r(r,e){if(!n){n=!0,t||(t=RG);var i=t(r);return IG(i)?i.then((function(){if(e)throw e;return r})):r}}return this.then((function(t){return r(t)})).catch((function(t){return r(null,t)}))},pause:function(){return this._paused=!0,this},resume:function(){var t=this._findFirstPaused();return t&&(t._paused=!1,t._runResolutions(),t._runRejections()),this},_findAncestry:function(){return this._continuations.reduce((function(t,n){if(n.promise){var r={promise:n.promise,children:n.promise._findAncestry()};t.push(r)}return t}),[])},_setParent:function(t){if(this._parent)throw new Error("parent already set");return this._parent=t,this},_continueWith:function(t){var n=this._findFirstPending();n&&(n._data=t,n._setResolved())},_findFirstPending:function(){return this._findFirstAncestor((function(t){return t._isPending&&t._isPending()}))},_findFirstPaused:function(){return this._findFirstAncestor((function(t){return t._paused}))},_findFirstAncestor:function(t){for(var n,r=this;r;)t(r)&&(n=r),r=r._parent;return n},_failWith:function(t){var n=this._findFirstPending();n&&(n._error=t,n._setRejected())},_takeContinuations:function(){return this._continuations.splice(0,this._continuations.length)},_runRejections:function(){if(!this._paused&&this._isRejected()){var t=this._error,n=this._takeContinuations(),r=this;n.forEach((function(n){if(n.catchFn)try{var e=n.catchFn(t);r._handleUserFunctionResult(e,n.promise)}catch(i){n.promise.reject(i)}else n.promise.reject(t)}))}},_runResolutions:function(){if(!this._paused&&this._isResolved()&&!this._isPending()){var t=this._takeContinuations();if(IG(this._data))return this._handleWhenResolvedDataIsPromise(this._data);var n=this._data,r=this;t.forEach((function(t){if(t.nextFn)try{var e=t.nextFn(n);r._handleUserFunctionResult(e,t.promise)}catch(i){r._handleResolutionError(i,t)}else t.promise&&t.promise.resolve(n)}))}},_handleResolutionError:function(t,n){if(this._setRejected(),n.catchFn)try{return void n.catchFn(t)}catch(ma){t=ma}n.promise&&n.promise.reject(t)},_handleWhenResolvedDataIsPromise:function(t){var n=this;return t.then((function(t){n._data=t,n._runResolutions()})).catch((function(t){n._error=t,n._setRejected(),n._runRejections()}))},_handleUserFunctionResult:function(t,n){IG(t)?this._chainPromiseData(t,n):n.resolve(t)},_chainPromiseData:function(t,n){t.then((function(t){n.resolve(t)})).catch((function(t){n.reject(t)}))},_setResolved:function(){this.status="resolved",this._paused||this._runResolutions()},_setRejected:function(){this.status="rejected",this._paused||this._runRejections()},_isPending:function(){return"pending"===this.status},_isResolved:function(){return"resolved"===this.status},_isRejected:function(){return"rejected"===this.status}},OG.resolve=function(t){return new OG((function(n,r){IG(t)?t.then((function(t){n(t)})).catch((function(t){r(t)})):n(t)}))},OG.reject=function(t){return new OG((function(n,r){r(t)}))},OG.unresolved=function(){return new OG((function(t,n){this.resolve=t,this.reject=n}))},OG.all=function(){var t=SG(arguments);return Array.isArray(t[0])&&(t=t[0]),t.length?new OG((function(n,r){var e=[],i=0,u=!1;t.forEach((function(o,a){OG.resolve(o).then((function(r){e[a]=r,(i+=1)===t.length&&n(e)})).catch((function(t){!function(t){u||(u=!0,r(t))}(t)}))}))})):OG.resolve([])},OG.any=function(){var t=SG(arguments);return Array.isArray(t[0])&&(t=t[0]),t.length?new OG((function(n,r){var e=[],i=0,u=!1;t.forEach((function(o,a){OG.resolve(o).then((function(t){u||(u=!0,n(t))})).catch((function(n){e[a]=n,(i+=1)===t.length&&r(FG(e))}))}))})):OG.reject(FG([]))},OG.allSettled=function(){var t=SG(arguments);return Array.isArray(t[0])&&(t=t[0]),t.length?new OG((function(n){var r=[],e=0,i=function(){(e+=1)===t.length&&n(r)};t.forEach((function(t,n){OG.resolve(t).then((function(t){r[n]={status:"fulfilled",value:t},i()})).catch((function(t){r[n]={status:"rejected",reason:t},i()}))}))})):OG.resolve([])},Promise===OG)throw new Error("Please use SynchronousPromise.installGlobally() to install globally");var CG=Promise;OG.installGlobally=function(t){if(Promise===OG)return t;var n=function(t){if(void 0===t||t.__patched)return t;var n=t;return(t=function(){n.apply(this,SG(arguments))}).__patched=!0,t}(t);return Promise=OG,n},OG.uninstallGlobally=function(){Promise===OG&&(Promise=CG)};var DG={SynchronousPromise:OG}.SynchronousPromise,HG=/\$\{\s*(\w+)\s*\}/g,jG=function(t){return function(n){return t.replace(HG,(function(t,r){return kG(n[r])}))}};function UG(t,n,r,e){var i=this;this.name="ValidationError",this.value=n,this.path=r,this.type=e,this.errors=[],this.inner=[],t&&[].concat(t).forEach((function(t){i.errors=i.errors.concat(t.errors||t),t.inner&&(i.inner=i.inner.concat(t.inner.length?t.inner:t))})),this.message=this.errors.length>1?this.errors.length+" errors occurred":this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,UG)}(UG.prototype=Object.create(Error.prototype)).constructor=UG,UG.isError=function(t){return t&&"ValidationError"===t.name},UG.formatError=function(t,n){"string"==typeof t&&(t=jG(t));var r=function(n){return n.path=n.label||n.path||"this","function"==typeof t?t(n):t};return 1===arguments.length?r:r(n)};var _G=function(t){return t?DG:Promise};function PG(t,n){return t?null:function(t){return n.push(t),t.value}}function WG(t){var n=t.endEarly,r=xG(t,["endEarly"]);return n?function(t,n,r){return _G(r).all(t).catch((function(t){throw"ValidationError"===t.name&&(t.value=n),t})).then((function(){return n}))}(r.validations,r.value,r.sync):function(t){var n=t.validations,r=t.value,e=t.path,i=t.sync,u=t.errors,o=t.sort;return u=function(t){return void 0===t&&(t=[]),t.inner&&t.inner.length?t.inner:[].concat(t)}(u),function(t,n){var r=_G(n);return r.all(t.map((function(t){return r.resolve(t).then((function(t){return{fulfilled:!0,value:t}}),(function(t){return{fulfilled:!1,value:t}}))})))}(n,i).then((function(t){var n=t.filter((function(t){return!t.fulfilled})).reduce((function(t,n){var r=n.value;if(!UG.isError(r))throw r;return t.concat(r)}),[]);if(o&&n.sort(o),(u=n.concat(u)).length)throw new UG(u,r,e);return r}))}(r)}var BG=function(t){return"[object Object]"===Object.prototype.toString.call(t)};function $G(t,n){return t&&function(t,n,r){for(var e=-1,i=Object(t),u=r(t),o=u.length;o--;){var a=u[++e];if(!1===n(i[a],a,i))break}return t}(t,n,hV)}function YG(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new pz;++n<r;)this.add(t[n])}function qG(t,n){for(var r=-1,e=null==t?0:t.length;++r<e;)if(n(t[r],r,t))return!0;return!1}function zG(t,n,r,e,i,u){var o=1&r,a=t.length,s=n.length;if(a!=s&&!(o&&s>a))return!1;var c=u.get(t),f=u.get(n);if(c&&f)return c==n&&f==t;var h=-1,l=!0,d=2&r?new YG:void 0;for(u.set(t,n),u.set(n,t);++h<a;){var v=t[h],p=n[h];if(e)var b=o?e(p,v,h,n,t,u):e(v,p,h,t,n,u);if(void 0!==b){if(b)continue;l=!1;break}if(d){if(!qG(n,(function(t,n){if(!d.has(n)&&(v===t||i(v,t,r,e,u)))return d.push(n)}))){l=!1;break}}else if(v!==p&&!i(v,p,r,e,u)){l=!1;break}}return u.delete(t),u.delete(n),l}YG.prototype.add=YG.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},YG.prototype.has=function(t){return this.__data__.has(t)};var VG=Hq?Hq.prototype:void 0,GG=VG?VG.valueOf:void 0,ZG=Object.prototype.hasOwnProperty,XG=Object.prototype.hasOwnProperty;function KG(t,n,r,e,i){return t===n||(null==t||null==n||!Yq(t)&&!Yq(n)?t!=t&&n!=n:function(t,n,r,e,i,u){var o=Rq(t),a=Rq(n),s=o?"[object Array]":_V(t),c=a?"[object Array]":_V(n),f="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),h="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),l=s==c;if(l&&Gz(t)){if(!Gz(n))return!1;o=!0,f=!1}if(l&&!f)return u||(u=new _z),o||rV(t)?zG(t,n,r,e,i,u):function(t,n,r,e,i,u,o){switch(r){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=n.byteLength||!u(new WV(t),new WV(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return cz(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var a=nG;case"[object Set]":if(a||(a=rG),t.size!=n.size&&!(1&e))return!1;var s=o.get(t);if(s)return s==n;e|=2,o.set(t,n);var c=zG(a(t),a(n),e,i,u,o);return o.delete(t),c;case"[object Symbol]":if(GG)return GG.call(t)==GG.call(n)}return!1}(t,n,s,r,e,i,u);if(!(1&r)){var d=f&&XG.call(t,"__wrapped__"),v=h&&XG.call(n,"__wrapped__");if(d||v){var p=d?t.value():t,b=v?n.value():n;return u||(u=new _z),i(p,b,r,e,u)}}return!!l&&(u||(u=new _z),function(t,n,r,e,i,u){var o=1&r,a=TV(t),s=a.length;if(s!=TV(n).length&&!o)return!1;for(var c=s;c--;){var f=a[c];if(!(o?f in n:ZG.call(n,f)))return!1}var h=u.get(t),l=u.get(n);if(h&&l)return h==n&&l==t;var d=!0;u.set(t,n),u.set(n,t);for(var v=o;++c<s;){var p=t[f=a[c]],b=n[f];if(e)var w=o?e(b,p,f,n,t,u):e(p,b,f,t,n,u);if(!(void 0===w?p===b||i(p,b,r,e,u):w)){d=!1;break}v||(v="constructor"==f)}if(d&&!v){var m=t.constructor,y=n.constructor;m!=y&&"constructor"in t&&"constructor"in n&&!("function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y)&&(d=!1)}return u.delete(t),u.delete(n),d}(t,n,r,e,i,u))}(t,n,r,e,KG,i))}function JG(t){return t==t&&!Zq(t)}function QG(t,n){return function(r){return null!=r&&r[t]===n&&(void 0!==n||t in Object(r))}}function tZ(t,n){for(var r=0,e=(n=Tz(n,t)).length;null!=t&&r<e;)t=t[Hz(n[r++])];return r&&r==e?t:void 0}function nZ(t,n){return null!=t&&n in Object(t)}function rZ(t){return t}function eZ(t){return"function"==typeof t?t:null==t?rZ:"object"==typeof t?Rq(t)?function(t,n){return Gq(t)&&JG(n)?QG(Hz(t),n):function(r){var e=function(t,n){var r=null==t?void 0:tZ(t,n);return void 0===r?void 0:r}(r,t);return void 0===e&&e===n?function(t,n){return null!=t&&jz(t,n,nZ)}(r,t):KG(n,e,3)}}(t[0],t[1]):1==(r=function(t){for(var n=hV(t),r=n.length;r--;){var e=n[r],i=t[e];n[r]=[e,i,JG(i)]}return n}(n=t)).length&&r[0][2]?QG(r[0][0],r[0][1]):function(t){return t===n||function(t,n,r){var e=r.length,i=e;if(null==t)return!i;for(t=Object(t);e--;){var u=r[e];if(u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++e<i;){var o=(u=r[e])[0],a=t[o],s=u[1];if(u[2]){if(void 0===a&&!(o in t))return!1}else{var c,f=new _z;if(!(void 0===c?KG(s,a,3,void 0,f):c))return!1}}return!0}(t,0,r)}:function(t){return Gq(t)?(n=Hz(t),function(t){return null==t?void 0:t[n]}):function(t){return function(n){return tZ(n,t)}}(t);var n}(t);var n,r}function iZ(t,n){var r={};return n=eZ(n),$G(t,(function(t,e,i){Wz(r,e,n(t,e,i))})),r}function uZ(t){this._maxSize=t,this.clear()}uZ.prototype.clear=function(){this._size=0,this._values=Object.create(null)},uZ.prototype.get=function(t){return this._values[t]},uZ.prototype.set=function(t,n){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=n};var oZ=/[^.^\]^[]+|(?=\[\]|\.\.)/g,aZ=/^\d+$/,sZ=/^\d/,cZ=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,fZ=/^\s*(['"]?)(.*?)(\1)\s*$/,hZ=new uZ(512),lZ=(new uZ(512),new uZ(512));function dZ(t){return t.match(oZ)}function vZ(t){return"string"==typeof t&&t&&-1!==["'",'"'].indexOf(t.charAt(0))}function pZ(t){return!vZ(t)&&(function(t){return t.match(sZ)&&!t.match(aZ)}(t)||function(t){return cZ.test(t)}(t))}var bZ=dZ,wZ=function(t,n){var r=function(t){return hZ.get(t)||hZ.set(t,dZ(t).map((function(t){return t.replace(fZ,"$2")})))}(t);return lZ.get(t)||lZ.set(t,(function(t){for(var e=0,i=r.length;e<i;){if(null==t&&n)return;t=t[r[e++]]}return t}))},mZ=function(t,n,r){!function(t,n,r){var e,i,u,o,a=t.length;for(i=0;i<a;i++)(e=t[i])&&(pZ(e)&&(e='"'+e+'"'),u=!(o=vZ(e))&&/^\d+$/.test(e),n.call(r,e,o,u,i,t))}(Array.isArray(t)?t:dZ(t),n,r)},yZ=function(){function t(t,n){if(void 0===n&&(n={}),"string"!=typeof t)throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),""===t)throw new TypeError("ref must be a non-empty string");this.isContext="$"===this.key[0],this.isValue="."===this.key[0],this.isSibling=!this.isContext&&!this.isValue,this.path=this.key.slice((this.isContext?"$":this.isValue?".":"").length),this.getter=this.path&&wZ(this.path,!0),this.map=n.map}var n=t.prototype;return n.getValue=function(t){var n=this.isContext?t.context:this.isValue?t.value:t.parent;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n},n.cast=function(t,n){return this.getValue(Sq({},n,{value:t}))},n.resolve=function(){return this},n.describe=function(){return{type:"ref",key:this.key}},n.toString=function(){return"Ref("+this.key+")"},t.isRef=function(t){return t&&t.__isYupRef},t}();yZ.prototype.__isYupRef=!0;var gZ=UG.formatError;function MZ(t){var n=t.name,r=t.message,e=t.test,i=t.params;function u(t){var u=t.value,o=t.path,a=t.label,s=t.options,c=t.originalValue,f=t.sync,h=xG(t,["value","path","label","options","originalValue","sync"]),l=s.parent,d=function(t){return yZ.isRef(t)?t.getValue({value:u,parent:l,context:s.context}):t},v=function(t){var n=t.value,r=t.label,e=t.resolve,i=t.originalValue,u=xG(t,["value","label","resolve","originalValue"]);return function(t){var o=void 0===t?{}:t,a=o.path,s=void 0===a?u.path:a,c=o.message,f=void 0===c?u.message:c,h=o.type,l=void 0===h?u.name:h,d=o.params;return d=Sq({path:s,value:n,originalValue:i,label:r},function(t,n,r){return iZ(Sq({},t,{},n),r)}(u.params,d,e)),Sq(new UG(gZ(f,d),n,s,l),{params:d})}}({message:r,path:o,value:u,originalValue:c,params:i,label:a,resolve:d,name:n}),p=Sq({path:o,parent:l,type:n,createError:v,resolve:d,options:s},h);return function(t,n,r,e){var i,u=t.call(n,r);if(!e)return Promise.resolve(u);if((i=u)&&"function"==typeof i.then&&"function"==typeof i.catch)throw new Error('Validation test of type: "'+n.type+'" returned a Promise during a synchronous validate. This test will finish after the validate call has returned');return DG.resolve(u)}(e,p,u,f).then((function(t){if(UG.isError(t))throw t;if(!t)throw v()}))}return u.OPTIONS=t,u}var NZ=function(){function t(){this.list=new Set,this.refs=new Map}var n=t.prototype;return n.toArray=function(){return wG(this.list).concat(wG(this.refs.values()))},n.add=function(t){yZ.isRef(t)?this.refs.set(t.key,t):this.list.add(t)},n.delete=function(t){yZ.isRef(t)?this.refs.delete(t.key):this.list.delete(t)},n.has=function(t,n){if(this.list.has(t))return!0;for(var r,e=this.refs.values();!(r=e.next()).done;)if(n(r.value)===t)return!0;return!1},n.clone=function(){var n=new t;return n.list=new Set(this.list),n.refs=new Map(this.refs),n},n.merge=function(t,n){var r=this.clone();return t.list.forEach((function(t){return r.add(t)})),t.refs.forEach((function(t){return r.add(t)})),n.list.forEach((function(t){return r.delete(t)})),n.refs.forEach((function(t){return r.delete(t)})),r},t}();function LZ(t){var n=this;if(void 0===t&&(t={}),!(this instanceof LZ))return new LZ;this._deps=[],this._conditions=[],this._options={abortEarly:!0,recursive:!0},this._exclusive=Object.create(null),this._whitelist=new NZ,this._blacklist=new NZ,this.tests=[],this.transforms=[],this.withMutation((function(){n.typeError(EG)})),Uz(t,"default")&&(this._defaultDefault=t.default),this.type=t.type||"mixed",this._type=t.type||"mixed"}for(var kZ=LZ.prototype={__isYupSchema__:!0,constructor:LZ,clone:function(){var t=this;return this._mutate?this:tG(this,(function(n){if(AG(n)&&n!==t)return n}))},label:function(t){var n=this.clone();return n._label=t,n},meta:function(t){if(0===arguments.length)return this._meta;var n=this.clone();return n._meta=Sq(n._meta||{},t),n},withMutation:function(t){var n=this._mutate;this._mutate=!0;var r=t(this);return this._mutate=n,r},concat:function(t){if(!t||t===this)return this;if(t._type!==this._type&&"mixed"!==this._type)throw new TypeError("You cannot `concat()` schema's of different types: "+this._type+" and "+t._type);var n=function t(n,r){for(var e in r)if(Uz(r,e)){var i=r[e],u=n[e];if(void 0===u)n[e]=i;else{if(u===i)continue;AG(u)?AG(i)&&(n[e]=i.concat(u)):BG(u)?BG(i)&&(n[e]=t(u,i)):Array.isArray(u)&&Array.isArray(i)&&(n[e]=i.concat(u))}}return n}(t.clone(),this);return Uz(t,"_default")&&(n._default=t._default),n.tests=this.tests,n._exclusive=this._exclusive,n._whitelist=this._whitelist.merge(t._whitelist,t._blacklist),n._blacklist=this._blacklist.merge(t._blacklist,t._whitelist),n.withMutation((function(n){t.tests.forEach((function(t){n.test(t.OPTIONS)}))})),n},isType:function(t){return!(!this._nullable||null!==t)||!this._typeCheck||this._typeCheck(t)},resolve:function(t){var n=this;if(n._conditions.length){var r=n._conditions;(n=n.clone())._conditions=[],n=(n=r.reduce((function(n,r){return r.resolve(n,t)}),n)).resolve(t)}return n},cast:function(t,n){void 0===n&&(n={});var r=this.resolve(Sq({},n,{value:t})),e=r._cast(t,n);if(void 0!==t&&!1!==n.assert&&!0!==r.isType(e)){var i=kG(t),u=kG(e);throw new TypeError("The value of "+(n.path||"field")+' could not be cast to a value that satisfies the schema type: "'+r._type+'". \n\nattempted value: '+i+" \n"+(u!==i?"result of cast: "+u:""))}return e},_cast:function(t){var n=this,r=void 0===t?t:this.transforms.reduce((function(r,e){return e.call(n,r,t)}),t);return void 0===r&&Uz(this,"_default")&&(r=this.default()),r},_validate:function(t,n){var r=this;void 0===n&&(n={});var e=t,i=null!=n.originalValue?n.originalValue:t,u=this._option("strict",n),o=this._option("abortEarly",n),a=n.sync,s=n.path,c=this._label;u||(e=this._cast(e,Sq({assert:!1},n)));var f={value:e,path:s,schema:this,options:n,label:c,originalValue:i,sync:a},h=[];return this._typeError&&h.push(this._typeError(f)),this._whitelistError&&h.push(this._whitelistError(f)),this._blacklistError&&h.push(this._blacklistError(f)),WG({validations:h,endEarly:o,value:e,path:s,sync:a}).then((function(t){return WG({path:s,sync:a,value:t,endEarly:o,validations:r.tests.map((function(t){return t(f)}))})}))},validate:function(t,n){return void 0===n&&(n={}),this.resolve(Sq({},n,{value:t}))._validate(t,n)},validateSync:function(t,n){var r,e;if(void 0===n&&(n={}),this.resolve(Sq({},n,{value:t}))._validate(t,Sq({},n,{sync:!0})).then((function(t){return r=t})).catch((function(t){return e=t})),e)throw e;return r},isValid:function(t,n){return this.validate(t,n).then((function(){return!0})).catch((function(t){if("ValidationError"===t.name)return!1;throw t}))},isValidSync:function(t,n){try{return this.validateSync(t,n),!0}catch(r){if("ValidationError"===r.name)return!1;throw r}},getDefault:function(t){return void 0===t&&(t={}),this.resolve(t).default()},default:function(t){if(0===arguments.length){var n=Uz(this,"_default")?this._default:this._defaultDefault;return"function"==typeof n?n.call(this):tG(n)}var r=this.clone();return r._default=t,r},strict:function(t){void 0===t&&(t=!0);var n=this.clone();return n._options.strict=t,n},_isPresent:function(t){return null!=t},required:function(t){return void 0===t&&(t="${path} is a required field"),this.test({message:t,name:"required",exclusive:!0,test:function(t){return this.schema._isPresent(t)}})},notRequired:function(){var t=this.clone();return t.tests=t.tests.filter((function(t){return"required"!==t.OPTIONS.name})),t},nullable:function(t){void 0===t&&(t=!0);var n=this.clone();return n._nullable=t,n},transform:function(t){var n=this.clone();return n.transforms.push(t),n},test:function(){var t;if(void 0===(t=1===arguments.length?"function"==typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(t.message="${path} is invalid"),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");var n=this.clone(),r=MZ(t),e=t.exclusive||t.name&&!0===n._exclusive[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n._exclusive[t.name]=!!t.exclusive,n.tests=n.tests.filter((function(n){if(n.OPTIONS.name===t.name){if(e)return!1;if(n.OPTIONS.test===r.OPTIONS.test)return!1}return!0})),n.tests.push(r),n},when:function(t,n){1===arguments.length&&(n=t,t=".");var r=this.clone(),e=[].concat(t).map((function(t){return new yZ(t)}));return e.forEach((function(t){t.isSibling&&r._deps.push(t.key)})),r._conditions.push(new TG(e,n)),r},typeError:function(t){var n=this.clone();return n._typeError=MZ({message:t,name:"typeError",test:function(t){return!(void 0!==t&&!this.schema.isType(t))||this.createError({params:{type:this.schema._type}})}}),n},oneOf:function(t,n){void 0===n&&(n="${path} must be one of the following values: ${values}");var r=this.clone();return t.forEach((function(t){r._whitelist.add(t),r._blacklist.delete(t)})),r._whitelistError=MZ({message:n,name:"oneOf",test:function(t){if(void 0===t)return!0;var n=this.schema._whitelist;return!!n.has(t,this.resolve)||this.createError({params:{values:n.toArray().join(", ")}})}}),r},notOneOf:function(t,n){void 0===n&&(n="${path} must not be one of the following values: ${values}");var r=this.clone();return t.forEach((function(t){r._blacklist.add(t),r._whitelist.delete(t)})),r._blacklistError=MZ({message:n,name:"notOneOf",test:function(t){var n=this.schema._blacklist;return!n.has(t,this.resolve)||this.createError({params:{values:n.toArray().join(", ")}})}}),r},strip:function(t){void 0===t&&(t=!0);var n=this.clone();return n._strip=t,n},_option:function(t,n){return Uz(n,t)?n[t]:this._options[t]},describe:function(){var t=this.clone();return{type:t._type,meta:t._meta,label:t._label,tests:t.tests.map((function(t){return{name:t.OPTIONS.name,params:t.OPTIONS.params}})).filter((function(t,n,r){return r.findIndex((function(n){return n.name===t.name}))===n}))}},defined:function(t){return void 0===t&&(t="${path} must be defined"),this.nullable().test({message:t,name:"defined",exclusive:!0,test:function(t){return void 0!==t}})}},EZ=function(){var t=TZ[AZ];kZ[t+"At"]=function(n,r,e){void 0===e&&(e={});var i=function(t,n,r,e){var i,u,o;return void 0===e&&(e=r),n?(mZ(n,(function(a,s,c){var f=s?function(t){return t.substr(0,t.length-1).substr(1)}(a):a;if((t=t.resolve({context:e,parent:i,value:r})).innerType){var h=c?parseInt(f,10):0;if(r&&h>=r.length)throw new Error("Yup.reach cannot resolve an array item at index: "+a+", in the path: "+n+". because there is no value at that index. ");i=r,r=r&&r[h],t=t.innerType}if(!c){if(!t.fields||!t.fields[f])throw new Error("The schema does not contain the path: "+n+". (failed at: "+o+' which is a type: "'+t._type+'")');i=r,r=r&&r[f],t=t.fields[f]}u=f,o=s?"["+a+"]":"."+a})),{schema:t,parent:i,parentPath:u}):{parent:i,parentPath:n,schema:t}}(this,n,r,e.context),u=i.parent;return i.schema[t](u&&u[i.parentPath],Sq({},e,{parent:u,path:n}))}},AZ=0,TZ=["validate","validateSync"];AZ<TZ.length;AZ++)EZ();for(var xZ=0,SZ=["equals","is"];xZ<SZ.length;xZ++)kZ[SZ[xZ]]=kZ.oneOf;for(var OZ=0,IZ=["not","nope"];OZ<IZ.length;OZ++)kZ[IZ[OZ]]=kZ.notOneOf;function RZ(t,n,r){t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Sq(t.prototype,r)}function FZ(){var t=this;if(!(this instanceof FZ))return new FZ;LZ.call(this,{type:"boolean"}),this.withMutation((function(){t.transform((function(t){if(!this.isType(t)){if(/^(true|1)$/i.test(t))return!0;if(/^(false|0)$/i.test(t))return!1}return t}))}))}kZ.optional=kZ.notRequired,RZ(FZ,LZ,{_typeCheck:function(t){return t instanceof Boolean&&(t=t.valueOf()),"boolean"==typeof t}});var CZ=function(t){return null==t},DZ=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,HZ=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,jZ=function(t){return CZ(t)||t===t.trim()};function UZ(){var t=this;if(!(this instanceof UZ))return new UZ;LZ.call(this,{type:"string"}),this.withMutation((function(){t.transform((function(t){return this.isType(t)?t:null!=t&&t.toString?t.toString():t}))}))}RZ(UZ,LZ,{_typeCheck:function(t){return t instanceof String&&(t=t.valueOf()),"string"==typeof t},_isPresent:function(t){return LZ.prototype._cast.call(this,t)&&t.length>0},length:function(t,n){return void 0===n&&(n="${path} must be exactly ${length} characters"),this.test({message:n,name:"length",exclusive:!0,params:{length:t},test:function(n){return CZ(n)||n.length===this.resolve(t)}})},min:function(t,n){return void 0===n&&(n="${path} must be at least ${min} characters"),this.test({message:n,name:"min",exclusive:!0,params:{min:t},test:function(n){return CZ(n)||n.length>=this.resolve(t)}})},max:function(t,n){return void 0===n&&(n="${path} must be at most ${max} characters"),this.test({name:"max",exclusive:!0,message:n,params:{max:t},test:function(n){return CZ(n)||n.length<=this.resolve(t)}})},matches:function(t,n){var r,e,i=!1;return n&&("object"==typeof n?(i=n.excludeEmptyString,r=n.message,e=n.name):r=n),this.test({name:e||"matches",message:r||'${path} must match the following: "${regex}"',params:{regex:t},test:function(n){return CZ(n)||""===n&&i||-1!==n.search(t)}})},email:function(t){return void 0===t&&(t="${path} must be a valid email"),this.matches(DZ,{name:"email",message:t,excludeEmptyString:!0})},url:function(t){return void 0===t&&(t="${path} must be a valid URL"),this.matches(HZ,{name:"url",message:t,excludeEmptyString:!0})},ensure:function(){return this.default("").transform((function(t){return null===t?"":t}))},trim:function(t){return void 0===t&&(t="${path} must be a trimmed string"),this.transform((function(t){return null!=t?t.trim():t})).test({message:t,name:"trim",test:jZ})},lowercase:function(t){return void 0===t&&(t="${path} must be a lowercase string"),this.transform((function(t){return CZ(t)?t:t.toLowerCase()})).test({message:t,name:"string_case",exclusive:!0,test:function(t){return CZ(t)||t===t.toLowerCase()}})},uppercase:function(t){return void 0===t&&(t="${path} must be a upper case string"),this.transform((function(t){return CZ(t)?t:t.toUpperCase()})).test({message:t,name:"string_case",exclusive:!0,test:function(t){return CZ(t)||t===t.toUpperCase()}})}}),RZ((function t(){var n=this;if(!(this instanceof t))return new t;LZ.call(this,{type:"number"}),this.withMutation((function(){n.transform((function(t){var n=t;if("string"==typeof n){if(""===(n=n.replace(/\s/g,"")))return NaN;n=+n}return this.isType(n)?n:parseFloat(n)}))}))}),LZ,{_typeCheck:function(t){return t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&!function(t){return t!=+t}(t)},min:function(t,n){return void 0===n&&(n="${path} must be greater than or equal to ${min}"),this.test({message:n,name:"min",exclusive:!0,params:{min:t},test:function(n){return CZ(n)||n>=this.resolve(t)}})},max:function(t,n){return void 0===n&&(n="${path} must be less than or equal to ${max}"),this.test({message:n,name:"max",exclusive:!0,params:{max:t},test:function(n){return CZ(n)||n<=this.resolve(t)}})},lessThan:function(t,n){return void 0===n&&(n="${path} must be less than ${less}"),this.test({message:n,name:"max",exclusive:!0,params:{less:t},test:function(n){return CZ(n)||n<this.resolve(t)}})},moreThan:function(t,n){return void 0===n&&(n="${path} must be greater than ${more}"),this.test({message:n,name:"min",exclusive:!0,params:{more:t},test:function(n){return CZ(n)||n>this.resolve(t)}})},positive:function(t){return void 0===t&&(t="${path} must be a positive number"),this.moreThan(0,t)},negative:function(t){return void 0===t&&(t="${path} must be a negative number"),this.lessThan(0,t)},integer:function(t){return void 0===t&&(t="${path} must be an integer"),this.test({name:"integer",message:t,test:function(t){return CZ(t)||Number.isInteger(t)}})},truncate:function(){return this.transform((function(t){return CZ(t)?t:0|t}))},round:function(t){var n=["ceil","floor","round","trunc"];if("trunc"===(t=t&&t.toLowerCase()||"round"))return this.truncate();if(-1===n.indexOf(t.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((function(n){return CZ(n)?n:Math[t](n)}))}});var _Z=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/,PZ=new Date("");function WZ(t,n){return n||(n=t.slice(0)),t.raw=n,t}RZ((function t(){var n=this;if(!(this instanceof t))return new t;LZ.call(this,{type:"date"}),this.withMutation((function(){n.transform((function(t){return this.isType(t)?t:(t=function(t){var n,r,e=[1,4,5,6,7,10,11],i=0;if(r=_Z.exec(t)){for(var u,o=0;u=e[o];++o)r[u]=+r[u]||0;r[2]=(+r[2]||1)-1,r[3]=+r[3]||1,r[7]=r[7]?String(r[7]).substr(0,3):0,void 0!==r[8]&&""!==r[8]||void 0!==r[9]&&""!==r[9]?("Z"!==r[8]&&void 0!==r[9]&&(i=60*r[10]+r[11],"+"===r[9]&&(i=0-i)),n=Date.UTC(r[1],r[2],r[3],r[4],r[5]+i,r[6],r[7])):n=+new Date(r[1],r[2],r[3],r[4],r[5],r[6],r[7])}else n=Date.parse?Date.parse(t):NaN;return n}(t),isNaN(t)?PZ:new Date(t))}))}))}),LZ,{_typeCheck:function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},min:function(t,n){void 0===n&&(n="${path} field must be later than ${min}");var r=t;if(!yZ.isRef(r)&&(r=this.cast(t),!this._typeCheck(r)))throw new TypeError("`min` must be a Date or a value that can be `cast()` to a Date");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},test:function(t){return CZ(t)||t>=this.resolve(r)}})},max:function(t,n){void 0===n&&(n="${path} field must be at earlier than ${max}");var r=t;if(!yZ.isRef(r)&&(r=this.cast(t),!this._typeCheck(r)))throw new TypeError("`max` must be a Date or a value that can be `cast()` to a Date");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},test:function(t){return CZ(t)||t<=this.resolve(r)}})}});var BZ=function(t){return function(n){return null==t?void 0:t[n]}}({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),$Z=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,YZ=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),qZ=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zZ=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,VZ="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",GZ="["+VZ+"]",ZZ="\\d+",XZ="[a-z\\xdf-\\xf6\\xf8-\\xff]",KZ="[^\\ud800-\\udfff"+VZ+ZZ+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",JZ="(?:\\ud83c[\\udde6-\\uddff]){2}",QZ="[\\ud800-\\udbff][\\udc00-\\udfff]",tX="[A-Z\\xc0-\\xd6\\xd8-\\xde]",nX="(?:"+XZ+"|"+KZ+")",rX="(?:"+tX+"|"+KZ+")",eX="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",iX="[\\ufe0e\\ufe0f]?"+eX+"(?:\\u200d(?:"+["[^\\ud800-\\udfff]",JZ,QZ].join("|")+")[\\ufe0e\\ufe0f]?"+eX+")*",uX="(?:"+["[\\u2700-\\u27bf]",JZ,QZ].join("|")+")"+iX,oX=RegExp([tX+"?"+XZ+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[GZ,tX,"$"].join("|")+")",rX+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[GZ,tX+nX,"$"].join("|")+")",tX+"?"+nX+"+(?:['’](?:d|ll|m|re|s|t|ve))?",tX+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ZZ,uX].join("|"),"g"),aX=RegExp("['’]","g");function sX(t){return function(n){return function(t,n,r){for(var e=-1,i=null==t?0:t.length;++e<i;)r=n(r,t[e],e,t);return r}(function(t,n,r){return t=Az(t),void 0===(n=r?void 0:n)?function(t){return zZ.test(t)}(t)?function(t){return t.match(oX)||[]}(t):function(t){return t.match(qZ)||[]}(t):t.match(n)||[]}(function(t){return(t=Az(t))&&t.replace($Z,BZ).replace(YZ,"")}(n).replace(aX,"")),t,"")}}var cX=sX((function(t,n,r){return t+(r?"_":"")+n.toLowerCase()})),fX=function(t){var n=iG(t=Az(t))?vG(t):void 0,r=n?n[0]:t.charAt(0),e=n?function(t,n,r){var e=t.length;return r=void 0===r?e:r,!n&&r>=e?t:function(t,n,r){var e=-1,i=t.length;n<0&&(n=-n>i?0:i+n),(r=r>i?i:r)<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var u=Array(i);++e<i;)u[e]=t[e+n];return u}(t,n,r)}(n,1).join(""):t.slice(1);return r.toUpperCase()+e},hX=sX((function(t,n,r){return n=n.toLowerCase(),t+(r?function(t){return fX(Az(t).toLowerCase())}(n):n)})),lX=function(t){return dX(function(t){for(var n=new Set,r=0,e=t.length;r<e;r++){var i=t[r];n.add(i[0]),n.add(i[1])}return Array.from(n)}(t),t)};function dX(t,n){var r=t.length,e=new Array(r),i={},u=r,o=function(t){for(var n=new Map,r=0,e=t.length;r<e;r++){var i=t[r];n.has(i[0])||n.set(i[0],new Set),n.has(i[1])||n.set(i[1],new Set),n.get(i[0]).add(i[1])}return n}(n),a=function(t){for(var n=new Map,r=0,e=t.length;r<e;r++)n.set(t[r],r);return n}(t);for(n.forEach((function(t){if(!a.has(t[0])||!a.has(t[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));u--;)i[u]||s(t[u],u,new Set);return e;function s(t,n,u){if(u.has(t)){var c;try{c=", node was:"+JSON.stringify(t)}catch(l){c=""}throw new Error("Cyclic dependency"+c)}if(!a.has(t))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(t));if(!i[n]){i[n]=!0;var f=o.get(t)||new Set;if(n=(f=Array.from(f)).length){u.add(t);do{var h=f[--n];s(h,a.get(h),u)}while(n);u.delete(t)}e[--r]=t}}}function vX(t,n){void 0===n&&(n=[]);var r=[],e=[];function i(t,i){var u=bZ(t)[0];~e.indexOf(u)||e.push(u),~n.indexOf(i+"-"+u)||r.push([i,u])}for(var u in t)if(Uz(t,u)){var o=t[u];~e.indexOf(u)||e.push(u),yZ.isRef(o)&&o.isSibling?i(o.path,u):AG(o)&&o._deps&&o._deps.forEach((function(t){return i(t,u)}))}return lX.array(e,r).reverse()}function pX(t,n){var r=1/0;return t.some((function(t,e){if(-1!==n.path.indexOf(t))return r=e,!0})),r}function bX(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];var i=t.reduce((function(t,n){var e=r.shift();return t+(null==e?"":e)+n}));return i.replace(/^\./,"")}function wX(){var t=WZ(["",'["','"]']);return wX=function(){return t},t}function mX(){var t=WZ(["",".",""]);return mX=function(){return t},t}function yX(){var t=WZ(["",".",""]);return yX=function(){return t},t}lX.array=dX;var gX=function(t){return"[object Object]"===Object.prototype.toString.call(t)};function MX(t){var n=this;if(!(this instanceof MX))return new MX(t);LZ.call(this,{type:"object",default:function(){var t=this;if(this._nodes.length){var n={};return this._nodes.forEach((function(r){n[r]=t.fields[r].default?t.fields[r].default():void 0})),n}}}),this.fields=Object.create(null),this._nodes=[],this._excludedEdges=[],this.withMutation((function(){n.transform((function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(n){t=null}return this.isType(t)?t:null})),t&&n.shape(t)}))}function NX(){var t=WZ(["","[","]"]);return NX=function(){return t},t}function LX(){var t=WZ(["","[","]"]);return LX=function(){return t},t}function kX(t){var n=this;if(!(this instanceof kX))return new kX(t);LZ.call(this,{type:"array"}),this._subType=void 0,this.innerType=void 0,this.withMutation((function(){n.transform((function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(n){t=null}return this.isType(t)?t:null})),t&&n.of(t)}))}RZ(MX,LZ,{_typeCheck:function(t){return gX(t)||"function"==typeof t},_cast:function(t,n){var r=this;void 0===n&&(n={});var e=LZ.prototype._cast.call(this,t,n);if(void 0===e)return this.default();if(!this._typeCheck(e))return e;var i=this.fields,u=!0===this._option("stripUnknown",n),o=this._nodes.concat(Object.keys(e).filter((function(t){return-1===r._nodes.indexOf(t)}))),a={},s=Sq({},n,{parent:a,__validating:!1}),c=!1;return o.forEach((function(t){var r=i[t],o=Uz(e,t);if(r){var f,h=r._options&&r._options.strict;if(s.path=bX(yX(),n.path,t),s.value=e[t],!0===(r=r.resolve(s))._strip)return void(c=c||t in e);void 0!==(f=n.__validating&&h?e[t]:r.cast(e[t],s))&&(a[t]=f)}else o&&!u&&(a[t]=e[t]);a[t]!==e[t]&&(c=!0)})),c?a:e},_validate:function(t,n){var r,e,i=this;void 0===n&&(n={});var u=n.sync,o=[],a=null!=n.originalValue?n.originalValue:t;return r=this._option("abortEarly",n),e=this._option("recursive",n),n=Sq({},n,{__validating:!0,originalValue:a}),LZ.prototype._validate.call(this,t,n).catch(PG(r,o)).then((function(t){if(!e||!gX(t)){if(o.length)throw o[0];return t}a=a||t;var s,c,f=i._nodes.map((function(r){var e=-1===r.indexOf(".")?bX(mX(),n.path,r):bX(wX(),n.path,r),o=i.fields[r],s=Sq({},n,{path:e,parent:t,originalValue:a[r]});return o&&o.validate?(s.strict=!0,o.validate(t[r],s)):function(t){return t?DG:Promise}(u).resolve(!0)}));return WG({sync:u,validations:f,value:t,errors:o,endEarly:r,path:n.path,sort:(s=i.fields,c=Object.keys(s),function(t,n){return pX(c,t)-pX(c,n)})})}))},concat:function(t){var n=LZ.prototype.concat.call(this,t);return n._nodes=vX(n.fields,n._excludedEdges),n},shape:function(t,n){void 0===n&&(n=[]);var r=this.clone(),e=Sq(r.fields,t);if(r.fields=e,n.length){Array.isArray(n[0])||(n=[n]);var i=n.map((function(t){return t[0]+"-"+t[1]}));r._excludedEdges=r._excludedEdges.concat(i)}return r._nodes=vX(e,r._excludedEdges),r},from:function(t,n,r){var e=wZ(t,!0);return this.transform((function(i){if(null==i)return i;var u=i;return Uz(i,t)&&(u=Sq({},i),r||delete u[t],u[n]=e(i)),u}))},noUnknown:function(t,n){void 0===t&&(t=!0),void 0===n&&(n="${path} field has unspecified keys: ${unknown}"),"string"==typeof t&&(n=t,t=!0);var r=this.test({name:"noUnknown",exclusive:!0,message:n,test:function(n){if(null==n)return!0;var r=function(t,n){var r=Object.keys(t.fields);return Object.keys(n).filter((function(t){return-1===r.indexOf(t)}))}(this.schema,n);return!t||0===r.length||this.createError({params:{unknown:r.join(", ")}})}});return r._options.stripUnknown=t,r},unknown:function(t,n){return void 0===t&&(t=!0),void 0===n&&(n="${path} field has unspecified keys: ${unknown}"),this.noUnknown(!t,n)},transformKeys:function(t){return this.transform((function(n){return n&&function(t,n){var r={};return n=eZ(n),$G(t,(function(t,e,i){Wz(r,n(t,e,i),t)})),r}(n,(function(n,r){return t(r)}))}))},camelCase:function(){return this.transformKeys(hX)},snakeCase:function(){return this.transformKeys(cX)},constantCase:function(){return this.transformKeys((function(t){return cX(t).toUpperCase()}))},describe:function(){var t=LZ.prototype.describe.call(this);return t.fields=iZ(this.fields,(function(t){return t.describe()})),t}}),RZ(kX,LZ,{_typeCheck:function(t){return Array.isArray(t)},_cast:function(t,n){var r=this,e=LZ.prototype._cast.call(this,t,n);if(!this._typeCheck(e)||!this.innerType)return e;var i=!1,u=e.map((function(t,e){var u=r.innerType.cast(t,Sq({},n,{path:bX(LX(),n.path,e)}));return u!==t&&(i=!0),u}));return i?u:e},_validate:function(t,n){var r=this;void 0===n&&(n={});var e=[],i=n.sync,u=n.path,o=this.innerType,a=this._option("abortEarly",n),s=this._option("recursive",n),c=null!=n.originalValue?n.originalValue:t;return LZ.prototype._validate.call(this,t,n).catch(PG(a,e)).then((function(t){if(!s||!o||!r._typeCheck(t)){if(e.length)throw e[0];return t}c=c||t;var f=t.map((function(r,e){var i=bX(NX(),n.path,e),u=Sq({},n,{path:i,strict:!0,parent:t,originalValue:c[e]});return!o.validate||o.validate(r,u)}));return WG({sync:i,path:u,value:t,errors:e,endEarly:a,validations:f})}))},_isPresent:function(t){return LZ.prototype._cast.call(this,t)&&t.length>0},of:function(t){var n=this.clone();if(!1!==t&&!AG(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema, or `false` to negate a current sub-schema. not: "+kG(t));return n._subType=t,n.innerType=t,n},min:function(t,n){return this.test({message:n=n||"${path} field must have at least ${min} items",name:"min",exclusive:!0,params:{min:t},test:function(n){return CZ(n)||n.length>=this.resolve(t)}})},max:function(t,n){return this.test({message:n=n||"${path} field must have less than or equal to ${max} items",name:"max",exclusive:!0,params:{max:t},test:function(n){return CZ(n)||n.length<=this.resolve(t)}})},ensure:function(){var t=this;return this.default((function(){return[]})).transform((function(n,r){return t._typeCheck(n)?n:null==r?[]:[].concat(r)}))},compact:function(t){var n=t?function(n,r,e){return!t(n,r,e)}:function(t){return!!t};return this.transform((function(t){return null!=t?t.filter(n):t}))},describe:function(){var t=LZ.prototype.describe.call(this);return this.innerType&&(t.innerType=this.innerType.describe()),t}});var EX=function(t,n){return new yZ(t,n)};function AX(t,n,r){if(!t||!AG(t.prototype))throw new TypeError("You must provide a yup schema constructor function");if("string"!=typeof n)throw new TypeError("A Method name must be provided");if("function"!=typeof r)throw new TypeError("Method function must be provided");t.prototype[n]=r}var TX=5,xX=50,SX=40,OX=250,IX=40,RX=250,FX=40,CX=500,DX=40,HX=500,jX=40,UX=250,_X=40,PX=250,WX=125,BX=125,$X=5,YX=50,qX=25,zX=125,VX=25,GX=125,ZX=1,XX={WARNINGS:{TITLE:"Either mainTitle or accessibility.title is required",LONGDESCRIPTION:"Either accessibility.longDescription or accessibility.contextExplanation is required",EXECUTIVESUMMARY:"Either accessibility.purpose or accessibility.executiveSummary is required",ONCLICKFUNC:"accessibility.elementsAreInterface needs a boolean value either true or false",ANNOTATIONDESCRIPTION:"Either annotation.accessibilityDescription or annotation.note.label is required",WARNINGLOGGROUP:"CHARTNAME has accessibility warnings and other messages",NORMALIZED:"Either tooltipLabel or dataLabel should have normalized format"},RECOMMENDATIONS:{EXECUTIVESUMMARY:"Either accessibility.purpose or accessibility.executiveSummary should have minimum 40 characters and a combined length between 40 and 250 characters",LONGDESCRIPTION:"Either accessibility.longDescription or accessibility.contextExplanation should have minimum 40 characters and a combined length between 40 and 500 characters",TITLE:"Either mainTitle or accessibility.title should have length between 5 and 50 characters",STATISTICALNOTES:"accessibility.statisticalNotes should have length between 40 and 250 characters",STRUCTURENOTES:"accessibility.structureNotes should have length between 40 and 250 characters",DATAELEMENTDESCRIPTIONACCESSOR:"accessibility.elementDescriptionAccessor should have length between 0 and 125 characters",ELEMENTDESCRIPTIONACCESSOR:"Passing accessibility.elementDescriptionAccessor can add description to chart elements",ANNOTATIONNOTETITLE:"Should have length between 5 and 50 characters",ANNOTATIONNOTELABEL:"Should have length between 25 and 125 characters",ANNOTATIONACCESSIBILITYDESCRIPTION:"Should have length between 25 and 125 characters",UNIQUEID:"Should have human readable uniqueID",INCLUDEDATAKEYNAMES:"accessibility.includeDataKeyNames: data's key names are recommended as human-readable with includeDataKeyNames set to true",RECOMMENDATIONLOGGROUP:"CHARTNAME has strong accessibility recommendations",SPECIALRECOMMENDATION:"Success! CHARTNAME has met minimum accessibility, we recommend you disable accessibility validation by setting accessibility.disableValidation"}},KX={abortEarly:!1},JX={requiredSchema:UZ().required().trim(),requiredSubSchema:MX().shape({label:UZ().required().trim()}),requiredBooleanSchema:FZ().required()},QX=function(t,n){return UZ().required().trim().min(t).max(n)},tK=function(t,n,r,e,i){return this.test({message:t,test:function(t){var u=this.resolve(n),o=this.resolve(r),a=this.resolve(e);if(t&&UZ().min(1).isValidSync(a,KX)){var s=Array.prototype.findIndex.call(u.labelAccessor,(function(t){return t.trim()===(""+a).trim()}));return i.isValidSync(s>-1?((u||{}).format||[""])[s]:(o||{}).format,KX)}return!0}})},nK=function(t,n,r,e){return this.test({message:t,test:function(t){e=e||r;var i=this.resolve(n),u=r.isValidSync(t,KX);return!(!e.isValidSync(i,KX)&&!u)}})},rK=function(t,n,r,e){return this.test({message:e,test:function(e){var i=this.resolve(r);return!t.isValidSync(i,KX)||n.isValidSync(e,{abortyEarly:!1,strict:!0})}})},eK=function(t,n,r,e){return this.test({message:e,test:function(e){var i=(this.resolve(r)||"").toString().trim(),u=(e||"").toString().trim(),o=""+i+u,a=t.isValidSync(i,KX),s=t.isValidSync(u,KX),c=n.isValidSync(o,KX);return!(i.length&&!a||u.length&&!s||!s&&!a||!c)}})},iK=function(t,n){return this.test({message:n,test:function(n){return t.isValidSync(n,KX)}})},uK=Object.freeze({__proto__:null,accessibility:{longDescription:"",executiveSummary:"",purpose:"",contextExplanation:"",title:"",elementDescriptionAccessor:"",statisticalNotes:"",structureNotes:"",includeDataKeyNames:!1,hideDataTableButton:!1,disableValidation:!1,elementsAreInterface:null,hideTextures:!1,hideStrokes:!1,showSmallLabels:!1,showExperimentalTextures:!1,keyboardNavConfig:{disabled:!1}},animationConfig:{disabled:!1},highestHeadingLevel:"h2",sortOrder:"",sortOrderAsc:"asc",sortOrderDesc:"desc",layout:"vertical",xAxis:{visible:!0,gridVisible:!0,label:"X Axis",format:"0[.][0][0]a",tickInterval:1},xAxisDate:{visible:!0,gridVisible:!1,label:"X Axis",unit:"month",format:"%b %y",tickInterval:1},yAxis:{visible:!0,gridVisible:!0,label:"Y Axis",format:"0[.][0][0]a",tickInterval:1},wrapLabel:!0,colorPaletteSingle:"single_blue",colorPaletteSequential:"sequential_suppPurple",colorPaletteSequentialGrey:"sequential_grey",colorPaletteDiverging:"diverging_RtoB",colorPaletteCategorical:"categorical",colorSteps4:4,colorSteps5:5,hoverStyle:{color:"",strokeWidth:2},clickStyle:{color:"",strokeWidth:2},symbolHoverStyle:{color:"",strokeWidth:2},symbolClickStyle:{color:"",strokeWidth:3},referenceStyle:{color:"pri_grey",strokeWidth:"1px",opacity:1,dashed:""},seriesLabel:{visible:!0,placement:"right",label:[],collisionHideOnly:!1},cursor:"default",hoverOpacity:1,strokeWidth1:1,strokeWidth2:2,roundedCorner:0,barIntervalRatio:.2,dotRadius6:6,dotRadius5:5,dotRadius4:4,dotOpacity:1,dotSymbols:["circle"],showDots:!0,showFitLine:!1,showBaselineTrue:!0,showBaselineFalse:!1,secondaryLines:{keys:[],showDataLabel:!0,showSeriesLabel:!0,opacity:1},hiddenDataLabel:{visible:!1,placement:"bottom",labelAccessor:"",format:"",collisionHideOnly:!1,collisionPlacement:"all"},dataLabel:{visible:!0,placement:"top",labelAccessor:"",format:"0[.][0][0]a",collisionHideOnly:!1,collisionPlacement:"top"},dataLabelLine:{visible:!0,placement:"top",labelAccessor:"",format:"0[.][0][0]a",collisionHideOnly:!1,collisionPlacement:"all"},dataLabelOutside:{visible:!0,placement:"outside",labelAccessor:"",format:"0[.][0][0]a",collisionHideOnly:!1},dataLabelMiddle:{visible:!0,placement:"middle",labelAccessor:"",format:"0[.][0][0]a",collisionHideOnly:!1,collisionPlacement:"middle"},dataLabelCenter:{visible:!0,placement:"center",labelAccessor:"",format:"",collisionHideOnly:!1,collisionPlacement:"centroid"},dataLabelEnds:{visible:!0,placement:"ends",labelAccessor:"",format:"0[.][0][0]a",collisionHideOnly:!1},dataLabelBottomRight:{visible:!0,placement:"bottom-right",labelAccessor:"",format:"0[.][0][0]a",collisionHideOnly:!1,collisionPlacement:"right"},dataLabelNormalizedOut:{visible:!0,placement:"outside",labelAccessor:"",format:"normalized",collisionHideOnly:!1},tooltipLabel:{labelAccessor:[],labelTitle:[],format:""},legend:{visible:!0,interactive:!1,format:"0[.][0][0]a",labels:""},categoryLegend:{visible:!0,interactive:!1,format:"",labels:""},keyLegend:{visible:!0,interactive:!1,type:"key",format:"0[.][0][0]a",labels:""},hiddenLegend:{visible:!1,interactive:!1,labels:""},showTooltip:!0,suppressEvents:!1,referenceLines:[],annotations:[],clickHighlight:[]});function oK(t){return t.target.depth}function aK(t,n){return t.sourceLinks.length?t.depth:n-1}function sK(t){return function(){return t}}function cK(t,n){return hK(t.source,n.source)||t.index-n.index}function fK(t,n){return hK(t.target,n.target)||t.index-n.index}function hK(t,n){return t.y0-n.y0}function lK(t){return t.value}function dK(t){return t.index}function vK(t){return t.nodes}function pK(t){return t.links}function bK(t,n){var r=t.get(n);if(!r)throw new Error("missing: "+n);return r}function wK(t){for(var n=0,r=t.nodes;n<r.length;n++){for(var e=r[n],i=e.y0,u=i,o=0,a=e.sourceLinks;o<a.length;o++)(f=a[o]).y0=i+f.width/2,i+=f.width;for(var s=0,c=e.targetLinks;s<c.length;s++){var f;(f=c[s]).y1=u+f.width/2,u+=f.width}}}function mK(t){return[t.source.x1,t.y0]}function yK(t){return[t.target.x0,t.y1]}return window.VisaChartsLibOSSLicenses=Jc(),e({},Object.freeze({__proto__:null,autoTextColor:function(t){var n=Qs(qs.light_text),r=Qs(qs.dark_text),e=Qs(t),i=tc(n,e),u=tc(r,e);return u<4.5&&i<4.5||u>i?qs.dark_text:qs.light_text},buildStrokes:function(t){var n=t.root,r=t.id,e=t.clickStyle,i=t.hoverStyle,u=t.additionalStrokeSize,o=t.strokeOnHover,a=t.stacked,s=t.strokeOverride,c={},f=u||0===u,h=0;return t.colors.forEach((function(t){c["rest"+t]||(c["rest"+t]=ac({root:n,id:r,state:"rest",fillColor:t,forceStrokeColor:s&&s.length?s[h]:void 0,strokeWidth:f?u:1,includeOuterStroke:!0,alwaysShowStroke:!!f,stacked:a})),f&&!c["default"+t]&&(c["default"+t]=ac({root:n,id:r,state:"default",fillColor:t,forceStrokeColor:s&&s.length?s[h]:void 0,strokeWidth:1,includeOuterStroke:!0,alwaysShowStroke:!!f,stacked:a})),i&&i.color&&!c["hover"+i.color]?c["hover"+i.color]=ac({root:n,id:r,state:"hover",fillColor:i.color,strokeWidth:i&&i.strokeWidth?parseFloat(i.strokeWidth):2,includeOuterStroke:!0,strokeOnHover:o,alwaysShowStroke:!!f,stacked:a}):c["hover"+t]=ac({root:n,id:r,state:"hover",fillColor:t,forceStrokeColor:s&&s.length?s[h]:void 0,strokeWidth:i&&i.strokeWidth?parseFloat(i.strokeWidth):2,includeOuterStroke:!0,strokeOnHover:o,alwaysShowStroke:!!f,stacked:a}),e&&e.color&&!c["click"+e.color]?c["click"+e.color]=ac({root:n,id:r,state:"click",fillColor:e.color,strokeWidth:e&&e.strokeWidth?parseFloat(e.strokeWidth):2,includeOuterStroke:!0,alwaysShowStroke:!!f,stacked:a}):c["click"+t]=ac({root:n,id:r,state:"click",fillColor:t,forceStrokeColor:s&&s.length?s[h]:void 0,strokeWidth:e&&e.strokeWidth?parseFloat(e.strokeWidth):2,includeOuterStroke:!0,alwaysShowStroke:!!f,stacked:a}),h++})),c},checkAttributeTransitions:function(t,n){for(var r=!1,e=0;!r&&e<n.length;){var i=n[e];r=!((i.numeric?parseFloat(t.attr(i.attr)):t.attr(i.attr))===i.newValue),e++}return r},createTextStrokeFilter:function(t){var n=t.root,r=t.id,e=t.color,i=t.strokeSizeOverride,u="#"===e[0]?e.substr(1):e,o=((i||"")+"").replace(".","p"),a="VCL-t-s-f-"+u+o,s=a+r+o,c=pt(n).select("."+a);if(c.size())c.attr("id",s);else{var f=pt(n).select("defs");f.size()||(f=pt(n).append("defs")),(c=f.append("filter").attr("id",s).attr("class",a)).append("feMorphology").attr("in","SourceAlpha").attr("result","dilatedText").attr("operator","dilate").attr("radius",i||1.5),c.append("feFlood").attr("flood-color",e||"#ffffff").attr("flood-opacity",1).attr("result","whiteTextFlood"),c.append("feComposite").attr("in","whiteTextFlood").attr("in2","dilatedText").attr("operator","in").attr("result","textOutline");var h=c.append("feMerge");h.append("feMergeNode").attr("in","textOutline"),i||(h.append("feMergeNode").attr("in","textOutline"),h.append("feMergeNode").attr("in","textOutline")),h.append("feMergeNode").attr("in","SourceGraphic")}return hc(s)},getBrowser:Tt,getOS:function(){return At.os.name},findTagLevel:Wf,createUrl:Dt,createMultiStrokeFilter:ac,removeFilters:function(t){pt(t).selectAll(".VCL-accessibility-stroke-filter").remove()},drawHoverStrokes:function(t){var n=t.inputElement,r=t.id,e=t.key,i=t.strokeWidth,u=t.fill,o=t.recursive,a=t.strokeOverride,s=Xs(u),c=a||s[0],f=!!s[1],h=lc(r,e),l="DIV"!==n.tagName?n:pt(n.parentNode).select("svg").node(),d="vcl-accessibility-focus";pt(l).style("outline").includes("auto")&&pt(l).style("outline-width","0px").style("outline-offset","0px").style("outline-color","none");var v=l.parentNode;(function(t,n){var r=pt(t.ownerSVGElement);r.selectAll(".vcl-accessibility-focus-hoverSource").classed("vcl-accessibility-focus-hoverSource",!1),r.select("#VCL-clip-"+n).remove(),r.select("#VCL-hover-stroke-"+n).remove(),r.select("#VCL-buffer-stroke"+n).remove(),r.select("#VCL-parent-"+n).remove()})(v,h),pt(l).classed(d+"-hoverSource",!0);var p=l.cloneNode(!1),b=f?l.cloneNode(!1):null,w=l.cloneNode(!1),m=document.createElementNS("http://www.w3.org/2000/svg","clipPath");if(m.appendChild(w),o)l.nextSibling?(f&&v.insertBefore(b,l.nextSibling),v.insertBefore(p,l.nextSibling),v.insertBefore(m,l.nextSibling)):(v.appendChild(m),v.appendChild(p),f&&v.appendChild(b));else{var y=v.parentNode,g=v.cloneNode(!1),M=pt(g).attr("id","VCL-parent-"+h);g.appendChild(m),g.appendChild(p),f&&g.appendChild(b),v.nextSibling?y.insertBefore(g,v.nextSibling):y.appendChild(g),cc(M,d)}var N="VCL-clip-"+h,L=hc(N);pt(m).attr("id",N).attr("clipPathUnits","userSpaceOnUse").attr("class",d+"-highlight "+d+"-hover");var k=pt(w).attr("id","VCL-clip-element-"+h).style("opacity",1).attr("opacity",1);cc(k,d);var E=pt(p).attr("id","VCL-buffer-stroke-"+h).style("opacity",1).attr("opacity",1).style("stroke",c);if(cc(E,d),fc(E,i,L,f,!0),f){var A=pt(b).attr("id","VCL-buffer-stroke-"+h).style("opacity",1).attr("opacity",1).style("stroke",u);cc(A,d),fc(A,1,L,!1,!1)}},removeHoverStrokes:function(t){var n="vcl-accessibility-focus";pt(t).selectAll("."+n+"-hoverSource").classed(n+"-hoverSource",!1),pt(t).selectAll("."+n+"-hover").remove()},mirrorStrokeTransition:function(t){var n=t.attribute,r=t.newValue,e=t.easing,i=t.duration,u=lc(t.id,t.key);["VCL-clip-element-","VCL-buffer-stroke-","VCL-buffer-stroke-"].forEach((function(t){var o=pt("#"+t+u);o.size()&&(i&&(o=o.transition(n).duration(i),e&&(o=o.ease(e))),o.attr(n,r))}))},initializeElementAccess:function(t){pt(t).attr("tabindex",-1).attr("role","presentation").attr("focusable",!1)},initializeDescriptionRoot:function(t){var n=t.rootEle,r=t.title,e=t.chartTag,i=t.uniqueID,u=t.redraw,o=t.disableKeyNav,a=Wf(t.highestHeadingLevel,0),s=Wf(a="h1"===a?"h2":a,1),c=Wf(a,2),f=Wf(a,3),h=pt(n).select(".vcl-accessibility-instructions");h.size()&&!u||(pt(n).select(".vcl-main-title").attr("aria-hidden","true"),pt(n).select(".vcl-sub-title").attr("aria-hidden","true"),h.size()?h.selectAll("*").remove():h=pt(n).select(".o-layout").insert("div",":first-child").attr("class","vcl-accessibility-instructions").style("position","absolute").style("width","200px"),h.append(f).attr("class","screen-reader-info vcl-region-label"),h.append(a).attr("class","screen-reader-info vcl-access-title").text(Pf["vcl-access-title"]),h.append(s).attr("class","screen-reader-info vcl-access-subtitle").text(Pf["vcl-access-subtitle"]),h.append(s).attr("class","screen-reader-info vcl-access-executive-summary-heading").text(Pf.headings),h.append(f).attr("class","screen-reader-info vcl-access-executive-summary").attr("data-level",s).text(Pf["vcl-access-executive-summary"]),h.append(s).attr("class","screen-reader-info vcl-access-purpose-heading").text(Pf.headings),h.append(f).attr("class","screen-reader-info vcl-access-purpose").attr("data-level",s).text(Pf["vcl-access-purpose"]),h.append(s).attr("class","screen-reader-info vcl-access-long-description-heading").text(Pf.headings),h.append(f).attr("class","screen-reader-info vcl-access-long-description").attr("data-level",s).text(Pf["vcl-access-long-description"]),h.append(f).attr("data-level",s).attr("class","screen-reader-info vcl-access-context").text(Pf["vcl-access-context"]),h.append(s).attr("class","screen-reader-info vcl-access-structure-heading").text("Structure"),h.append(c).attr("class","screen-reader-info vcl-access-statistics-heading").text(Pf.headings),h.append(f).attr("class","screen-reader-info vcl-access-statistics").attr("data-level",c).text(Pf["vcl-access-statistics"]),h.append(c).attr("class","screen-reader-info vcl-access-chart-layout-heading").text("Chart Layout Description"),h.append(f).attr("class","screen-reader-info vcl-access-layout").text(Pf["vcl-access-layout"]),h.append(f).attr("class","screen-reader-info vcl-access-xAxis").text(Pf["vcl-access-xAxis"]),h.append(f).attr("class","screen-reader-info vcl-access-yAxis").text(Pf["vcl-access-yAxis"]),h.append(c).attr("class","screen-reader-info vcl-access-notes-heading").text(Pf.headings),h.append(f).attr("class","screen-reader-info vcl-access-notes").attr("data-level",c).attr("data-annotationlevel",s).text(Pf["vcl-access-notes"]),h.append(s).attr("class","screen-reader-info vcl-access-annotations-heading").text(Pf.headings)),h.attr("id","chart-instructions-"+i);var l=r?", Titled: "+r:", with no title provided.",d="Keyboard interactive "+e+l+". This section contains additional information about this chart. Pressing TAB will focus the keyboard instructions menu. Tabbing again takes you to the chart area.",v="Static "+e+" image"+l+". This section contains additional information about this chart. Pressing TAB will focus the data table button.";h.select(".vcl-region-label").text(o?v:d)},setElementFocusHandler:function(t){var n=t.geomType,r=t.includeKeyNames,e=t.dataKeys,i=t.groupKeys,u=t.nested,o=t.recursive,a=t.groupName,s=t.uniqueID,c=t.disableKeyNav;pt(t.node).on("focus",c?null:function(t,c,f){var h=f[c].id;if(h){var l=document.getElementById("chart-area-"+s),d=pt(l).attr("data-sgck"),v=pt(l).attr("data-group");lf({rootNode:l,nodeID:h,geomType:n,includeKeyNames:r,dataKeys:e,groupKeys:i,nested:u,groupName:a,groupAccessor:v,recursive:o,sameGroupCousinKey:d,deleteControllers:!1}),Of(f[c])}})},setElementAccessID:function(t){var n=t.node,r=t.uniqueID;pt(n).attr("id",(function(){return n.id?n.id:r+"-"+Math.round(1e6*Math.random())+"-"+Math.round(1e6*Math.random())+"-"+Math.round(1e6*Math.random())}))},setTooltipAccess:Rt,setLegendAccess:Ft,setHighContrastListener:Ht,createLabel:uf,createGroupLabel:of,setAccessibilityController:function(t){var n=t.node,r=t.chartTag,e=t.title,i=t.description,u=t.uniqueID,o=t.geomType,a=t.includeKeyNames,s=t.dataKeys,c=t.groupKeys,f=t.nested,h=t.groupName,l=t.groupAccessor,d=t.recursive,v=t.disableKeyNav,p=pt(n),b=!l||"bar-chart"!==r&&"world-map"!==r?"":l;p.attr("role","presentation").attr("focusable",!1).attr("tabindex",-1).style("overflow","hidden").on("focus",v?null:function(){Mf(pt(w).select(".VCL-controller").node())});var w=n.parentNode,m=pt(w).select(".VCL-controller"),y=function(){return e+". "+(i?i+". ":"")+" Navigate into the chart area by pressing ENTER. ID: "+u};m.size()||(pt(w).style("position","relative"),(m=pt(w).insert("div",":first-child")).attr("class","VCL-controller").style("position","absolute").style("top",0).style("left",0).style("opacity",0).style("pointer-events","none"));var g=n.getBoundingClientRect();m.style("width",g.width+"px").style("height",g.height+"px").attr("id","chart-area-"+u).attr("data-sgck",b||null).attr("data-group",l).attr("aria-label",v?null:y()).text(v?"":"Interactive "+r+".").attr("role",v?"presentation":"application").attr("tabindex",v?"-1":"0").on("keyup",v?null:function(){hf=!1}).on("focus",v?null:function(t,r,e){pt(e[r]).selectAll("[tabindex]").attr("tabindex",-1),If(e[r],d);var i=n.getBoundingClientRect();m.style("width",i.width+"px").style("height",i.height+"px").attr("aria-label",y())}).on("blur",v?null:function(t,n,e){Sf(pt(e[n].parentNode).select("svg :first-child").node(),!0),m.attr("aria-label","Interactive "+r+". ID: "+u)}).on("keydown",v?null:function(){var t,n=rt;if((32===(t=rt.keyCode||rt.which)||13===t||27===t||39===t||37===t||40===t||38===t||190===t||188===t)&&!hf){hf=!0,n.stopPropagation();var r=function(t){var n=t.target,r=t.keyCode||t.which;if(13===r||32===r)return t.preventDefault(),pt(n.parentNode).select("svg").select("[tabindex]").node()}(n);r&&lf({rootNode:m.node(),nodeID:r.id,geomType:o,includeKeyNames:a,dataKeys:s,groupKeys:c,nested:f,groupName:h,groupAccessor:l,recursive:d,sameGroupCousinKey:b})}});var M=m.attr("aria-activedescendant");if(M&&!v){var N=document.getElementById(M.substring(5));N?yf(N):m.attr("aria-activedescendant",null)}else m.attr("aria-activedescendant",null);var L=m.node();if(v&&L.children&&L.children.length)for(var k=L.children.length;k;)L.removeChild(L.children[0]),k--;Ht(n,u)},hideNonessentialGroups:function(t,n){var r=t.childNodes.length>1?t.childNodes:t.firstElementChild.childNodes;r&&function(t){return"string"==typeof t?new dt([document.querySelectorAll(t)],[document.documentElement]):new dt([null==t?[]:t],lt)}(r).each((function(t,r,e){e[r]!==n&&Ct(e[r])}))},hideNode:Ct,setAccessTitle:function(t,n){pt(t).select(".vcl-access-title").text(n?"Chart title: "+n:Pf["vcl-access-title"])},setAccessSubtitle:function(t,n){pt(t).select(".vcl-access-subtitle").text(n?"Chart subtitle: "+n:Pf["vcl-access-subtitle"])},setAccessLongDescription:function(t,n){Bf(pt(t).select(".vcl-accessibility-instructions"),n,"Long Description","vcl-access-long-description",n||pt(t).select(".vcl-access-context").text())},setAccessExecutiveSummary:function(t,n){Bf(pt(t).select(".vcl-accessibility-instructions"),n,"Executive Summary","vcl-access-executive-summary",!!n)},setAccessPurpose:function(t,n){Bf(pt(t).select(".vcl-accessibility-instructions"),n,"Purpose","vcl-access-purpose",!!n)},setAccessContext:function(t,n){Bf(pt(t).select(".vcl-accessibility-instructions"),n,"Long Description","vcl-access-context",n||pt(t).select(".vcl-access-long-description").text(),"vcl-access-long-description")},setAccessStatistics:function(t,n){Bf(pt(t).select(".vcl-accessibility-instructions"),n,"Statistical Information","vcl-access-statistics",!!n)},setAccessChartCounts:function(t){var n=t.rootEle,r=t.chartTag,e=t.geomType,i=t.groupName,u=t.recursive,o=pt(t.parentGNode),a=o.selectAll("g").selectAll("*:not(title)").size()>1||(0===o.selectAll("g").selectAll("*:not(title)").size()&&o.selectAll("*:not(title)").size())>1?"s":"",s=i||e+" group",c=o.selectAll("g").size()>1?"s":"",f=u?o.selectAll("g").size()+" "+e+a+" (more "+e+"s may be revealed upon interaction)":o.selectAll("g").size()?o.selectAll("g").size()+" "+s+c+" containing a total "+(o.selectAll("g").selectAll("*:not(title)").size()-o.selectAll("g").selectAll(".vcl-accessibility-focus-highlight").size())+" "+e+a:o.selectAll("*:not(title)").size()-o.selectAll(".vcl-accessibility-focus-highlight").size()+" "+e+a;pt(n).select(".vcl-access-layout").text("This is a "+r+" with "+f+".")},setAccessXAxis:function(t){var n=t.xAxis,r=t.xAxisLabel,e=Pf["vcl-access-xAxis"];if(t.hasXAxis){var i=n&&n.formattedTicks&&n.formattedTicks[0]?n.formattedTicks:[];e="The chart has a horizontal X Axis"+(r?", titled "+r:"")+(i.length?" with a range that starts with "+i[0]+" and ends with "+i[i.length-1]:"")+"."}pt(t.rootEle).select(".vcl-access-xAxis").text(e)},setAccessYAxis:function(t){var n,r,e=t.rootEle,i=t.yAxis,u=t.secondaryYAxis,o=t.yAxisLabel,a=t.secondaryYAxisLabel,s=t.xAxisLabel,c=Pf["vcl-access-yAxis"];if(i&&i.formattedTicks&&(n=i.formattedTicks),u&&u.formattedTicks&&(r=u.formattedTicks),t.hasYAxis)if(r)c="The chart has a primary vertical Y Axis"+(o?", titled "+o:"")+(n?" with a range that starts with "+n[0]+" and ends with "+n[n.length-1]:"")+". ",c+="The chart has a secondary vertical Y Axis"+(a?", titled "+a:"")+(r?" with a range that starts with "+r[0]+" and ends with "+r[r.length-1]:"")+".";else if("function"!=typeof i){var f=Object.keys(i),h=i[f[0]].y&&i[f[0]].y.formattedTicks&&i[f[0]].y.formattedTicks[0]?i[f[0]].y.formattedTicks:[];if(c=f.length>1?"The chart has "+f.length+" vertical Y Axis sections, all using different scales"+(s?". This series is titled "+s:"")+".":"The chart has a vertical Y Axis, titled "+f[0]+(h.length?", with a range that starts with "+h[0]+" and ends with "+h[h.length-1]:"")+".",f.length>1){var l=0;for(l=0;l<f.length;l++){var d=i[f[l]].y,v=d&&d.formattedTicks&&d.formattedTicks[0]?d.formattedTicks:[];c+=" Y Axis "+(l+1)+" of "+f.length+", titled "+f[l]+(v.length?", with a range that starts with "+v[0]+" and ends with "+v[v.length-1]:"")+"."}}}else{var p=i&&i.formattedTicks&&i.formattedTicks[0]?i.formattedTicks:[];c="The chart has a vertical Y axis"+(o?", titled "+o:"")+(p.length?" with a range that starts with "+p[0]+" and ends with "+p[p.length-1]:"")+"."}pt(e).select(".vcl-access-yAxis").text(c)},setAccessStructure:function(t,n){Bf(pt(t).select(".vcl-accessibility-instructions"),n,"Notes about the chart structure","vcl-access-notes",!!n)},setAccessAnnotation:function(t,n){var r=pt(t).select(".vcl-accessibility-instructions"),e=r.select(".vcl-access-notes").node(),i=r.select(".vcl-access-annotations-heading"),u=e.dataset.annotationlevel,o=Wf(u,1),a=Wf(u,2);r.selectAll(".vcl-access-annotation").remove();var s=1;n&&n.length&&(i.size()||(i=r.insert(u,".vcl-interaction-instructions").attr("class","screen-reader-info vcl-access-annotations-heading")),n.forEach((function(t){var n=!1;t.note&&(t.note.title&&(n=!0,r.insert(o,".vcl-interaction-instructions").attr("class","screen-reader-info vcl-access-annotation").text(t.note.title||"Annotation "+s)),t.note.label&&(n=!0,r.insert(a,".vcl-interaction-instructions").attr("class","screen-reader-info vcl-access-annotation").text(t.note.label))),t.accessibilityDescription&&(n=!0,r.insert(a,".vcl-interaction-instructions").attr("class","screen-reader-info vcl-access-annotation").text(t.accessibilityDescription)),n&&s++}))),s-1?i.text(s-1+" annotation"+(s-2>0?"s":"")+" on the chart"):i.remove()},retainAccessFocus:function(t){var n=t.parentGNode,r=t.focusDidExist,e=t.recursive,i=pt(n);if(i.select(".vcl-accessibility-focus-source").size()){var u=i.select(".vcl-accessibility-focus-source").node(),o=i.select(".vcl-accessibility-focus-indicator").classed("hidden");If(u,e),o&&Of(u)}else if(r){var a;if(i.selectAll("[tabindex]").each((function(t,n,r){a||null===pt(r[n]).attr("tabindex")||(a=r[n])})),!a){var s=kf(n);a=pt(s).select("[tabindex]").node()||s}Mf(a),If(a,e)}},checkAccessFocus:function(t){return!!pt(t).select(".vcl-accessibility-focus-source").size()},setElementInteractionAccessState:function(t,n,r){var e="#node-"+pt(t).attr("id");pt(t).attr("data-aria-pressed",r?n:null).attr("data-role",r?"button":"img"),pt(e).attr("aria-pressed",r?n:null).attr("role",r?"button":"img")},setAccessibilityDescriptionWidth:function(t,n){pt("#chart-instructions-"+t).style("width",(function(){return Math.max(n,200)+"px"}))},annotate:function(t){var n=t.source,r=t.data,e=t.xScale,u=t.xAccessor,o=t.yScale,a=t.yAccessor,s=t.ignoreScales,c=t.width,f=t.height,h=t.padding,l=t.margin,d=t.bitmaps;TO(n).selectAll(".vcl-annotation-group").remove();var v=TO(n).append("g").attr("class","vcl-annotation-group").attr("data-testid","annotation-group");Ct(v.node());var p=TO(n).append("g").attr("class","editable vcl-annotation-group").attr("data-testid","editable-annotation-group");if(Ct(p.node()),r&&r.length){var b=ZA().range(e?e.range():[0,100]).domain([0,100]),w=o?o.range():[0,100],m=w[0]>=w[1]?100:0,y=100-m,g=ZA().range(w).domain([m,y]),M=function(t){var n=w[0]>=w[1]?w[0]:w[1];return o(t)-n},N=[],L=[];r.forEach((function(t){var n={};Object.keys(t).forEach((function(r){"data"!==r&&"subject"!==r&&"connector"!==r&&"note"!==r?n[r]=t[r]instanceof Array?i(t[r]):t[r]:(n[r]={},Object.keys(t[r]).forEach((function(e){t[r][e]instanceof Array?"points"===e?(n[r][e]=[],t[r][e].forEach((function(t){var u=[];t[0]instanceof Array&&t[1]instanceof Array?(u.push(i(t[0])),u.push(i(t[1]))):(u.push(t[0]),u.push(t[1])),n[r][e].push(u)}))):n[r][e]=i(t[r][e]):n[r][e]=t[r][e]})))}));var r=n.parseAsDates&&(n.parseAsDates.includes("y")||n.parseAsDates.includes(a)),s=n.parseAsDates&&(n.parseAsDates.includes("x")||n.parseAsDates.includes(u)),c=0;if(n.data){var f=Object.keys(n.data),h=0;if(r||s)for(h=0;h<f.length;h++)"x"===f[h]||f[h]===u?n.data[f[h]]=Aq(n.data[f[h]],s):f[h]!==a&&"y"!==f[h]||(n.data[f[h]]=Aq(n.data[f[h]],r))}n.x&&(n.x=kq(n.x,e,b,s)),n.y&&(n.y=kq(n.y,o,g,r)),n.dx&&(n.dx instanceof Array&&(c=n.data&&void 0!==n.data[u]?e(n.data[u]):n.x?n.x:0),n.dx=kq(n.dx,e,b,s)-c),n.dy&&(c=0,n.dy instanceof Array&&(c=n.data&&void 0!==n.data[a]?o(n.data[a]):n.y?n.y:0),n.dy=kq(n.dy,o,g,r)-c),n.subject&&(n.subject.x1&&(n.subject.x1=kq(n.subject.x1,e,b,s)),n.subject.y1&&(n.subject.y1=kq(n.subject.y1,o,g,r)),n.subject.x2&&(n.subject.x2=kq(n.subject.x2,e,b,s)),n.subject.y2&&(n.subject.y2=kq(n.subject.y2,o,g,r)),n.subject.width&&(n.subject.width=kq(n.subject.width,e,b,s)),n.subject.height&&(n.subject.height=kq(n.subject.height,M,g,r))),n.connector&&("string"==typeof n.connector.curve&&(n.connector.curve=yW[n.connector.curve]),n.connector.points instanceof Array&&n.connector.points.forEach((function(t){t[0]=kq(t[0],e,b,s),t[1]=kq(t[1],o,g,r)}))),n.type&&"string"==typeof n.type&&(n.type=Lq[n.type]),n.editMode?L.push(n):N.push(n),n.color&&(n.color=nc(n.color)||n.color),n.collisionHideOnly&&(n.className=n.className?n.className+" annotation-detect-collision":"annotation-detect-collision")}));var k=Nq().annotations(N),E=Nq().editMode(!0).annotations(L);s||(k=Nq().accessors({x:function(t){return e(t[u])},y:function(t){return o(t[a])}}).annotations(N),E=Nq().editMode(!0).accessors({x:function(t){return e(t[u])},y:function(t){return o(t[a])}}).annotations(L)),v.call(k),p.call(E),N&&N.some((function(t){return!0===t.collisionHideOnly}))&&Tq(n,c,f,h,l,d),L&&L.some((function(t){return!0===t.collisionHideOnly}))&&Tq(n,c,f,h,l,d)}},getTexture:uc,convertColorsToTextures:function(t){var n=t.colors,r=t.rootSVG,e=t.id,i=t.scheme,u=t.disableTransitions,o=[],a=[],s=0,c=n.range?n.range():n;return c.forEach((function(t){var r=e+"_texture_"+s,u=oc(t,s,c,i),f=uc({scheme:u.textureScheme,id:r,index:ic[u.textureScheme][n.length][s],fillColor:u.fillColor,textureColor:u.textureColor});f.scheme=u.textureScheme,f.index=ic[u.textureScheme][n.length][s],a.push(f),o.push(hc(r)),s++})),function(t,n,r){var e=pt(t),i=e.select("defs");i.size()||(i=e.append("defs"));var u=i.selectAll(".VCL-texture-pattern").data(n,(function(t){return t.scheme+t.index})),o=u.enter().append("pattern"),a=u.merge(o);a.transition("exit").duration(r?0:750).call(rc,(function(){u.exit().remove()})),a.each((function(t,n,r){var e=Object.keys(t.attributes),i=pt(r[n]);e.forEach((function(n){i.attr(n,t.attributes[n])}))})).attr("patternContentUnits","userSpaceOnUse").attr("x",0).attr("y",0);var s=a.selectAll(".VCL-t-p-e").data((function(t){return t.children}),(function(t,n){return t.name+n}));s.exit().remove();var c=s.enter().append((function(t){return document.createElementNS("http://www.w3.org/2000/svg",t.name)})).attr("class","VCL-t-p-e");s.merge(c).each((function(t,n,r){var e=pt(r[n]);Object.keys(t.attributes).forEach((function(n){e.attr(n,t.attributes[n])}))}))}(r,a,u),o},prepareStrokeColorsFromScheme:oc,calculateLuminance:Qs,calculateRelativeLuminance:tc,getAccessibleStrokes:Xs,getRecursiveStroke:function(t,n){var r={},e=Qs(t),i=Qs(n),u=tc(e,1),o=tc(i,1);r[t]={},r[n]={},r[t].min=u-3>1?u-3:1,r[t].max=u+3<21?u+3:21,r[n].min=o-3>1?o-3:1,r[n].max=o+3<21?o+3:21;var a=r[t].max>=r[n].max?t:n,s=r[t].min<=r[n].min?t:n,c=r[s].min,f=r[a].max,h=21-f>0?21-f:0,l=c-1>0?c-1:0,d="",v="",p="";if(s===t&&r[t].max<r[n].min?(v="darken",p=t):a===t&&r[t].min>r[n].max&&(v="lighten",p=t),v){var b=Ks(p,v,3);d=tc(i,Qs(b))>=3?b:0}return d||(a===t&&h?(v="darken",p=t):s===t&&l&&(v="lighten",p=t),d=v?Ks(p,v,3):""),d||(h>l?(v="darken",p=n):(v="lighten",p=n),d=v?Ks(p,v,3):""),d||(d=t),d},getContrastingStroke:Js,ensureTextContrast:function(t){var n=tc(Qs(t),1),r=Ss(t);if(n<4.5)for(r.l-=.01;r.l>0&&tc(Qs(r.hex()),1)<4.5&&r.l;)r.l-=.01,r.l<0&&(r.l=0);return r.hex()},convertVisaColor:function(t){return t[0].includes("_")&&t.map((function(n,r){return t[r]=qs[n]})),t},circularFind:function(t,n){var r=n%t.length;return t[0===r?0:r]},resolveLabelCollision:or,prepareBitmap:Vn,addToBitmap:Gn,findCollision:function(t,n){return t.x<=n.x+n.width&&n.x<=t.x+t.width&&n.y<=t.y+t.height&&t.y<=n.y+n.height},capitalized:zt,chartAccessors:{singleAccessors:["valueAccessor","sizeAccessor","xAccessor","yAccessor","latitudeAccessor","longitudeAccessor","ordinalAccessor","idAccessor","markerAccessor","markerNameAccessor","joinAccessor","joinNameAccessor","nodeAccessor","parentAccessor","groupAccessor","seriesAccessor","filterAccessor","sourceAccessor","targetAccessor"],arrayAccessors:["interactionKeys"],nestedAccessors:[{objectName:"tooltipLabel",objectAccessors:["labelAccessor"],formatAccessors:["format"]},{objectName:"accessibility",objectAccessors:["elementDescriptionAccessor"]},{objectName:"dataLabel",objectAccessors:["labelAccessor"],formatAccessors:["format"]}]},checkInteraction:dc,checkClicked:pc,checkHovered:vc,drawAxis:function(t){var n=t.root,r=t.height,e=t.width,i=t.left,u=t.right,o=t.top,a=t.format,s=t.dateFormat,c=t.tickInterval,f=t.label,h=t.padding,l=t.markOffset,d=t.duration;gc=d||0===d?d:gc,bc=t.axisScale,wc=t.hidePath,yc=t.ticks||null;var v=1;if(t.hide&&(v=0),xc=t.wrapLabel||0,l)if(i){(b=n.selectAll(".axis-mark-y")).empty()&&(gc=0,b=n.append("g").attr("class","axis-mark-y axis-mark")),Nc=function(){return null},Mc=4,Cc();var p=b.attr("data-testid","y-axis-mark");gc&&(p=p.transition("axis_base").ease(sa).duration(gc)),p.attr("transform",l>0?"translate("+l+", 0)":"").attr("opacity",v).call(Rc)}else{var b;(b=n.selectAll(".axis-mark-x")).empty()&&(gc=0,b=n.append("g")),Nc=function(){return null},Mc=3,Cc(),p=b.attr("class","axis-mark-x axis-mark").attr("data-testid","x-axis-mark"),gc&&(p=p.transition("axis_base").ease(sa).duration(gc)),p.attr("transform",l>0?"translate(0, "+l+")":"").attr("opacity",v).call(Rc)}else if(i){var w=n.selectAll(".axis").filter(".y").filter(".left"),m=n.selectAll(".axis-label").filter(".y").filter(".left");w.empty()&&(gc=0,w=n.append("g"),m=n.append("text")),Nc=function(t,n){return c&&n%c!=0?null:a&&"number"==typeof t?Yt(t,a):t instanceof Date?Sr(s)(t):t},Lc=0,kc=0,Ec=10,xc&&(Ac=-8,Tc=.6),Mc=4,Cc(),p=w.attr("class","y axis left").attr("data-testid","y-axis"),gc&&(p=p.transition("axis_node").ease(sa).duration(gc)),p.attr("opacity",v).call(Rc);var y=m.attr("class","y axis-label left").attr("data-testid","y-axis-label").attr("transform","rotate(-90)").text(f);gc&&(y=y.transition("axis_label").ease(sa).duration(gc)),y.attr("y",h?0-h.left:-50).attr("x",0-r/2).attr("dy","1em")}else u?(w=n.selectAll(".axis").filter(".y").filter(".right"),m=n.selectAll(".axis-label").filter(".y").filter(".right"),w.empty()&&(gc=0,w=n.append("g"),m=n.append("text")),Nc=function(t,n){return c&&n%c!=0?null:a&&"number"==typeof t?Yt(t,a):t instanceof Date?Sr(s)(t):t},Lc=0,kc=0,Ec=10,xc&&(Ac=8,Tc=.6),Mc=2,Cc(),p=w.attr("class","y axis right").attr("data-testid","sec-y-axis"),gc&&(p=p.transition("axis_node").ease(sa).duration(gc)),p.attr("transform","translate("+e+",0)").attr("opacity",v).call(Rc),y=m.attr("class","y axis-label right").attr("data-testid","sec-y-axis-label").attr("transform","rotate(-90)").text(f||"Cumulative Percentage"),gc&&(y=y.transition("axis_label").ease(sa).duration(gc)),y.attr("y",h?e+h.left+h.right-50:e-50).attr("x",0-r/2).attr("dy","1em")):o?(w=n.selectAll(".axis").filter(".x").filter(".top"),m=n.selectAll(".axis-label").filter(".x").filter(".top"),w.empty()&&(gc=0,w=n.append("g"),m=n.append("text")),Nc=function(t,n){return c&&n%c!=0?null:a&&"number"==typeof t?Yt(t,a):t instanceof Date?Sr(s)(t):t},Lc=0,kc=0,Ec=10,xc&&(Ac=0,Tc=1),Mc=1,Cc(),p=w.attr("class","x axis top").attr("data-testid","sec-x-axis"),gc&&(p=p.transition("axis_node").ease(sa).duration(gc)),p.attr("transform","translate(0, 0)").attr("opacity",v).call(Rc),y=m.attr("class","x axis-label top").attr("data-testid","sec-x-axis-label").attr("transform","translate(0, 0)").text(a&&"number"==typeof f?Yt(f,a):f),gc&&(y=y.transition("axis_label").ease(sa).duration(gc)),y.attr("x",e/2).attr("y",h?-h.top:-50).attr("dy","1em")):(w=n.selectAll(".axis").filter(".x").filter(".bottom"),m=n.selectAll(".axis-label").filter(".x").filter(".bottom"),w.empty()&&(gc=0,w=n.append("g"),m=n.append("text")),Nc=function(t,n){return c&&n%c!=0?null:a&&"number"==typeof t?Yt(t,a):t instanceof Date?Sr(s)(t):t},Lc=0,kc=0,Ec=10,xc&&(Ac=0,Tc=1),Mc=3,Cc(),p=w.attr("class","x axis bottom").attr("data-testid","x-axis"),gc&&(p=p.transition("axis_node").ease(sa).duration(gc)),p.attr("transform","translate(0, "+r+")").attr("opacity",v).call(Rc),y=m.attr("class","x axis-label bottom").attr("data-testid","x-axis-label").attr("transform","translate(0, 0)").text(a&&"number"==typeof f?Yt(f,a):f),gc&&(y=y.transition("axis_node").ease(sa).duration(gc)),y.attr("x",e/2).attr("y",h?r+h.bottom:r))},wrap:Fc,drawGrid:function(t,n,r,e,i,u,o,a){var s=a||0===a?a:750,c=1;if(u&&(c=0),i){(h=t.selectAll(".grid").filter(".left")).node()||(s=0,h=t.append("g").attr("class","grid left").attr("data-testid","grid-left"));var f=h;s&&(f=h.transition("grid-left-update").duration(s).ease(sa)),f.attr("opacity",c).call(function(t){return Gc(4,t)}(e).tickSize(-r).tickFormat("").tickValues((e.ticks?e.ticks():e.domain()).filter((function(t,n){return!(o&&n%o!=0)}))))}else{var h;(h=t.selectAll(".grid").filter(".bottom")).node()||(s=0,h=t.append("g").attr("class","grid bottom").attr("data-testid","grid-bottom")),f=h,s&&(f=h.transition("grid-bottom-update").duration(s).ease(sa)),f.attr("opacity",c).call(function(t){return Gc(3,t)}(e).tickSize(n).tickFormat("").tickValues((e.ticks?e.ticks():e.domain()).filter((function(t,n){return!(o&&n%o!=0)}))))}},drawLegend:function(t){var n=t.root,r=t.uniqueID,e=t.width,i=t.height,u=t.colorArr,o=t.baseColorArr,a=t.hideStrokes,s=t.dashPatterns,c=t.scale,f=t.steps,h=t.padding,l=t.duration,d=t.type,v=t.secondary,p=t.fontSize,b=t.data,w=t.labelKey,m=t.label,y=t.symbol,g=t.format,M=t.hide,N=t.hoverHighlight,L=t.clickHighlight,k=t.groupAccessor,E=t.interactionKeys,A=t.hoverStyle,T=t.clickStyle,x=t.hoverOpacity,S=e+h.left+h.right+5,O=h.left+t.margin.left,I="scatter"===d||"key"===d||"line"===d||"bar"===d,R=f?e/f:0,F=M?0:1;"parallel"===d&&(d="line"),n.attr("viewBox","0 0 "+S+" "+(i=M?0:i+(I?25:5)));var C=n.select(".legend-padding-wrapper");switch(n.select(".legend-padding-wrapper").size()||(C=n.append("g").attr("class","legend-padding-wrapper")),C.attr("transform","translate("+((I?O:0)+(y?7:4))+","+(I?24:4)+")"),d){default:n.attr("opacity",F).attr("width",S).attr("height",i).attr("style",M?"display: none;":null).attr("transform","translate(0, 0)");var D=C.selectAll(".legend.default").data([0].concat(u));n.selectAll(".key").remove(),n.selectAll(".gradient").remove(),D.enter().append("g").attr("class","legend default").merge(D).attr("transform",(function(t,n){return 0===n?"translate("+O+", 20)":"translate("+((n-1)*R+O)+", 20)"})).each((function(t,n,r){var e=Yt(0===n?c.invertExtent(u[0])[0]:c.invertExtent(t)[1],g),i=0===n?0:R,o=pt(r[n]).selectAll("rect").data([t]),a=o.enter().append("rect").attr("opacity",0).merge(o).attr("width",R).attr("height",15).attr("x",0).attr("y",0).attr("fill",t),s=o.exit(),f=pt(r[n]).selectAll("text").data([t]),h=f.enter().append("text").attr("opacity",0).merge(f).attr("dx",i).attr("dy","2.5em").text(e),d=f.exit();l&&(a=a.transition().duration(l).ease(sa),s=s.transition().duration(l).ease(sa),h=h.transition().duration(l).ease(sa),d=d.transition().duration(l).ease(sa)),a.attr("opacity",F),s.attr("opacity",0).remove(),h.attr("opacity",F),d.attr("opacity",0).remove()})),D.exit().remove();break;case"gradient":var H=(new Date).getTime();n.attr("width",S).attr("height",i).attr("style",M?"display: none;":null).attr("transform","translate(0, 20)").attr("opacity",F),n.selectAll(".key").remove(),n.selectAll(".default").remove();var j=C.selectAll("text.gradient").data([0].concat(u)),U=j.enter().append("text").attr("class","legend-text gradient").merge(j).attr("transform",(function(t,n){return 0===n?"translate("+O+", 0)":"translate("+((n-1)*R+O)+", 0)"})).attr("opacity",0).attr("dx",(function(t,n){return 0===n?0:R})).attr("dy","2.5em").text((function(t,n){return Yt(0===n?c.invertExtent(u[0])[0]:c.invertExtent(t)[1],g)})),_=j.exit();l&&(U=U.transition().duration(l).ease(sa),_=_.transition().duration(l).ease(sa)),U.attr("opacity",(function(t,n){return 0===n||n===u.length?F:0})),_.attr("opacity",0).remove(),C.selectAll(".legend").empty()||C.selectAll(".legend").remove();var P=C.append("g").attr("class","legend gradient");P.append("defs").append("linearGradient").attr("id","mainGradient-"+H).selectAll("stop").data(u).enter().append("stop").attr("offset",(function(t,n){return 100/u.length*(n+1)+"%"})).attr("stop-color",(function(t){return t})),P.append("rect").attr("class","legend-gradient").attr("x",O).attr("y",0).attr("width",e).attr("height",15).attr("style","fill: url(#mainGradient-"+H+")");break;case"key":var W=0,B=0;n.attr("width",S).attr("height",i).attr("opacity",F).attr("style",M?"display: none;":null);var $=C.selectAll(".legend.key").data(u);n.selectAll(".default").remove(),n.selectAll(".gradient").remove(),$.enter().append("g").attr("class","legend key").merge($).each((function(t,n,r){var i=0===n?"":m?m[n-1]:Yt(c.invertExtent(u[n-1])[0],g)+"-"+Yt(c.invertExtent(u[n-1])[1],g);(W=0===n?0:W+An(i,p)+40)+An(i,p)>e&&(W=0,B+=p+10);var o=m?m[n]:Yt(c.invertExtent(t)[0],g)+"-"+Yt(c.invertExtent(t)[1],g),a=pt(r[n]).selectAll("rect").data([t]),s=a.enter().append("rect").attr("opacity",0).merge(a).attr("fill",t).attr("width",15).attr("height",15),f=a.exit(),h=pt(r[n]).selectAll("text").data([o]),d=h.enter().append("text").attr("class","key-text").attr("opacity",0).merge(h).attr("dx",".2em").attr("dy",13).text(o),v=h.exit();l&&(s=s.transition().duration(l).ease(sa),f=f.transition().duration(l).ease(sa),d=d.transition().duration(l).ease(sa),v=v.transition().duration(l).ease(sa)),s.attr("x",W).attr("y",B).attr("opacity",F),f.attr("opacity",0).remove(),d.attr("x",W+20).attr("y",B).attr("opacity",F),v.attr("opacity",0).remove()})),$.exit().remove();break;case"line":var Y=0,q=0,z=[28,28,26,28,26];n.attr("width",S).attr("height",i).attr("opacity",1).attr("style",M?"display: none;":null);var V=C.selectAll(".legend").data(b);V.enter().append("g").attr("class","legend").merge(V).each((function(t,n,r){var i=m?m[n]:t.key;(Y=0===n?0:Y+An(0===n?"":m?m[n-1]:b[n-1].key,p)+60)+An(i,p)>e&&(Y=0,q+=p+10);var o=pt(r[n]).selectAll("line").data([t.key]),a=o.enter().append("line").merge(o).style("stroke-width",v.includes(t.key)?2:3).style("stroke",u[n]).style("stroke-dasharray",v.includes(t.key)?"2,2":s&&n<s.length?s[n]:"").attr("stroke-width",v.includes(t.key)?2:3).attr("stroke",u[n]).attr("stroke-dasharray",v.includes(t.key)?"2,2":s&&n<s.length?s[n]:"").style("opacity",F),c=o.exit(),f=pt(r[n]).selectAll("text").data([t.key]),h=f.enter().append("text").attr("class","key-text").attr("opacity",0).merge(f).attr("dx",".2em").attr("dy",13).text(i),d=f.exit();l&&(a=a.transition().duration(l).ease(sa),c=c.transition().duration(l).ease(sa),h=h.transition().duration(l).ease(sa),d=d.transition().duration(l).ease(sa)),a.attr("x1",Y).attr("x2",Y+(v.includes(t.key)?30:s&&n<s.length?z[n]:30)).attr("y1",q+8).attr("y2",q+8),c.attr("opacity",0).remove(),h.attr("x",Y+5+(v.includes(t.key)?30:s&&n<s.length?z[n]:30)).attr("y",q).attr("opacity",F),d.attr("opacity",0).remove()})),V.exit().remove();break;case"bar":var G=0,Z=0;n.attr("width",S).attr("height",i).attr("opacity",F).attr("style",M?"display: none;":null);var X=C.selectAll(".legend.bar").data(b);X.enter().append("g").attr("class","legend bar").merge(X).each((function(t,n,r){var i=0===n?"":m&&m[n-1]?g?Yt(m[n-1],g):m[n-1]:g?Yt(b[n-1][w],g):b[n-1][w],o=m&&m[n]?g?Yt(m[n],g):m[n]:g?Yt(t[w],g):t[w];(G=0===n?0:G+An(i,p)+45)+An(o,p)>e&&(G=0,Z+=p+10);var a=pt(r[n]).selectAll("rect").data([t[w]]),s=a.enter().append("rect").attr("class","bar-rect").attr("opacity",0).merge(a).attr("fill",c?c(t[w]):u[n]||u(t[w])).attr("width",20).attr("height",20),f=a.exit(),h=pt(r[n]).selectAll("text").data([t[w]]),d=h.enter().append("text").attr("class","bar-text").attr("opacity",0).merge(h).attr("dx",".2em").attr("dy",16).text(o),v=h.exit();l&&(s=s.transition().duration(l).ease(sa),f=f.transition().duration(l).ease(sa),d=d.transition().duration(l).ease(sa),v=v.transition().duration(l).ease(sa)),s.attr("x",G).attr("y",Z).attr("opacity",F),f.attr("opacity",0).remove(),d.attr("x",G+25).attr("y",Z).attr("opacity",F),v.attr("opacity",0).remove()})),X.exit().remove();break;case"scatter":var K=0,J=0;n.attr("width",S).attr("height",i).attr("opacity",F).attr("style",M?"display: none;":null);var Q=C.selectAll(".legend").data(b);Q.enter().append("g").attr("class","legend").merge(Q).each((function(t,n,r){var i=m?m[n]:t.key;(K=0===n?0:K+An(0===n?"":m?m[n-1]:b[n-1].key,p)+50)+An(i,p)>e&&(K=0,J+=p+10);var o=pt(r[n]).selectAll("path").data([t]),a=o.enter().append("path").attr("opacity",0).merge(o).attr("fill",u[n]),s=o.exit(),c=pt(r[n]).selectAll("text").data([t]),f=c.enter().append("text").attr("class","key-text").attr("opacity",0).merge(c).attr("dx",".2em").attr("dy",13).text(i),h=c.exit();l&&(a=a.transition().duration(l).ease(sa),s=s.transition().duration(l).ease(sa),f=f.transition().duration(l).ease(sa),h=h.transition().duration(l).ease(sa)),a.attr("transform","translate("+(+K+4)+","+(+J+8)+")  scale(4)").attr("d",Zc[y[n]||y[0]].general).attr("opacity",F),s.attr("opacity",0).remove(),f.attr("x",K+15).attr("y",J).attr("opacity",F),h.attr("opacity",0).remove()})),Q.exit().remove()}if(o&&!a){var tt=Array.isArray(o);n.selectAll(".legend").each((function(t,n,r){var e=tt&&1===o.length?o[0]:tt?o[n]:o[n]||o(t[w]);if(e){var i=tc(Qs(e),1)<3?Js(e):e;pt(r[n].firstElementChild).attr("data-base-color",e),pt(r[n].firstElementChild).attr("stroke",i),pt(r[n].firstElementChild).attr("stroke-width",1)}}))}else"line"!==d&&n.selectAll(".legend").selectAll("*").attr("stroke","none").attr("stroke-width",0);n.attr("data-type",d||"default"),n.selectAll(".legend *:first-child").each((function(t,n,r){var e=pt(r[n]);e.attr("fill")&&e.attr("data-fill",e.attr("fill")),e.attr("stroke")&&e.attr("data-stroke",e.attr("stroke")),e.attr("stroke-width")&&e.attr("data-stroke-width",e.attr("stroke-width"))})),Xc({root:n,uniqueID:r,interactionKeys:E,groupAccessor:k,hoverHighlight:N,clickHighlight:L,hoverStyle:A,clickStyle:T,hoverOpacity:x}),Ft(n.node(),r)},setLegendInteractionState:Xc,drawTooltip:function(t){var n=t.root,r=t.data,e=t.event,i=t.tooltipLabel,u=t.xAxis,o=t.yAxis,a=t.dataLabel,s=t.layout,c=t.ordinalAccessor,f=t.valueAccessor,h=t.xAccessor,l=t.yAccessor,d=t.groupAccessor,v=t.diffLabelDetails,p=t.normalized,b=t.chartType;n&&(t.isToShow?function(){var t=[e.pageX,e.pageY],w=function(t){var n=t.data,r=t.tooltipLabel,e=t.xAxis,i=t.yAxis,u=t.dataLabel,o=t.layout,a=t.ordinalAccessor,s=t.valueAccessor,c=t.xAccessor,f=t.yAccessor,h=t.groupAccessor,l=t.diffLabelDetails,d=t.normalized,v=t.chartType;if(r&&r.labelAccessor.length>0){var p="";return r.labelAccessor.map((function(t,e){p+=(r.labelTitle&&""!==r.labelTitle[e]?r.labelTitle[e]+": ":"")+"<b>"+(r.format&&r.format[e]?n[t]instanceof Date?Ge({date:n[t],format:r.format[e],offsetTimezone:!0}):d&&"normalized"===r.format[e]?sr(n,t,u.format,t===s):isNaN(parseFloat(n[t]))?n[t]:Yt(n[t],r.format[e]):n[t])+" </b><br/>"})),p.replace(",",""),p}var b="",w=e&&i&&(("horizontal"===o?i.label:e.label)||c)||a,m=e&&i&&(("horizontal"===o?e.label:i.label)||f)||s;return"bar"===v?b="\n      <b>"+(h?n[h]+"<br/>":"")+" </b>\n      "+zt(w)+": <b>"+n[a]+" </b><br/> \n        "+zt(m)+":\n        <b>"+Yt(n[s],u.format)+"</b>":"pie"===v?b="\n        "+zt(w)+": <b>"+n[a]+" </b><br/> \n        "+(d?zt(m)+" (%): <b>"+sr(n,s,"0[.][0]%",d)+"</b><br/>":"")+"\n        "+zt(m)+": \n        <b>"+Yt(n[s],"normalized"===u.format?"0[.][0]a":u.format)+"</b>\n      ":"scatter"===v?b="\n        <b>"+(h?n[h]+"<br/>":"")+" </b>\n        "+zt(w)+": \n        <b>"+Yt(n[c],e.format||"")+" </b><br/>\n        "+zt(m)+": \n        <b>"+Yt(n[f],i.format||"")+"</b>":"line"===v||"parallel"===v?b="\n        <b>"+(h?n[h]+"<br/>":"")+"</b>\n        "+zt(w)+": \n        <b>"+(n[a]instanceof Date?Ge({date:n[a],format:e.format,offsetTimezone:!0}):n[a])+" </b><br/>\n        "+zt(m)+": \n        <b>"+Yt(n[s],u.format||"")+"</b>":"stacked"===v||"clustered"===v?b="\n        <b>"+n[h]+"<br/></b>\n        "+zt(w)+": \n        <b>"+n[a]+" </b><br/> \n        "+(d?zt(m)+" (%): <b>"+sr(n,s,"0[.][0]%",d)+"</b><br/>":"")+"\n        "+zt(m)+": \n        <b>"+Yt(n[s],"normalized"===u.format?"0[.][0]a":u.format)+"</b>\n      ":"heat-map"===v?b="\n        "+zt(w)+": \n        <b>"+(n[c]instanceof Date?Ge({date:n[c],format:e.format,offsetTimezone:!0}):n[c])+" </b><br/>\n        "+zt(m)+": \n        <b>"+(n[f]instanceof Date?Ge({date:n[f],format:i.format,offsetTimezone:!0}):n[f])+" </b><br/>\n        "+zt(s)+":\n        <b>"+Yt(n[s],u.format||"")+"</b>":"circle-packing"===v?b="\n        <b>"+zt(n[a])+" </b><br/>\n        "+zt(h)+": <b>"+n[h]+" </b><br/>\n        "+zt(s)+":\n        <b>"+Yt(n[s],u.format||"")+"</b>":"world-map"===v?b="\n        <b>"+n[c]+" ("+n[f]+") </b><br/>\n          "+s+": \n          <b>"+Yt(n[s],u.format||"")+"</b>":"dumbbell"===v?b=n&&n.key&&n.values?"<b>\n          "+(n.values[0][a]instanceof Date?Ge({date:n.values[0][a],format:e.format,offsetTimezone:!0}):n.values[0][a])+" </b><br/>Difference: <b>"+(u.format?Yt(n[l.calculation],u.format):n[l.calculation])+" <br/></b>"+n.values[0][h]+": <b>"+(u.format?Yt(n.values[0][s],u.format):n.values[0][s])+" </b><br/>"+n.values[1][h]+": <b>"+(u.format?Yt(n.values[1][s],u.format):n.values[1][s])+"</b>\n        ":"<b>\n        "+(n[a]instanceof Date?Ge({date:n[a],format:e.format,offsetTimezone:!0}):n[a])+" </b><br/>"+n[h]+": <b>"+(u.format?Yt(n[s],u.format):n[s])+"</b>\n        ":"alluvial-diagram"===v&&(b="\n      <b>"+zt(n.source[a])+"</b> to <b>"+zt(n.target[a])+" </b><br/>\n      "+zt(s)+":\n      <b>"+(u&&u.format?Yt(n.value,u.format):n.value)+"</b>"),b}({data:r,tooltipLabel:i,xAxis:u,yAxis:o,dataLabel:a,layout:s,ordinalAccessor:c,valueAccessor:f,xAccessor:h,yAccessor:l,groupAccessor:d,diffLabelDetails:v,normalized:p,chartType:b}),m=n.node().parentElement.getBoundingClientRect();n.style("left","0px").style("top","0px"),n.select("p").html(w);var y=n.node().getBoundingClientRect(),g=(document.body.scrollLeft||0)+(document.documentElement.scrollLeft||0),M=(document.body.scrollTop||0)+(document.documentElement.scrollTop||0);n.style("left",t[0]-y.left-g-(m.width/2-(t[0]-y.left-g)<0?y.width:0)+"px").style("top",t[1]-y.top-y.height-M+"px").transition(ia().duration(200)).style("opacity",1)}():n.transition(ia().duration(500)).style("opacity",0),Rt(n.node()))},darkerColor:zs,equalizePath:function(t,n){var r=t.getTotalLength();try{if(r>n)throw"Path length exceeds supplied limit. Raise limit."}catch(o){console.log(o)}for(var e=0,i="M",u={};e<=r;)e&&(i+="L"),i+=(u=t.getPointAtLength(e)).x+","+u.y,e+=1;for(;e<=n;)i+=u.x+","+u.y,e+=1;return i+"Z"},formatDataLabel:sr,formatStats:Yt,formatDate:Ge,getColors:function(t,n){var r=[];r.single_blue=[qs.categorical_blue],r.single_brown=[qs.categorical_brown],r.single_grey=[qs.pri_grey],r.single_secBlue=[qs.sec_blue],r.single_secOrange=[qs.sec_orange],r.single_compBlue=[qs.comp_blue],r.single_compGreen=[qs.comp_green],r.single_suppPink=[qs.supp_pink],r.single_suppPurple=[qs.supp_purple],r.single_suppGreen=[qs.supp_green],r.single_ossBlue=[qs.oss_blue],r.single_ossLightBlue=[qs.oss_light_blue],r.single_ossGrey=[qs.oss_dark_grey],r.single_ossLightGrey=[qs.oss_light_grey],r.single_categorical_blue=[qs.categorical_blue],r.single_categorical_light_blue=[qs.categorical_light_blue],r.single_categorical_blue_text=[qs.categorical_blue_text],r.single_categorical_purple=[qs.categorical_purple],r.single_categorical_light_purple=[qs.categorical_light_purple],r.single_categorical_purple_text=[qs.categorical_purple_text],r.single_categorical_olive=[qs.categorical_olive],r.single_categorical_light_olive=[qs.categorical_light_olive],r.single_categorical_olive_text=[qs.categorical_olive_text],r.single_categorical_grey=[qs.categorical_grey],r.single_categorical_light_grey=[qs.categorical_light_grey],r.single_categorical_grey_text=[qs.categorical_grey_text],r.single_categorical_rose=[qs.categorical_rose],r.single_categorical_light_rose=[qs.categorical_light_rose],r.single_categorical_rose_text=[qs.categorical_rose_text],r.single_categorical_brown=[qs.categorical_brown],r.single_categorical_light_brown=[qs.categorical_light_brown],r.single_categorical_brown_text=[qs.categorical_brown_text],r.sequential_grey=["#f2f2f2","#d7d7d7","#bdbdbd","#a3a3a3","#898989","#717171","#595959","#434343","#2e2e2e"],r.sequential_secBlue=["#ecf9f9","#c0e0f1","#91c8ea","#57b0e2","#0c96d7","#1778c7","#145bb8","#003da8","#002c76"],r.sequential_secOrange=["#fee9c7","#ffc78d","#faa654","#ef8506","#e36001","#c04e04","#9c3d05","#7b2c05","#5c1c00"],r.sequential_compBlue=["#f3fbfe","#bde3f2","#81cae6","#2ab1d7","#2294b5","#1b7994","#135d74","#0c4557","#062c3a"],r.sequential_compGreen=["#eafed4","#bae7b4","#89cf95","#53b677","#009e5c","#00814b","#00663b","#004b2b","#00321d"],r.sequential_suppPink=["#f8f4f9","#f3cef3","#eca6ed","#e37ce6","#d74adf","#aa45af","#86378a","#632a66","#421b44"],r.sequential_suppPurple=["#f7fcfd","#e3daec","#cebadd","#b59acc","#977ebb","#7367a5","#554f87","#423667","#331d48"],r.sequential_suppGreen=["#ffffe5","#deebc3","#bed6a2","#9ec283","#7fae61","#5e9a48","#448340","#286e3a","#005a32"],r.diverging_RtoB=["#a50026","#c7422a","#df7232","#f3a14b","#ffcf7b","#afdbf1","#7ab7e5","#5390d1","#386bb6","#2d4697"],r.diverging_RtoG=["#972800","#ba4d18","#df7131","#f0a04e","#fecd6e","#bcdeba","#72c1a7","#529f8e","#307e75","#015e5d"],r.diverging_GtoP=["#194f46","#377258","#57976f","#7abb8c","#a6e0b5","#bbd4f9","#aba6ea","#9879d2","#7655b2","#3c3f85"],r.categorical=["#7c99b1","#cacae7","#abb798","#a19491","#e7c0b8","#624c48"],r.categorical_light=["#7c99b1","#cacae7","#abb798","#a19491","#e7c0b8","#624c48"],r.categorical_dark=["#226092","#796aaf","#829e46","#7a6763","#c18174","#43312d"],r.categorical_text=["#164d79","#66589b","#498329","#6e5a55","#954737","#43312d"];var e="string"==typeof t?r[t]:t;if(Array.isArray(n)){var i=void 0;if("string"==typeof n[0]){var u=[],o=t.includes("diverging")?Gs:t.includes("categorical")?Zs:Vs;"string"==typeof t&&o[n.length]?o[n.length].map((function(t){u.push(e[t]?e[t]:e[0])})):u=e,i=function t(){var n=Aa(),r=[],e=[],i=Oa;function u(t){var u=t+"",o=n.get(u);if(!o){if(i!==Oa)return i;n.set(u,o=r.push(t))}return e[(o-1)%e.length]}return u.domain=function(t){if(!arguments.length)return r.slice();r=[],n=Aa();for(var e,i,o=-1,a=t.length;++o<a;)n.has(i=(e=t[o])+"")||n.set(i,r.push(e));return u},u.range=function(t){return arguments.length?(e=Sa.call(t),u):e.slice()},u.unknown=function(t){return arguments.length?(i=t,u):i},u.copy=function(){return t(r,e).unknown(i)},ka.apply(u,arguments),u}().domain(n).range(u)}else i=function t(){var n,r=0,e=1,i=1,u=[.5],o=[0,1];function a(t){return t<=t?o[va(u,t,0,i)]:n}function s(){var t=-1;for(u=new Array(i);++t<i;)u[t]=((t+1)*e-(t-i)*r)/(i+1);return a}return a.domain=function(t){return arguments.length?(r=+t[0],e=+t[1],s()):[r,e]},a.range=function(t){return arguments.length?(i=(o=Sa.call(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var n=o.indexOf(t);return n<0?[NaN,NaN]:n<1?[r,u[0]]:n>=i?[u[i-1],e]:[u[n-1],u[n]]},a.unknown=function(t){return arguments.length?(n=t,a):a},a.thresholds=function(){return u.slice()},a.copy=function(){return t().domain([r,e]).range(o).unknown(n)},ka.apply(ts(a),arguments)}().domain(n).range(e);return i}if(Number.isInteger(n)){var a=[];return(o=t.includes("diverging")?Gs:t.includes("categorical")?Zs:Vs)[n]?o[n].map((function(t){a.push(e[t]?e[t]:e[0])})):a=e,a}return e},getLicenses:Jc,generalizePath:function(t,n){for(var r=t.getTotalLength(),e=0,i=r/n,u="M";e<=r;){e&&(u+="L");var o=t.getPointAtLength(e);u+=o.x+","+o.y,e+=i}return u+"Z"},getDataSymbol:function(t,n){var r={cross:cn,circle:sn,square:wn,star:bn,triangle:yn,diamond:ln};return r[n]?t.type(r[n])():t.type(sn)()},getScopedData:ef,getTextWidth:An,verifyTextHasSpace:function(t){var n=t.text,r=t.dimensions,e=t.fontSize,i=t.noPadding,u=document.createElement("canvas").getContext("2d");u.font=e+"px OpenSans";for(var o=u.measureText(n),a=i?1:1.1,s=Object.keys(r),c=!0,f=0;c&&f<s.length;)c="height"!==s[f]?o[s[f]]*a<=r[s[f]]:e*a<=r[s[f]],f++;return c},manuallyWrapText:Tn,getPadding:function(t){var n;return"large"===t?n={top:40,bottom:60,right:100,left:80}:"small"===t?n={top:10,bottom:20,right:40,left:40}:""===t&&(n={top:20,bottom:50,right:70,left:60}),n},interactionStyle:function(t){var n=t.data,r=t.clickHighlight,e=t.hoverHighlight,i=t.clickStyle,u=t.hoverStyle,o=t.interactionKeys,a=t.defaultStroke,s=t.defaultStrokeWidth,c=t.offset,f=r.length>0&&pc(n,r,o)||e&&vc(n,e,o)?a:"none",h=pc(n,r,o)?"solid":"dashed",l=pc(n,r,o)?i.strokeWidth||s:e&&vc(n,e,o)&&u.strokeWidth?u.strokeWidth||s:0;return"string"==typeof l&&l.includes("px")&&(l=parseInt(l.substr(0,l.indexOf("p")))),"outline-color:"+f+";\n        outline-style:"+h+";\n        outline-width:"+l+"px;\n        outline-offset:-"+(c?l+c:l)+"px;"},initTooltipStyle:function(t){t.style("position","absolute").style("padding","0.5rem").style("opacity",0).style("background-color","#ffffff").style("font-size","14px").style("font-weight","400").style("color","#222222").style("border","1px solid #565656").style("border-radius","3px").style("pointer-events","none").style("min-width","80px").style("max-width","300px"),t.append("p").style("margin",0)},leastSquares:function(t,n){var r=function(t,n){return t+n},e=1*t.reduce(r)/t.length,i=1*n.reduce(r)/n.length,u=t.map((function(t){return Math.pow(t-e,2)})).reduce(r),o=n.map((function(t){return Math.pow(t-i,2)})).reduce(r),a=t.map((function(t,r){return(t-e)*(n[r]-i)})).reduce(r),s=a/u;return[s,i-e*s,Math.pow(a,2)/(u*o)]},moveToFront:function(t){return t.each((function(){this.parentNode.appendChild(this)}))},mapButtons:{alaska:"M0.2,1ZM0,0ZM0.1,0.3ZM0,0.2L8.1,6.9L3.8,7.5L0,0.2ZM0,0.3ZM0.5,1.2L0.5,1.2ZM1.4,2.5L1.4,2.5ZM5.1,6.6L5.1,6.6ZM1,0.7L4,7.2L1,0.7ZM0,0ZM0.6,0.8L5.5,4.1L0.6,0.8ZM2.1,0ZM0.8,0ZM51.5,5.8L60.5,5.3L66.9,10.4L68.9,20.3L70.9,30.2L72.8,40.1L74.8,50L76.8,60L82.9,61.6L89.5,68.2L94.3,62.3L101.8,67.6L108.9,74.6L116.4,77.9L119.6,85.6L114.5,84.3L110.2,81.3L105.5,75.8L98.9,70.1L97.7,69.7L92.3,68.5L92.3,71.8L83.6,67.7L79.2,66.4L69.8,66.2L62.1,64.5L59.9,61.7L56,64L53.2,68.1L47.1,73.4L45.4,70.6L48.6,62.5L45.6,62.8L41.4,70.4L40.4,75.3L34.9,81.6L29.7,87.2L23.9,90.9L18,93.5L11.9,94.7L7.5,97.8L2.3,99.3L5.3,96.9L12.3,92.3L16.4,91.7L23.2,86.2L27.5,77.7L23.2,76L18.8,74.1L14,72.7L11.2,67.6L5.2,62.2L3.5,56.3L8.3,49.6L15.4,46.7L19.5,41.1L16.1,39.7L8.9,38.9L4.8,32.3L9.5,28.7L14.2,29.8L19.4,28.7L20,27.4L15.2,21.7L10.7,14.4L18.3,10.6L24.8,4.6L32.7,0.2L36.9,1.5L43.1,4.9ZM0.9,2.9L0.9,2.9ZM2.6,2.8L7.4,1.5L3.5,6.8L2.6,2.8ZM0.7,0ZM0.6,0ZM1.4,0ZM1.1,0ZM0.4,0ZM0.5,0ZM0,0ZM0.5,0ZM1.2,0.3ZM3.2,0.1L3.2,0.1ZM5.6,0.1L0.1,3.6L5.6,0.1ZM0,1.8L0,1.8ZM0.9,0ZM0.6,0ZM0.6,0ZM0.7,0L6.6,4.9L0.7,0ZM0.6,0ZM0,0ZM2.6,0.6L2.6,0.6ZM1.7,0.8ZM0.8,0ZM0,0ZM1.6,0.8Z",hawaii:"M67.6,57L65.7,56.3L63.8,55.6L62.9,53.9L63.1,51.9L63.3,49.9L62.5,48.1L61.7,46.2L60.9,44.4L61.2,42.7L62.7,41.3L63.6,39.5L64.1,37.7L63.2,36L63.6,34.2L65.4,35.1L67.2,36.1L69.1,36.9L71,37.5L72.9,38.2L74.5,39.4L76.1,40.7L76.4,42.5L77.5,44.1L79.1,45.3L80.7,46.6L80.2,48L78.8,49.5L77.1,50.4L75.1,50.9L73.2,51.5L71.5,52.6L69.8,53.7L68.6,55.3ZM51.8,20.9L53.1,22.6L54.7,22.8L56.6,22.5L58.5,23.5L60.4,24.5L61.1,25.9L60.1,27.6L58.1,28L56,28.5L54.1,28.2L53.9,26.1L52.7,24.9L50.8,24.2L50.3,22.4L51.8,20.9ZM45.3,17.8L43.9,19.4L41.9,19.6L40,19.4L41.1,17.6L43.2,17.7ZM29.4,9.3L30.3,11.3L31.2,13.2L30.5,15.2L28.8,15.9L26.7,16L25.8,14L24.9,12.1L25.7,11.2L27.7,10.5L29.4,9.3ZM4.7,0L6.7,0.4L7.4,2.4L6.9,4.6L5.2,6L3.2,5.4L1.2,4.6L0,3.3L0.6,1.2L2.6,0.6Z",puertoRico:"M37.3,0L35.4,0.7L34.6,2.3L33.8,4.2L32.5,5.6L30.9,6.7L30.2,8.4L31.3,10.1L32.9,11.3L33.7,13.1L33.9,15L33.6,17L33.2,19L32.5,20.9L32.8,22.9L32.1,24.7L32.6,26.5L34.1,26.2L36,26.9L37.8,26.5L39.8,26.2L41.8,26.5L43.7,27L45.7,27.2L47.7,27L49.6,26.5L51.4,25.6L53.2,25.1L55.2,25.4L57.1,25.9L59.1,25.9L61.2,25.9L63.1,25.5L65,25.3L67,25.8L68.6,26.9L70.5,26.3L72.4,26.4L74.4,26.7L76.4,26.8L78.3,26.8L80,27.3L82,26.7L83.9,26.2L85.9,25.8L87.9,25.7L89.9,25.4L91.8,24.8L93.6,23.9L94.6,22.2L95.8,20.6L96.9,19L97.8,17.2L99.5,16.2L101.1,15L103,14.3L104.7,13.4L105.1,12.1L104,10.5L103.7,8.5L104.2,6.6L102.5,6.2L100.5,6.1L98.6,5.5L96.7,4.7L94.9,3.8L93,3.4L91,2.9L89,2.7L87,2.6L85,2.6L83.1,2.1L81.1,2.3L79.1,2.7L77.3,1.9L75.3,1.7L73.3,1.5L71.3,1.3L69.3,1.1L67.3,1.3L65.3,1.6L63.3,1.5L61.3,1.2L59.3,1.1L57.3,1.2L55.3,1.4L53.3,1.4L51.3,1.2L49.3,1.1L47.2,1.2L45.2,1.1L43.3,0.7L41.3,0.3L39.3,0.1L37.3,0ZM105,5.5ZM20.4,5.8ZM106.8,6.1ZM107.8,6.6ZM115.1,6.6ZM105.7,7ZM116.2,7L116.7,9.1L118.3,10.2L120.1,9.8L120.2,8.5L118.3,7.5L116.2,7ZM114,8ZM105.5,8.7ZM104.2,8.9ZM-1,16.4ZM114,16.5L112,16.7L110.1,17.3L108.2,17.8L106.5,18.7L106.8,20.1L108.7,20.4L110.7,20.1L112.6,19.7L114.6,19.3L116.5,18.8L118.3,18L117.9,17L116,16.7ZM2.8,18.2L0.6,18.5L-0.1,20.4L1.9,21.4L3.8,20.2L2.8,18.2ZM58.2,25.9ZM41.3,26.6ZM37,27.8ZM63.5,28.7Z",continentalUS:"M78.9,25.6L79.9,23.8L81.4,27.2L81.4,23.5L82.8,21.8L84.4,18.8L83.3,18.3L86.8,16.4L87.2,14.9L87.2,11.2L90,8.7L89.5,5.7L87.2,3L85.5,6.1L83.4,9.2L79.6,10.2L77.4,13.3L74.4,15L72.2,18L68.9,20.1L68,17.6L66.1,15.3L65.8,12.1L62.8,13L61.6,16.5L61.5,20.2L59.6,17.9L60,14L60,12.1L63.6,10.7L62.9,9.2L59,9.6L57.1,9L53.6,9.7L54.9,7.7L53.1,6.8L49.3,5.9L45.8,5.1L41.8,5.1L37.8,4.9L33.8,4.6L29.8,4.2L25.8,3.7L21.9,3L18,2.2L14,1.4L10.2,0.4L7.6,1.6L4.5,1.1L4.2,5L2.9,8.8L1.2,12.4L0.4,16.2L0.1,20.1L1.2,24L1.8,27.8L2.8,31.5L6,33.8L8.1,37.1L11.8,38.1L15.2,40.2L18.7,42.1L22.7,42.6L26.5,42.1L29.4,44.8L31.4,48.2L34.5,47.1L37.6,49.3L39.6,52.7L42,55.6L43.6,53.8L45.8,50.7L49.1,48.4L52.9,47.9L56,48.7L59.6,48.4L59.3,45.9L63.2,45.6L67,46.3L70.5,46.3L72.3,49.6L74.2,52.8L77,55.3L78,51.8L76.3,48.1L74.3,44.7L74.5,40.8L76.9,37.7L79.2,34.8L81.2,31.9L81.2,28.5L78.9,25.6ZM75.2,56.8ZM76.5,56.3L76.5,56.3ZM82,32.1L82,32.1ZM88.4,16.4ZM87.5,16.5ZM88.6,9.7ZM89.3,9.2ZM80.4,25.4ZM56.6,7.2ZM65.2,10.4ZM6.8,0.2ZM44.1,55.7L44.6,51.7L44.1,55.7ZM3.3,32.7ZM3.5,32.7ZM5.5,34.7ZM5.4,35.5Z"},orderScopedData:rf,outlineColor:function(t){var n=qs[t]||t;return Ss(n).l>.4?zs(n):function(t){var n=qs[t]||t,r=function t(){var n=_a(Fa,Fa);return n.copy=function(){return Ua(n,t())},ka.apply(n,arguments),ts(n)}().domain([0,.45]).range([4,2]);return Ss(n).brighter(r(Ss(n).l)).hex()}(n)},overrideTitleTooltip:function(t,n){var r=pt("#visa-viz-padding-container-g-"+t);n?0===r.select("title").size()&&r.append("title").text(""):r.select("title").remove()},placeDataLabels:function(t){var n,r,e,i,u,o=t.root,a=t.xScale,s=t.yScale,c=t.ordinalAccessor,f=t.valueAccessor,h=t.placement,l=t.layout,d=t.labelOffset,v=t.radius,p=t.chartType,b=t.normalized,w=t.avoidCollision;if("bar"===p)switch(h){case"auto":"vertical"===l?(n=function(t){return a(t[c])+a.bandwidth()/2},r=function(t){return s(Math.max(0,t[f]))},i="0.25em",u="middle"):"horizontal"===l&&(r=function(t){return s(t[c])+s.bandwidth()/2},n=function(t){return a(Math.max(0,t[f]))},i="0.25em",u="middle");break;case"top":n=function(t){return a(t[c])+a.bandwidth()/2},r=function(t){return s(Math.max(0,t[f]))},e="-.3em",u="middle";break;case"bottom":n=function(t){return a(t[c])+a.bandwidth()/2},r=function(t){return s(Math.min(0,t[f]))},e="-.3em",u="middle";break;case"left":r=function(t){return s(t[c])+s.bandwidth()/2},n=function(t){return a(Math.min(0,t[f]))},e=".2em",i=".3em",u="start";break;case"right":r=function(t){return s(t[c])+s.bandwidth()/2},n=function(t){return a(Math.max(0,t[f]))},e=".3em",i=".3em",u="start";break;case"top-left":r=function(t){return s(t[c])},n=function(t){return a(Math.min(0,t[f]))},e=".2em",i="-.2em",u="start";break;case"top-right":r=function(t){return s(t[c])},n=function(t){return a(Math.max(0,t[f]))},e="-3em",i="-.2em",u="start";break;case"bottom-left":r=function(t){return s(t[c])+s.bandwidth()},n=function(t){return a(Math.min(0,t[f]))},e=".2em",i="1em",u="start";break;case"bottom-right":r=function(t){return s(t[c])+s.bandwidth()},n=function(t){return a(Math.max(0,t[f]))},e="-3em",i="1em",u="start"}else if("stacked"===p){var m=function(t){return b?t.getSum():1};if("vertical"===l)switch(h){case"auto":n=function(t){return a(t[c])+a.bandwidth()/2},r=function(t){return(s(t.stackStart/m(t))+s(t.stackEnd/m(t)))/2},i="0.25em",u="middle";break;case"bottom":n=function(t){return a(t[c])+a.bandwidth()/2},r=function(t){return s(t.stackEnd/m(t))},e="-.3em",u="middle";break;case"top":n=function(t){return a(t[c])+a.bandwidth()/2},r=function(t){return s(t.stackStart/m(t))},e="1em",u="middle";break;case"middle":n=function(t){return a(t[c])+a.bandwidth()/2},r=function(t){return(s(t.stackStart/m(t))+s(t.stackEnd/m(t)))/2},e=".3em",u="middle"}else switch(h){case"auto":r=function(t){return s(t[c])+s.bandwidth()/2+4},n=function(t){return(a(t.stackStart)+a(t.stackEnd))/2},e="0em",u="middle";break;case"base":r=function(t){return s(t[c])+s.bandwidth()/2+4},n=function(t){return a(t.stackEnd<0?t.stackStart/m(t):t.stackEnd/m(t))},e=function(t){return t.stackEnd<0?"-.3em":".3em"},u=function(t){return t.stackEnd<0?"end":"start"};break;case"end":r=function(t){return s(t[c])+s.bandwidth()/2+4},n=function(t){return a(t.stackEnd<0?t.stackEnd/m(t):t.stackStart/m(t))},e=function(t){return t.stackEnd<0?".3em":"-.3em"},u=function(t){return t.stackEnd<0?"start":"end"};break;case"middle":r=function(t){return s(t[c])+s.bandwidth()/2+4},n=function(t){return(a(t.stackStart)+a(t.stackEnd))/2},e="0em",u="middle"}}else if("line"===p)switch(h){case"auto":case"top":n=function(t){return a(t[c])},r=function(t){return s(t[f])},i="-0.6em",u="middle";break;case"bottom":n=function(t){return a(t[c])},r=function(t){return s(t[f])+20},u="middle";break;case"left":r=function(t){return s(t[c])},n=function(t){return a(t[f])},e=".2em",u="start";break;case"right":r=function(t){return s(t[c])},n=function(t){return a(t[f])+4},e=".2em",u="start"}else if("parallel"===p)switch(h){case"auto":n=function(t){return a(t[c])},r=function(t){return s(t)},e="0em",i="0em",u="middle";break;case"bottom-right":n=function(t){return a(t[c])},r=function(t){return s(t)},e="0.45em",i="1.1em",u="start";break;case"top-right":n=function(t){return a(t[c])},r=function(t){return s(t)},e="0.45em",i="-0.3em",u="start";break;case"bottom-left":n=function(t){return a(t[c])},r=function(t){return s(t)},e="-0.45em",i="1.1em",u="end";break;case"top-left":n=function(t){return a(t[c])},r=function(t){return s(t)},e="-0.45em",i="-0.3em",u="end"}else if("dumbbell"===p)switch(h){case"ends":case"auto":n=function(t){return"vertical"===l?a(t[c]):a(t[f])-t.offset},r=function(t){return"vertical"===l?s(t[f])+t.offset:s(t[c])},e=function(t){return"vertical"===l&&t.offset>=0?"0.9em":"vertical"===l||t.offset>=0?"-0.3em":"0.3em"},i="vertical"===l?"0.0em":"0.3em",u=function(t){return"vertical"===l?"middle":t.offset>=0?"end":"start"};break;case"top":r=function(t){return s(t[c])-Math.abs(t.offset)},n=function(t){return a(t[f])},i="-0.3em",e="0.0em",u="middle";break;case"bottom":r=function(t){return s(t[c])+Math.abs(t.offset)},n=function(t){return a(t[f])+4},i="0.9em",e="0.0em",u="middle";break;case"left":r=function(t){return s(t[f])},n=function(t){return a(t[c])-4-Math.abs(t.offset)},i="0.0em",e="0.3em",u="end";break;case"right":r=function(t){return s(t[f])},n=function(t){return a(t[c])+4+Math.abs(t.offset)},i="0.0em",e="0.3em",u="start"}else if("pie"===p)switch(h){case"inside":i="0.1em",u="middle";break;case"outside":u=function(t,n){return t.endAngle<Math.PI||0===n?"start":"end"},n=function(t){return(v+5)*Math.sin((t.startAngle+t.endAngle)/2)},r=function(t){return-(v+5)*Math.cos((t.startAngle+t.endAngle)/2)},e=function(t){return t.endAngle<Math.PI?-d:d},i=function(t){return t.endAngle<Math.PI?d:-d};break;case"edge":n=function(t){return(v+10)*Math.sin(t.endAngle)},r=function(t){return-(v+10)*Math.cos(t.endAngle)},e=function(t){return t.endAngle<Math.PI?-d:d},i=function(t){return t.endAngle<Math.PI?d:-d},u=function(t,n){return t.endAngle<Math.PI||0===n?"start":"end"};break;case"note":u=function(t,n){return t.endAngle<Math.PI||0===n?"start":"end"},n=function(t){return(v+5)*Math.sin((t.startAngle+t.endAngle)/2)},r=function(t){return-(v+5)*Math.cos((t.startAngle+t.endAngle)/2)},e=function(t){return t.endAngle<Math.PI?-d:d},i=function(t){return t.endAngle<Math.PI?d+15:15-d};break;case"note_edge":n=function(t){return(v+10)*Math.sin(t.endAngle)},r=function(t){return-(v+10)*Math.cos(t.endAngle)},e=function(t){return t.endAngle<Math.PI?-d:d},i=function(t){return t.endAngle<Math.PI?d+15:15-d},u=function(t,n){return t.endAngle<Math.PI||0===n?"start":"end"}}else if("scatter"===p)switch(h){case"auto":case"middle":n=function(t){return a(t[c])},r=function(t){return s(t[f])},i="0.25em",u="middle";break;case"top":n=function(t){return a(t[c])},r=function(t){return s(t[f])-d},i="-0.35em",u="middle";break;case"bottom":n=function(t){return a(t[c])},r=function(t){return s(t[f])+d},i="1.1em",u="middle";break;case"left":n=function(t){return a(t[c])-d},r=function(t){return s(t[f])},e="-.4em",i="0.3em",u="end";break;case"right":n=function(t){return a(t[c])+d},r=function(t){return s(t[f])},e=".35em",i="0.3em",u="start"}else"heat-map"===p?(n=function(t){return a(t[c])+a.bandwidth()/2},r=function(t){return s(t[f])+s.bandwidth()/2},i=".5em",u="middle"):"world-map"===p&&(n=function(t){return a([+t[c],+t[f]])[0]},r=function(t){return a([+t[c],+t[f]])[1]});var y=w&&w.runOccupancyBitmap&&"auto"===h,g=w&&w.hideOnly&&!y;if("heat-map"!==p&&y&&!g){var M=or({labelSelection:w.labelSelection,avoidMarks:w.avoidMarks,validPositions:w.validPositions,offsets:w.offsets,accessors:w.accessors,size:w.size,boundsScope:w.boundsScope,hideOnly:g});return o.filter((function(t,n,r){return"false"!==r[n].getAttribute("data-label-hidden")})).attr("x",n).attr("y",r).attr("vertical"===l?"dy":"dx",e).attr("vertical"===l?"dx":"dy",i).attr("text-anchor",u),M}return"heat-map"!==p&&g?(o.each((function(t,o,a){pt(a[o]).attr("data-x",n).attr("data-use-dx",!0).attr("dx","vertical"===l?i:e).attr("data-y",r).attr("data-use-dy",!0).attr("dy","vertical"===l?e:i).attr("text-anchor",u)})),M=or({labelSelection:pt(".empty-stuff-vcc-do-not-use"),avoidMarks:w.avoidMarks,validPositions:["middle"],offsets:[1],accessors:w.accessors,size:w.size}),M=or({bitmaps:M,labelSelection:o,avoidMarks:[],validPositions:["middle"],offsets:[1],accessors:w.accessors,size:w.size,hideOnly:g}),o.attr("x",n).attr("y",r).attr("vertical"===l?"dy":"dx",e).attr("vertical"===l?"dx":"dy",i).attr("text-anchor",u),M):(o.attr("x",n).attr("y",r).attr("vertical"===l?"dy":"dx",e).attr("vertical"===l?"dx":"dy",i).attr("text-anchor",u),null)},propDefaultValues:uK,resolveLines:function(t,n,r){var i=[[],[]];if(t.length<1||n.length<1)return[];var u={},o={},a=[],s=0;for(s=0;s<t.length;s++)u[t[s][r]]=1;for(s=0,s=0;s<n.length;s++)o[n[s][r]]=1,a.push(u[n[s][r]]?0:1);s=0;var c=0,f=0;function h(r){var u=e({},t[f]),o=e({},n[c]);r&&(u[r]=!0,o[r]=!0),i[0].push(u),i[1].push(o)}function l(t,n){f+=t,c+=n}for(var d=0,v=!1;f<t.length&&c<n.length;){var p=0===c,b=a[c],w=!(v&&b||o[t[f][r]]),m=!v&&!w;if(w){var y=p||v?[0,0]:[0,-1],g=p||v?[1,0]:[1,1];l(y[0],y[1]),h("exit"),l(g[0],g[1])}else b?(h("enter"),l(0,1)):m&&(h(!1),l(1,1));!v&&f===t.length&&c<n.length?(v=!0,l(-1,0)):!v&&f<t.length&&c===n.length&&(v=!0,l(0,-1)),d+=w||b?1:0}return d?i:[]},roundTo:qt,symbols:Zc,sankey:function(t,n){var r,e,i,u=0,o=0,a=1,s=1,c=24,f=8,h=dK,l=aK,d=vK,v=pK,p=6;function b(){var t={nodes:d.apply(null,arguments),links:v.apply(null,arguments)};return w(t),m(t),y(t),g(t),M(t),wK(t),t}function w(t){var n=t.nodes,r=t.links;n.forEach((function(t,n){t.index=n,t.sourceLinks=[],t.targetLinks=[]}));var e=new Map(n.map((function(t,r){return[h(t,r,n),t]})));if(r.forEach((function(t,n){t.index=n;var r=t.source,i=t.target;"object"!=typeof r&&(r=t.source=bK(e,r)),"object"!=typeof i&&(i=t.target=bK(e,i)),r.sourceLinks.push(t),i.targetLinks.push(t)})),null!=i)for(var u=0,o=n;u<o.length;u++){var a=o[u],s=a.targetLinks;a.sourceLinks.sort(i),s.sort(i)}}function m(t){for(var n=0,r=t.nodes;n<r.length;n++){var e=r[n];e.value=void 0===e.fixedValue?Math.max(La(e.sourceLinks,lK),La(e.targetLinks,lK)):e.fixedValue}}function y(t){for(var n=t.nodes,r=n.length,e=new Set(n),i=new Set,u=0;e.size;){if(e.forEach((function(t){t.depth=u;for(var n=0,r=t.sourceLinks;n<r.length;n++)i.add(r[n].target)})),++u>r)throw new Error("circular link");e=i,i=new Set}}function g(t){for(var n=t.nodes,r=n.length,e=new Set(n),i=new Set,u=0;e.size;){if(e.forEach((function(t){t.height=u;for(var n=0,r=t.targetLinks;n<r.length;n++)i.add(r[n].source)})),++u>r)throw new Error("circular link");e=i,i=new Set}}function M(i){var h=n?function(t){for(var n=t.nodes,r=ga(n,(function(t){return t.depth}))+1,i=(a-u-c)/(r-1),o=new Array(r),s=0,f=n;s<f.length;s++){var h=f[s],d=Math.max(0,Math.min(r-1,Math.floor(l.call(null,h,r))));h.layer=d,h.x0=u+d*i,h.x1=h.x0+c,o[d]?o[d].push(h):o[d]=[h]}if(e)for(var v=0,p=o;v<p.length;v++)p[v].sort(e);return o}(i):function(t){for(var n=t.nodes,r=ga(n,(function(t){return t.depth})),i=(a-r*(2*c))/2,u=new Array(r+1),o=0,s=n;o<s.length;o++){var f=s[o],h=Math.max(0,Math.min(r,Math.floor(l.call(null,f,r+1))));f.layer=h,f.x0=i+f.depth*(2*c),f.x1=f.x0+c,u[h]?u[h].push(f):u[h]=[f]}if(e)for(var d=0,v=u;d<v.length;d++)v[d].sort(e);return u}(i);r=Math.min(f,(s-o)/(ga(h,(function(t){return t.length}))-1)),t?function(t){for(var n=ga(t,(function(t){return t.length})),e=[],i=0;i<n;++i){for(var u=0,a=0;a<t.length;++a)t[a][i]&&t[a][i].value&&t[a][i].value>u&&(u=t[a][i].value);e[i]=u}for(var c=(s-o-(n-1)*r)/La(e),f=0,h=t;f<h.length;f++){var l=h[f],d=o;for(i=0;i<l.length;++i){l[i].y1=d+e[i]*c,l[i].y0=l[i].y1-l[i].value*c,d=l[i].y1+r;for(var v=0,p=l[i].sourceLinks;v<p.length;v++){var b=p[v];b.width=b.value*c}}}}(h):function(t){for(var n=Na(t,(function(t){return(s-o-(t.length-1)*r)/La(t,lK)})),e=0,i=t;e<i.length;e++){for(var u=i[e],a=o,c=0,f=u;c<f.length;c++){(p=f[c]).y0=a,p.y1=a+p.value*n,a=p.y1+r;for(var h=0,l=p.sourceLinks;h<l.length;h++){var d=l[h];d.width=d.value*n}}a=(s-a+r)/(u.length+1);for(var v=0;v<u.length;++v){var p;(p=u[v]).y0+=a*(v+1),p.y1+=a*(v+1)}x(u)}}(h);for(var d=0;d<p;++d){var v=Math.pow(.99,d),b=Math.max(1-v,(d+1)/p);t||(L(h,v,b),N(h,v,b))}}function N(t,n,r){for(var i=1,u=t.length;i<u;++i){for(var o=t[i],a=0,s=o;a<s.length;a++){for(var c=s[a],f=0,h=0,l=0,d=c.targetLinks;l<d.length;l++){var v=d[l],p=v.source,b=v.value*(c.layer-p.layer);f+=S(p,c)*b,h+=b}if(h>0){var w=(f/h-c.y0)*n;c.y0+=w,c.y1+=w,T(c)}}void 0===e&&o.sort(hK),k(o,r)}}function L(t,n,r){for(var i=t.length-2;i>=0;--i){for(var u=t[i],o=0,a=u;o<a.length;o++){for(var s=a[o],c=0,f=0,h=0,l=s.sourceLinks;h<l.length;h++){var d=l[h],v=d.target,p=d.value*(v.layer-s.layer);c+=O(s,v)*p,f+=p}if(f>0){var b=(c/f-s.y0)*n;s.y0+=b,s.y1+=b,T(s)}}void 0===e&&u.sort(hK),k(u,r)}}function k(t,n){var e=t.length>>1,i=t[e];A(t,i.y0-r,e-1,n),E(t,i.y1+r,e+1,n),A(t,s,t.length-1,n),E(t,o,0,n)}function E(t,n,e,i){for(;e<t.length;++e){var u=t[e],o=(n-u.y0)*i;o>1e-6&&(u.y0+=o,u.y1+=o),n=u.y1+r}}function A(t,n,e,i){for(;e>=0;--e){var u=t[e],o=(u.y1-n)*i;o>1e-6&&(u.y0-=o,u.y1-=o),n=u.y0-r}}function T(t){var n=t.sourceLinks;if(void 0===i){for(var r=0,e=t.targetLinks;r<e.length;r++)e[r].source.sourceLinks.sort(fK);for(var u=0,o=n;u<o.length;u++)o[u].target.targetLinks.sort(cK)}}function x(t){if(void 0===i)for(var n=0,r=t;n<r.length;n++){var e=r[n],u=e.targetLinks;e.sourceLinks.sort(fK),u.sort(cK)}}function S(t,n){for(var e=t.y0-(t.sourceLinks.length-1)*r/2,i=0,u=t.sourceLinks;i<u.length;i++){var o=u[i],a=o.width;if(o.target===n)break;e+=a+r}for(var s=0,c=n.targetLinks;s<c.length;s++){var f=c[s];if(a=f.width,f.source===t)break;e-=a}return e}function O(t,n){for(var e=n.y0-(n.targetLinks.length-1)*r/2,i=0,u=n.targetLinks;i<u.length;i++){var o=u[i],a=o.width;if(o.source===t)break;e+=a+r}for(var s=0,c=t.sourceLinks;s<c.length;s++){var f=c[s];if(a=f.width,f.target===n)break;e-=a}return e}return b.update=function(t){return wK(t),t},b.nodeId=function(t){return arguments.length?(h="function"==typeof t?t:sK(t),b):h},b.nodeAlign=function(t){return arguments.length?(l="function"==typeof t?t:sK(t),b):l},b.nodeSort=function(t){return arguments.length?(e=t,b):e},b.nodeWidth=function(t){return arguments.length?(c=+t,b):c},b.nodePadding=function(t){return arguments.length?(f=r=+t,b):f},b.nodes=function(t){return arguments.length?(d="function"==typeof t?t:sK(t),b):d},b.links=function(t){return arguments.length?(v="function"==typeof t?t:sK(t),b):v},b.linkSort=function(t){return arguments.length?(i=t,b):i},b.size=function(t){return arguments.length?(u=o=0,a=+t[0],s=+t[1],b):[a-u,s-o]},b.extent=function(t){return arguments.length?(u=+t[0][0],a=+t[1][0],o=+t[0][1],s=+t[1][1],b):[[u,o],[a,s]]},b.iterations=function(t){return arguments.length?(p=+t,b):p},b},sankeyCenter:function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Na(t.sourceLinks,oK)-1:0},sankeyJustify:aK,sankeyLeft:function(t){return t.depth},sankeyLinkHorizontal:function(){return function(t){var n=un,r=on,e=nn,i=rn,u=null;function o(){var o,a=en.call(arguments),s=n.apply(this,a),c=r.apply(this,a);if(u||(u=o=Kt()),t(u,+e.apply(this,(a[0]=s,a)),+i.apply(this,a),+e.apply(this,(a[0]=c,a)),+i.apply(this,a)),o)return u=null,o+""||null}return o.source=function(t){return arguments.length?(n=t,o):n},o.target=function(t){return arguments.length?(r=t,o):r},o.x=function(t){return arguments.length?(e="function"==typeof t?t:Jt(+t),o):e},o.y=function(t){return arguments.length?(i="function"==typeof t?t:Jt(+t),o):i},o.context=function(t){return arguments.length?(u=null==t?null:t,o):u},o}(an).source(mK).target(yK)},sankeyRight:function(t,n){return n-1-t.height},transitionEndAll:rc,transformData:function(t,n,r,e){var i=[];return t.forEach((function(t){var u={};if(i.length)if(u=i.filter((function(r){return r[n]===t[n]})).pop()){var o=i.findIndex((function(r){return r[n]===t[n]}));u[t[r]]=t[e],i[o]=u}else(u={})[n]=t[n],u[t[r]]=t[e],i.push(u);else u[n]=t[n],u[t[r]]=t[e],i.push(u)})),i},scopeDataKeys:function(t,n,r,e){var i={},u={};if(n.nestedAccessors&&n.nestedAccessors instanceof Array&&n.nestedAccessors.forEach((function(n){n.objectName&&n.objectAccessors&&n.objectAccessors instanceof Array&&t[n.objectName]&&n.objectAccessors.forEach((function(r,e){t[n.objectName][r]instanceof Array?t[n.objectName][r].forEach((function(r,o){u[r]||(i[r]=n.formatAccessors&&n.formatAccessors instanceof Array&&t[n.objectName][n.formatAccessors[e]]?t[n.objectName][n.formatAccessors[e]][o]:void 0,u[r]=1)})):t[n.objectName][r]&&!u[t[n.objectName][r]]&&(i[t[n.objectName][r]]=n.formatAccessors?t[n.objectName][n.formatAccessors]:void 0,u[t[n.objectName][r]]=1)}))})),n.singleAccessors&&n.singleAccessors instanceof Array&&n.singleAccessors.forEach((function(n){if(t[n]&&!u[t[n]]){var e=function(t,n,r,e){if(n[t]){if(n[t]instanceof Array){var i=void 0;return n[t].forEach((function(t){i=t.charts.indexOf(e)>=0?r[t.type]:i||(i="")})),i}return r[n[t]]?r[n[t]]:""}return""}(n,tf,Qc,r);i[t[n]]=e,u[t[n]]=1}})),n.arrayAccessors&&n.arrayAccessors instanceof Array&&n.arrayAccessors.forEach((function(n){t[n]&&t[n].forEach((function(t){u[t]||"xAccessor"===t||"yAccessor"===t||(i[t]=void 0,u[t]=1)}))})),!e){var o={};rf(t,i,r).forEach((function(t){o[t]=i[t]})),i=o}return i},visaColors:qs,validateAccessibilityProps:function(t,n,r){void 0===n&&(n={}),void 0===r&&(r={context:{},data:{},uniqueID:"",annotations:[],misc:{}});var i=r.annotations,u=r.data,o=r.uniqueID,a=r.misc,s={context:r.context,abortEarly:!1},c=e(e(e({},n),{annotations:i,data:u,uniqueID:o}),a);AX(UZ,"validateBySchemaRefAndCondition",eK),AX(UZ,"validateBySchema",iK),AX(FZ,"validateBySchemaRefs",tK),AX(UZ,"validateBySchemaRef",nK),AX(FZ,"validateBySchemaRefBoolean",rK),function(t,n,r,e){var i=XX.RECOMMENDATIONS.SPECIALRECOMMENDATION.replace("CHARTNAME",t),u=XX.RECOMMENDATIONS.RECOMMENDATIONLOGGROUP.replace("CHARTNAME",t);try{MX().shape({title:UZ().validateBySchemaRef(XX.RECOMMENDATIONS.TITLE,EX("$mainTitle"),QX(TX,xX)),longDescription:UZ().validateBySchemaRefAndCondition(QX(FX,CX),QX(DX,HX),EX("contextExplanation"),XX.RECOMMENDATIONS.LONGDESCRIPTION),executiveSummary:UZ().validateBySchemaRefAndCondition(QX(SX,OX),QX(IX,RX),EX("purpose"),XX.RECOMMENDATIONS.EXECUTIVESUMMARY),statisticalNotes:UZ().validateBySchema(QX(jX,UX),XX.RECOMMENDATIONS.STATISTICALNOTES),structureNotes:UZ().validateBySchema(QX(_X,PX),XX.RECOMMENDATIONS.STRUCTURENOTES),elementDescriptionAccessor:UZ().nullable().validateBySchema(UZ().nullable().max(BX),XX.RECOMMENDATIONS.ELEMENTDESCRIPTIONACCESSOR),annotations:kX().of(MX().shape({note:MX().shape({title:UZ().validateBySchema(QX($X,YX),XX.RECOMMENDATIONS.ANNOTATIONNOTETITLE),label:UZ().validateBySchema(QX(qX,zX),XX.RECOMMENDATIONS.ANNOTATIONNOTELABEL)}),accessibilityDescription:UZ().validateBySchema(QX(VX,GX),XX.RECOMMENDATIONS.ANNOTATIONACCESSIBILITYDESCRIPTION)})),data:kX().nullable().of(MX().shape({note:UZ().nullable().validateBySchema(UZ().nullable().max(WX),XX.RECOMMENDATIONS.DATAELEMENTDESCRIPTIONACCESSOR)})),uniqueID:UZ().validateBySchema(UZ().required().trim().min(ZX),XX.RECOMMENDATIONS.UNIQUEID)}).validateSync(n,r),e||!n||n.disableValidation||console.log("%c "+i,"color: #0061C1;font-size:medium;")}catch(o){e||console.groupCollapsed("%c "+u,"font-size:medium;"),o.inner.map((function(t){console.log("%c "+t.path+": "+t.message,"font-size:medium;")}))}n||n.includeDataKeyNames||console.log("%c "+XX.RECOMMENDATIONS.INCLUDEDATAKEYNAMES,"font-size:medium;"),console.groupEnd()}(t,c,s,function(t,n,r){var e,i=XX.WARNINGS.WARNINGLOGGROUP.replace("CHARTNAME",t);try{return MX().shape({title:UZ().validateBySchemaRef(XX.WARNINGS.TITLE,EX("$mainTitle"),JX.requiredSchema),longDescription:UZ().validateBySchemaRef(XX.WARNINGS.LONGDESCRIPTION,EX("contextExplanation"),JX.requiredSchema),executiveSummary:UZ().validateBySchemaRef(XX.WARNINGS.EXECUTIVESUMMARY,EX("purpose"),JX.requiredSchema),elementsAreInterface:FZ().validateBySchemaRefBoolean(JX.requiredSchema,JX.requiredBooleanSchema,EX("$onClickFunc"),XX.WARNINGS.ONCLICKFUNC),normalized:FZ().validateBySchemaRefs(XX.WARNINGS.NORMALIZED,EX("$tooltipLabel"),EX("$dataLabel"),EX("$valueAccessor"),(e=/^normalized$/,UZ().required().trim().matches(e))),annotations:kX().of(MX().shape({accessibilityDescription:UZ().validateBySchemaRef(XX.WARNINGS.ANNOTATIONDESCRIPTION,EX("note"),JX.requiredSchema,JX.requiredSubSchema)}))}).validateSync(n,r),!1}catch(u){return console.groupCollapsed("%c "+i,"color: #C6003F;font-size:medium;"),u.inner.map((function(t){console.warn("%c "+t.path+": "+t.message,"color: #C6003F;font-size:medium;")})),!0}}(t,c,s))},fixNestedSparseness:function(t,n,r,e,i){var u={},o={};t.forEach((function(t){u[t[n]]=1,o[t[r]]||(o[t[r]]={}),o[t[r]][t[n]]=1}));var a=Object.keys(u);Object.keys(o).forEach((function(u){a.forEach((function(a){if(!o[u][a]){var s={};s[e]=i||0,s[n]=a,s[r]=u,t.push(s)}}))}))},prepareRenderChange:function(t){var n=t.selection,r=t.duration,e=t.easing,i=t.delay;if(!r)return n;var u=t.namespace||"generic-transition";n.interrupt(u);var o=n.transition(u).duration(r);return e&&(o=o.ease(e)),i&&(o=o.delay(i)),o}}))}()}(t={exports:{}},t.exports),t.exports);export{r as U};